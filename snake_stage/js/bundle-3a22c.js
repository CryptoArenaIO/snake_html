"use strict";(()=>{var Qw=Object.create;var wm=Object.defineProperty;var _x=Object.getOwnPropertyDescriptor;var Xw=Object.getOwnPropertyNames;var Zw=Object.getPrototypeOf,Jw=Object.prototype.hasOwnProperty;var te=(i,e)=>()=>(i&&(e=i(i=0)),e);var xx=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),T_=(i,e)=>{for(var t in e)wm(i,t,{get:e[t],enumerable:!0})},eE=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Xw(e))!Jw.call(i,s)&&s!==t&&wm(i,s,{get:()=>e[s],enumerable:!(r=_x(e,s))||r.enumerable});return i};var vx=(i,e,t)=>(t=i!=null?Qw(Zw(i)):{},eE(e||!i||!i.__esModule?wm(t,"default",{value:i,enumerable:!0}):t,i));var N=(i,e,t,r)=>{for(var s=r>1?void 0:r?_x(e,t):e,o=i.length-1,l;o>=0;o--)(l=i[o])&&(s=(r?l(e,t,s):l(s))||s);return r&&s&&wm(e,t,s),s};var tE=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var de=(i,e,t)=>(tE(i,e,"read from private field"),t?t.call(i):e.get(i)),fe=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)};var Ix=xx((F_,P_)=>{"use strict";(function(i,e){typeof F_=="object"&&typeof P_<"u"?P_.exports=e():typeof define=="function"&&define.amd?define(e):(i=typeof globalThis<"u"?globalThis:i||self).jsSHA=e()})(F_,function(){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function e(D,v,A,B){var F,C,Y,ee=v||[0],le=(A=A||0)>>>3,xe=B===-1?3:0;for(F=0;F<D.length;F+=1)C=(Y=F+le)>>>2,ee.length<=C&&ee.push(0),ee[C]|=D[F]<<8*(xe+B*(Y%4));return{value:ee,binLen:8*D.length+A}}function t(D,v,A){switch(v){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(D){case"HEX":return function(B,F,C){return function(Y,ee,le,xe){var Oe,be,Ce,Ze;if(Y.length%2!=0)throw new Error("String of HEX type must be in byte increments");var ue=ee||[0],ct=(le=le||0)>>>3,ot=xe===-1?3:0;for(Oe=0;Oe<Y.length;Oe+=2){if(be=parseInt(Y.substr(Oe,2),16),isNaN(be))throw new Error("String of HEX type contains invalid characters");for(Ce=(Ze=(Oe>>>1)+ct)>>>2;ue.length<=Ce;)ue.push(0);ue[Ce]|=be<<8*(ot+xe*(Ze%4))}return{value:ue,binLen:4*Y.length+le}}(B,F,C,A)};case"TEXT":return function(B,F,C){return function(Y,ee,le,xe,Oe){var be,Ce,Ze,ue,ct,ot,ht,Lt,Ji=0,Kt=le||[0],Di=(xe=xe||0)>>>3;if(ee==="UTF8")for(ht=Oe===-1?3:0,Ze=0;Ze<Y.length;Ze+=1)for(Ce=[],128>(be=Y.charCodeAt(Ze))?Ce.push(be):2048>be?(Ce.push(192|be>>>6),Ce.push(128|63&be)):55296>be||57344<=be?Ce.push(224|be>>>12,128|be>>>6&63,128|63&be):(Ze+=1,be=65536+((1023&be)<<10|1023&Y.charCodeAt(Ze)),Ce.push(240|be>>>18,128|be>>>12&63,128|be>>>6&63,128|63&be)),ue=0;ue<Ce.length;ue+=1){for(ct=(ot=Ji+Di)>>>2;Kt.length<=ct;)Kt.push(0);Kt[ct]|=Ce[ue]<<8*(ht+Oe*(ot%4)),Ji+=1}else for(ht=Oe===-1?2:0,Lt=ee==="UTF16LE"&&Oe!==1||ee!=="UTF16LE"&&Oe===1,Ze=0;Ze<Y.length;Ze+=1){for(be=Y.charCodeAt(Ze),Lt===!0&&(be=(ue=255&be)<<8|be>>>8),ct=(ot=Ji+Di)>>>2;Kt.length<=ct;)Kt.push(0);Kt[ct]|=be<<8*(ht+Oe*(ot%4)),Ji+=2}return{value:Kt,binLen:8*Ji+xe}}(B,v,F,C,A)};case"B64":return function(B,F,C){return function(Y,ee,le,xe){var Oe,be,Ce,Ze,ue,ct,ot=0,ht=ee||[0],Lt=(le=le||0)>>>3,Ji=xe===-1?3:0,Kt=Y.indexOf("=");if(Y.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(Y=Y.replace(/=/g,""),Kt!==-1&&Kt<Y.length)throw new Error("Invalid '=' found in base-64 string");for(Oe=0;Oe<Y.length;Oe+=4){for(Ze=Y.substr(Oe,4),Ce=0,be=0;be<Ze.length;be+=1)Ce|=i.indexOf(Ze.charAt(be))<<18-6*be;for(be=0;be<Ze.length-1;be+=1){for(ue=(ct=ot+Lt)>>>2;ht.length<=ue;)ht.push(0);ht[ue]|=(Ce>>>16-8*be&255)<<8*(Ji+xe*(ct%4)),ot+=1}}return{value:ht,binLen:8*ot+le}}(B,F,C,A)};case"BYTES":return function(B,F,C){return function(Y,ee,le,xe){var Oe,be,Ce,Ze,ue=ee||[0],ct=(le=le||0)>>>3,ot=xe===-1?3:0;for(be=0;be<Y.length;be+=1)Oe=Y.charCodeAt(be),Ce=(Ze=be+ct)>>>2,ue.length<=Ce&&ue.push(0),ue[Ce]|=Oe<<8*(ot+xe*(Ze%4));return{value:ue,binLen:8*Y.length+le}}(B,F,C,A)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(B,F,C){return function(Y,ee,le,xe){return e(new Uint8Array(Y),ee,le,xe)}(B,F,C,A)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(B,F,C){return e(B,F,C,A)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function r(D,v,A,B){switch(D){case"HEX":return function(F){return function(C,Y,ee,le){var xe,Oe,be="",Ce=Y/8,Ze=ee===-1?3:0;for(xe=0;xe<Ce;xe+=1)Oe=C[xe>>>2]>>>8*(Ze+ee*(xe%4)),be+="0123456789abcdef".charAt(Oe>>>4&15)+"0123456789abcdef".charAt(15&Oe);return le.outputUpper?be.toUpperCase():be}(F,v,A,B)};case"B64":return function(F){return function(C,Y,ee,le){var xe,Oe,be,Ce,Ze,ue="",ct=Y/8,ot=ee===-1?3:0;for(xe=0;xe<ct;xe+=3)for(Ce=xe+1<ct?C[xe+1>>>2]:0,Ze=xe+2<ct?C[xe+2>>>2]:0,be=(C[xe>>>2]>>>8*(ot+ee*(xe%4))&255)<<16|(Ce>>>8*(ot+ee*((xe+1)%4))&255)<<8|Ze>>>8*(ot+ee*((xe+2)%4))&255,Oe=0;Oe<4;Oe+=1)ue+=8*xe+6*Oe<=Y?i.charAt(be>>>6*(3-Oe)&63):le.b64Pad;return ue}(F,v,A,B)};case"BYTES":return function(F){return function(C,Y,ee){var le,xe,Oe="",be=Y/8,Ce=ee===-1?3:0;for(le=0;le<be;le+=1)xe=C[le>>>2]>>>8*(Ce+ee*(le%4))&255,Oe+=String.fromCharCode(xe);return Oe}(F,v,A)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(F){return function(C,Y,ee){var le,xe=Y/8,Oe=new ArrayBuffer(xe),be=new Uint8Array(Oe),Ce=ee===-1?3:0;for(le=0;le<xe;le+=1)be[le]=C[le>>>2]>>>8*(Ce+ee*(le%4))&255;return Oe}(F,v,A)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(F){return function(C,Y,ee){var le,xe=Y/8,Oe=ee===-1?3:0,be=new Uint8Array(xe);for(le=0;le<xe;le+=1)be[le]=C[le>>>2]>>>8*(Oe+ee*(le%4))&255;return be}(F,v,A)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],l=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],u="Chosen SHA variant is not supported";function p(D,v){var A,B,F=D.binLen>>>3,C=v.binLen>>>3,Y=F<<3,ee=4-F<<3;if(F%4!=0){for(A=0;A<C;A+=4)B=F+A>>>2,D.value[B]|=v.value[A>>>2]<<Y,D.value.push(0),D.value[B+1]|=v.value[A>>>2]>>>ee;return(D.value.length<<2)-4>=C+F&&D.value.pop(),{value:D.value,binLen:D.binLen+v.binLen}}return{value:D.value.concat(v.value),binLen:D.binLen+v.binLen}}function m(D){var v={outputUpper:!1,b64Pad:"=",outputLen:-1},A=D||{},B="Output length must be a multiple of 8";if(v.outputUpper=A.outputUpper||!1,A.b64Pad&&(v.b64Pad=A.b64Pad),A.outputLen){if(A.outputLen%8!=0)throw new Error(B);v.outputLen=A.outputLen}else if(A.shakeLen){if(A.shakeLen%8!=0)throw new Error(B);v.outputLen=A.shakeLen}if(typeof v.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof v.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return v}function d(D,v,A,B){var F=D+" must include a value and format";if(!v){if(!B)throw new Error(F);return B}if(v.value===void 0||!v.format)throw new Error(F);return t(v.format,v.encoding||"UTF8",A)(v.value)}var f=function(){function D(v,A,B){var F=B||{};if(this.t=A,this.i=F.encoding||"UTF8",this.numRounds=F.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=v,this.u=[],this.s=0,this.h=!1,this.v=0,this.A=!1,this.l=[],this.H=[]}return D.prototype.update=function(v){var A,B=0,F=this.S>>>5,C=this.p(v,this.u,this.s),Y=C.binLen,ee=C.value,le=Y>>>5;for(A=0;A<le;A+=F)B+this.S<=Y&&(this.m=this.R(ee.slice(A,A+F),this.m),B+=this.S);this.v+=B,this.u=ee.slice(B>>>5),this.s=Y%this.S,this.h=!0},D.prototype.getHash=function(v,A){var B,F,C=this.U,Y=m(A);if(this.T){if(Y.outputLen===-1)throw new Error("Output length must be specified in options");C=Y.outputLen}var ee=r(v,C,this.C,Y);if(this.A&&this.F)return ee(this.F(Y));for(F=this.K(this.u.slice(),this.s,this.v,this.B(this.m),C),B=1;B<this.numRounds;B+=1)this.T&&C%32!=0&&(F[F.length-1]&=16777215>>>24-C%32),F=this.K(F,C,0,this.L(this.o),C);return ee(F)},D.prototype.setHMACKey=function(v,A,B){if(!this.g)throw new Error("Variant does not support HMAC");if(this.h)throw new Error("Cannot set MAC key after calling update");var F=t(A,(B||{}).encoding||"UTF8",this.C);this.k(F(v))},D.prototype.k=function(v){var A,B=this.S>>>3,F=B/4-1;if(this.numRounds!==1)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(B<v.binLen/8&&(v.value=this.K(v.value,v.binLen,0,this.L(this.o),this.U));v.value.length<=F;)v.value.push(0);for(A=0;A<=F;A+=1)this.l[A]=909522486^v.value[A],this.H[A]=1549556828^v.value[A];this.m=this.R(this.l,this.m),this.v=this.S,this.A=!0},D.prototype.getHMAC=function(v,A){var B=m(A);return r(v,this.U,this.C,B)(this.Y())},D.prototype.Y=function(){var v;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");var A=this.K(this.u.slice(),this.s,this.v,this.B(this.m),this.U);return v=this.R(this.H,this.L(this.o)),v=this.K(A,this.U,this.S,v,this.U)},D}(),g=function(D,v){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,B){A.__proto__=B}||function(A,B){for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(A[F]=B[F])})(D,v)};function y(D,v){function A(){this.constructor=D}g(D,v),D.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}function x(D,v){return D<<v|D>>>32-v}function E(D,v){return D>>>v|D<<32-v}function _(D,v){return D>>>v}function S(D,v,A){return D^v^A}function M(D,v,A){return D&v^~D&A}function O(D,v,A){return D&v^D&A^v&A}function j(D){return E(D,2)^E(D,13)^E(D,22)}function Q(D,v){var A=(65535&D)+(65535&v);return(65535&(D>>>16)+(v>>>16)+(A>>>16))<<16|65535&A}function V(D,v,A,B){var F=(65535&D)+(65535&v)+(65535&A)+(65535&B);return(65535&(D>>>16)+(v>>>16)+(A>>>16)+(B>>>16)+(F>>>16))<<16|65535&F}function K(D,v,A,B,F){var C=(65535&D)+(65535&v)+(65535&A)+(65535&B)+(65535&F);return(65535&(D>>>16)+(v>>>16)+(A>>>16)+(B>>>16)+(F>>>16)+(C>>>16))<<16|65535&C}function W(D){return E(D,7)^E(D,18)^_(D,3)}function ne(D){return E(D,6)^E(D,11)^E(D,25)}function se(D){return[1732584193,4023233417,2562383102,271733878,3285377520]}function ce(D,v){var A,B,F,C,Y,ee,le,xe=[];for(A=v[0],B=v[1],F=v[2],C=v[3],Y=v[4],le=0;le<80;le+=1)xe[le]=le<16?D[le]:x(xe[le-3]^xe[le-8]^xe[le-14]^xe[le-16],1),ee=le<20?K(x(A,5),M(B,F,C),Y,1518500249,xe[le]):le<40?K(x(A,5),S(B,F,C),Y,1859775393,xe[le]):le<60?K(x(A,5),O(B,F,C),Y,2400959708,xe[le]):K(x(A,5),S(B,F,C),Y,3395469782,xe[le]),Y=C,C=F,F=x(B,30),B=A,A=ee;return v[0]=Q(A,v[0]),v[1]=Q(B,v[1]),v[2]=Q(F,v[2]),v[3]=Q(C,v[3]),v[4]=Q(Y,v[4]),v}function oe(D,v,A,B){for(var F,C=15+(v+65>>>9<<4),Y=v+A;D.length<=C;)D.push(0);for(D[v>>>5]|=128<<24-v%32,D[C]=4294967295&Y,D[C-1]=Y/4294967296|0,F=0;F<D.length;F+=16)B=ce(D.slice(F,F+16),B);return B}var Je=function(D){function v(A,B,F){var C=this;if(A!=="SHA-1")throw new Error(u);var Y=F||{};return(C=D.call(this,A,B,F)||this).g=!0,C.F=C.Y,C.C=-1,C.p=t(C.t,C.i,C.C),C.R=ce,C.B=function(ee){return ee.slice()},C.L=se,C.K=oe,C.m=[1732584193,4023233417,2562383102,271733878,3285377520],C.S=512,C.U=160,C.T=!1,Y.hmacKey&&C.k(d("hmacKey",Y.hmacKey,C.C)),C}return y(v,D),v}(f);function he(D){return D=="SHA-224"?o.slice():l.slice()}function Ae(D,v){var A,B,F,C,Y,ee,le,xe,Oe,be,Ce,Ze,ue=[];for(A=v[0],B=v[1],F=v[2],C=v[3],Y=v[4],ee=v[5],le=v[6],xe=v[7],Ce=0;Ce<64;Ce+=1)ue[Ce]=Ce<16?D[Ce]:V(E(Ze=ue[Ce-2],17)^E(Ze,19)^_(Ze,10),ue[Ce-7],W(ue[Ce-15]),ue[Ce-16]),Oe=K(xe,ne(Y),M(Y,ee,le),s[Ce],ue[Ce]),be=Q(j(A),O(A,B,F)),xe=le,le=ee,ee=Y,Y=Q(C,Oe),C=F,F=B,B=A,A=Q(Oe,be);return v[0]=Q(A,v[0]),v[1]=Q(B,v[1]),v[2]=Q(F,v[2]),v[3]=Q(C,v[3]),v[4]=Q(Y,v[4]),v[5]=Q(ee,v[5]),v[6]=Q(le,v[6]),v[7]=Q(xe,v[7]),v}var Le=function(D){function v(A,B,F){var C=this;if(A!=="SHA-224"&&A!=="SHA-256")throw new Error(u);var Y=F||{};return(C=D.call(this,A,B,F)||this).F=C.Y,C.g=!0,C.C=-1,C.p=t(C.t,C.i,C.C),C.R=Ae,C.B=function(ee){return ee.slice()},C.L=he,C.K=function(ee,le,xe,Oe){return function(be,Ce,Ze,ue,ct){for(var ot,ht=15+(Ce+65>>>9<<4),Lt=Ce+Ze;be.length<=ht;)be.push(0);for(be[Ce>>>5]|=128<<24-Ce%32,be[ht]=4294967295&Lt,be[ht-1]=Lt/4294967296|0,ot=0;ot<be.length;ot+=16)ue=Ae(be.slice(ot,ot+16),ue);return ct==="SHA-224"?[ue[0],ue[1],ue[2],ue[3],ue[4],ue[5],ue[6]]:ue}(ee,le,xe,Oe,A)},C.m=he(A),C.S=512,C.U=A==="SHA-224"?224:256,C.T=!1,Y.hmacKey&&C.k(d("hmacKey",Y.hmacKey,C.C)),C}return y(v,D),v}(f),R=function(D,v){this.N=D,this.I=v};function $e(D,v){var A;return v>32?(A=64-v,new R(D.I<<v|D.N>>>A,D.N<<v|D.I>>>A)):v!==0?(A=32-v,new R(D.N<<v|D.I>>>A,D.I<<v|D.N>>>A)):D}function Ie(D,v){var A;return v<32?(A=32-v,new R(D.N>>>v|D.I<<A,D.I>>>v|D.N<<A)):(A=64-v,new R(D.I>>>v|D.N<<A,D.N>>>v|D.I<<A))}function nt(D,v){return new R(D.N>>>v,D.I>>>v|D.N<<32-v)}function At(D,v,A){return new R(D.N&v.N^~D.N&A.N,D.I&v.I^~D.I&A.I)}function Xt(D,v,A){return new R(D.N&v.N^D.N&A.N^v.N&A.N,D.I&v.I^D.I&A.I^v.I&A.I)}function oi(D){var v=Ie(D,28),A=Ie(D,34),B=Ie(D,39);return new R(v.N^A.N^B.N,v.I^A.I^B.I)}function bt(D,v){var A,B;A=(65535&D.I)+(65535&v.I);var F=(65535&(B=(D.I>>>16)+(v.I>>>16)+(A>>>16)))<<16|65535&A;return A=(65535&D.N)+(65535&v.N)+(B>>>16),B=(D.N>>>16)+(v.N>>>16)+(A>>>16),new R((65535&B)<<16|65535&A,F)}function Bi(D,v,A,B){var F,C;F=(65535&D.I)+(65535&v.I)+(65535&A.I)+(65535&B.I);var Y=(65535&(C=(D.I>>>16)+(v.I>>>16)+(A.I>>>16)+(B.I>>>16)+(F>>>16)))<<16|65535&F;return F=(65535&D.N)+(65535&v.N)+(65535&A.N)+(65535&B.N)+(C>>>16),C=(D.N>>>16)+(v.N>>>16)+(A.N>>>16)+(B.N>>>16)+(F>>>16),new R((65535&C)<<16|65535&F,Y)}function Ti(D,v,A,B,F){var C,Y;C=(65535&D.I)+(65535&v.I)+(65535&A.I)+(65535&B.I)+(65535&F.I);var ee=(65535&(Y=(D.I>>>16)+(v.I>>>16)+(A.I>>>16)+(B.I>>>16)+(F.I>>>16)+(C>>>16)))<<16|65535&C;return C=(65535&D.N)+(65535&v.N)+(65535&A.N)+(65535&B.N)+(65535&F.N)+(Y>>>16),Y=(D.N>>>16)+(v.N>>>16)+(A.N>>>16)+(B.N>>>16)+(F.N>>>16)+(C>>>16),new R((65535&Y)<<16|65535&C,ee)}function Xi(D,v){return new R(D.N^v.N,D.I^v.I)}function Zi(D){var v=Ie(D,1),A=Ie(D,8),B=nt(D,7);return new R(v.N^A.N^B.N,v.I^A.I^B.I)}function hr(D){var v=Ie(D,14),A=Ie(D,18),B=Ie(D,41);return new R(v.N^A.N^B.N,v.I^A.I^B.I)}var Cn=[new R(s[0],3609767458),new R(s[1],602891725),new R(s[2],3964484399),new R(s[3],2173295548),new R(s[4],4081628472),new R(s[5],3053834265),new R(s[6],2937671579),new R(s[7],3664609560),new R(s[8],2734883394),new R(s[9],1164996542),new R(s[10],1323610764),new R(s[11],3590304994),new R(s[12],4068182383),new R(s[13],991336113),new R(s[14],633803317),new R(s[15],3479774868),new R(s[16],2666613458),new R(s[17],944711139),new R(s[18],2341262773),new R(s[19],2007800933),new R(s[20],1495990901),new R(s[21],1856431235),new R(s[22],3175218132),new R(s[23],2198950837),new R(s[24],3999719339),new R(s[25],766784016),new R(s[26],2566594879),new R(s[27],3203337956),new R(s[28],1034457026),new R(s[29],2466948901),new R(s[30],3758326383),new R(s[31],168717936),new R(s[32],1188179964),new R(s[33],1546045734),new R(s[34],1522805485),new R(s[35],2643833823),new R(s[36],2343527390),new R(s[37],1014477480),new R(s[38],1206759142),new R(s[39],344077627),new R(s[40],1290863460),new R(s[41],3158454273),new R(s[42],3505952657),new R(s[43],106217008),new R(s[44],3606008344),new R(s[45],1432725776),new R(s[46],1467031594),new R(s[47],851169720),new R(s[48],3100823752),new R(s[49],1363258195),new R(s[50],3750685593),new R(s[51],3785050280),new R(s[52],3318307427),new R(s[53],3812723403),new R(s[54],2003034995),new R(s[55],3602036899),new R(s[56],1575990012),new R(s[57],1125592928),new R(s[58],2716904306),new R(s[59],442776044),new R(s[60],593698344),new R(s[61],3733110249),new R(s[62],2999351573),new R(s[63],3815920427),new R(3391569614,3928383900),new R(3515267271,566280711),new R(3940187606,3454069534),new R(4118630271,4000239992),new R(116418474,1914138554),new R(174292421,2731055270),new R(289380356,3203993006),new R(460393269,320620315),new R(685471733,587496836),new R(852142971,1086792851),new R(1017036298,365543100),new R(1126000580,2618297676),new R(1288033470,3409855158),new R(1501505948,4234509866),new R(1607167915,987167468),new R(1816402316,1246189591)];function dr(D){return D==="SHA-384"?[new R(3418070365,o[0]),new R(1654270250,o[1]),new R(2438529370,o[2]),new R(355462360,o[3]),new R(1731405415,o[4]),new R(41048885895,o[5]),new R(3675008525,o[6]),new R(1203062813,o[7])]:[new R(l[0],4089235720),new R(l[1],2227873595),new R(l[2],4271175723),new R(l[3],1595750129),new R(l[4],2917565137),new R(l[5],725511199),new R(l[6],4215389547),new R(l[7],327033209)]}function ji(D,v){var A,B,F,C,Y,ee,le,xe,Oe,be,Ce,Ze,ue,ct,ot,ht,Lt=[];for(A=v[0],B=v[1],F=v[2],C=v[3],Y=v[4],ee=v[5],le=v[6],xe=v[7],Ce=0;Ce<80;Ce+=1)Ce<16?(Ze=2*Ce,Lt[Ce]=new R(D[Ze],D[Ze+1])):Lt[Ce]=Bi((ue=Lt[Ce-2],ct=void 0,ot=void 0,ht=void 0,ct=Ie(ue,19),ot=Ie(ue,61),ht=nt(ue,6),new R(ct.N^ot.N^ht.N,ct.I^ot.I^ht.I)),Lt[Ce-7],Zi(Lt[Ce-15]),Lt[Ce-16]),Oe=Ti(xe,hr(Y),At(Y,ee,le),Cn[Ce],Lt[Ce]),be=bt(oi(A),Xt(A,B,F)),xe=le,le=ee,ee=Y,Y=bt(C,Oe),C=F,F=B,B=A,A=bt(Oe,be);return v[0]=bt(A,v[0]),v[1]=bt(B,v[1]),v[2]=bt(F,v[2]),v[3]=bt(C,v[3]),v[4]=bt(Y,v[4]),v[5]=bt(ee,v[5]),v[6]=bt(le,v[6]),v[7]=bt(xe,v[7]),v}var Fr=function(D){function v(A,B,F){var C=this;if(A!=="SHA-384"&&A!=="SHA-512")throw new Error(u);var Y=F||{};return(C=D.call(this,A,B,F)||this).F=C.Y,C.g=!0,C.C=-1,C.p=t(C.t,C.i,C.C),C.R=ji,C.B=function(ee){return ee.slice()},C.L=dr,C.K=function(ee,le,xe,Oe){return function(be,Ce,Ze,ue,ct){for(var ot,ht=31+(Ce+129>>>10<<5),Lt=Ce+Ze;be.length<=ht;)be.push(0);for(be[Ce>>>5]|=128<<24-Ce%32,be[ht]=4294967295&Lt,be[ht-1]=Lt/4294967296|0,ot=0;ot<be.length;ot+=32)ue=ji(be.slice(ot,ot+32),ue);return ct==="SHA-384"?[(ue=ue)[0].N,ue[0].I,ue[1].N,ue[1].I,ue[2].N,ue[2].I,ue[3].N,ue[3].I,ue[4].N,ue[4].I,ue[5].N,ue[5].I]:[ue[0].N,ue[0].I,ue[1].N,ue[1].I,ue[2].N,ue[2].I,ue[3].N,ue[3].I,ue[4].N,ue[4].I,ue[5].N,ue[5].I,ue[6].N,ue[6].I,ue[7].N,ue[7].I]}(ee,le,xe,Oe,A)},C.m=dr(A),C.S=1024,C.U=A==="SHA-384"?384:512,C.T=!1,Y.hmacKey&&C.k(d("hmacKey",Y.hmacKey,C.C)),C}return y(v,D),v}(f),fr=[new R(0,1),new R(0,32898),new R(2147483648,32906),new R(2147483648,2147516416),new R(0,32907),new R(0,2147483649),new R(2147483648,2147516545),new R(2147483648,32777),new R(0,138),new R(0,136),new R(0,2147516425),new R(0,2147483658),new R(0,2147516555),new R(2147483648,139),new R(2147483648,32905),new R(2147483648,32771),new R(2147483648,32770),new R(2147483648,128),new R(0,32778),new R(2147483648,2147483658),new R(2147483648,2147516545),new R(2147483648,32896),new R(0,2147483649),new R(2147483648,2147516424)],Is=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function xo(D){var v,A=[];for(v=0;v<5;v+=1)A[v]=[new R(0,0),new R(0,0),new R(0,0),new R(0,0),new R(0,0)];return A}function Gu(D){var v,A=[];for(v=0;v<5;v+=1)A[v]=D[v].slice();return A}function ks(D,v){var A,B,F,C,Y,ee,le,xe,Oe,be=[],Ce=[];if(D!==null)for(B=0;B<D.length;B+=2)v[(B>>>1)%5][(B>>>1)/5|0]=Xi(v[(B>>>1)%5][(B>>>1)/5|0],new R(D[B+1],D[B]));for(A=0;A<24;A+=1){for(C=xo(),B=0;B<5;B+=1)be[B]=(Y=v[B][0],ee=v[B][1],le=v[B][2],xe=v[B][3],Oe=v[B][4],new R(Y.N^ee.N^le.N^xe.N^Oe.N,Y.I^ee.I^le.I^xe.I^Oe.I));for(B=0;B<5;B+=1)Ce[B]=Xi(be[(B+4)%5],$e(be[(B+1)%5],1));for(B=0;B<5;B+=1)for(F=0;F<5;F+=1)v[B][F]=Xi(v[B][F],Ce[B]);for(B=0;B<5;B+=1)for(F=0;F<5;F+=1)C[F][(2*B+3*F)%5]=$e(v[B][F],Is[B][F]);for(B=0;B<5;B+=1)for(F=0;F<5;F+=1)v[B][F]=Xi(C[B][F],new R(~C[(B+1)%5][F].N&C[(B+2)%5][F].N,~C[(B+1)%5][F].I&C[(B+2)%5][F].I));v[0][0]=Xi(v[0][0],fr[A])}return v}function Xa(D){var v,A,B=0,F=[0,0],C=[4294967295&D,D/4294967296&2097151];for(v=6;v>=0;v--)(A=C[v>>2]>>>8*v&255)===0&&B===0||(F[B+1>>2]|=A<<8*(B+1),B+=1);return B=B!==0?B:1,F[0]|=B,{value:B+1>4?F:[F[0]],binLen:8+8*B}}function vo(D){return p(Xa(D.binLen),D)}function Za(D,v){var A,B=Xa(v),F=v>>>2,C=(F-(B=p(B,D)).value.length%F)%F;for(A=0;A<C;A++)B.value.push(0);return B.value}var Vu=function(D){function v(A,B,F){var C=this,Y=6,ee=0,le=F||{};if((C=D.call(this,A,B,F)||this).numRounds!==1){if(le.kmacKey||le.hmacKey)throw new Error("Cannot set numRounds with MAC");if(C.o==="CSHAKE128"||C.o==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(C.C=1,C.p=t(C.t,C.i,C.C),C.R=ks,C.B=Gu,C.L=xo,C.m=xo(),C.T=!1,A){case"SHA3-224":C.S=ee=1152,C.U=224,C.g=!0,C.F=C.Y;break;case"SHA3-256":C.S=ee=1088,C.U=256,C.g=!0,C.F=C.Y;break;case"SHA3-384":C.S=ee=832,C.U=384,C.g=!0,C.F=C.Y;break;case"SHA3-512":C.S=ee=576,C.U=512,C.g=!0,C.F=C.Y;break;case"SHAKE128":Y=31,C.S=ee=1344,C.U=-1,C.T=!0,C.g=!1,C.F=null;break;case"SHAKE256":Y=31,C.S=ee=1088,C.U=-1,C.T=!0,C.g=!1,C.F=null;break;case"KMAC128":Y=4,C.S=ee=1344,C.M(F),C.U=-1,C.T=!0,C.g=!1,C.F=C.X;break;case"KMAC256":Y=4,C.S=ee=1088,C.M(F),C.U=-1,C.T=!0,C.g=!1,C.F=C.X;break;case"CSHAKE128":C.S=ee=1344,Y=C.O(F),C.U=-1,C.T=!0,C.g=!1,C.F=null;break;case"CSHAKE256":C.S=ee=1088,Y=C.O(F),C.U=-1,C.T=!0,C.g=!1,C.F=null;break;default:throw new Error(u)}return C.K=function(xe,Oe,be,Ce,Ze){return function(ue,ct,ot,ht,Lt,Ji,Kt){var Di,Io,Ss=0,An=[],ws=Lt>>>5,Wu=ct>>>5;for(Di=0;Di<Wu&&ct>=Lt;Di+=ws)ht=ks(ue.slice(Di,Di+ws),ht),ct-=Lt;for(ue=ue.slice(Di),ct%=Lt;ue.length<ws;)ue.push(0);for(ue[(Di=ct>>>3)>>2]^=Ji<<Di%4*8,ue[ws-1]^=2147483648,ht=ks(ue,ht);32*An.length<Kt&&(Io=ht[Ss%5][Ss/5|0],An.push(Io.I),!(32*An.length>=Kt));)An.push(Io.N),64*(Ss+=1)%Lt==0&&(ks(null,ht),Ss=0);return An}(xe,Oe,0,Ce,ee,Y,Ze)},le.hmacKey&&C.k(d("hmacKey",le.hmacKey,C.C)),C}return y(v,D),v.prototype.O=function(A,B){var F=function(le){var xe=le||{};return{funcName:d("funcName",xe.funcName,1,{value:[],binLen:0}),customization:d("Customization",xe.customization,1,{value:[],binLen:0})}}(A||{});B&&(F.funcName=B);var C=p(vo(F.funcName),vo(F.customization));if(F.customization.binLen!==0||F.funcName.binLen!==0){for(var Y=Za(C,this.S>>>3),ee=0;ee<Y.length;ee+=this.S>>>5)this.m=this.R(Y.slice(ee,ee+(this.S>>>5)),this.m),this.v+=this.S;return 4}return 31},v.prototype.M=function(A){var B=function(Y){var ee=Y||{};return{kmacKey:d("kmacKey",ee.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:d("Customization",ee.customization,1,{value:[],binLen:0})}}(A||{});this.O(A,B.funcName);for(var F=Za(vo(B.kmacKey),this.S>>>3),C=0;C<F.length;C+=this.S>>>5)this.m=this.R(F.slice(C,C+(this.S>>>5)),this.m),this.v+=this.S;this.A=!0},v.prototype.X=function(A){var B=p({value:this.u.slice(),binLen:this.s},function(F){var C,Y,ee=0,le=[0,0],xe=[4294967295&F,F/4294967296&2097151];for(C=6;C>=0;C--)(Y=xe[C>>2]>>>8*C&255)==0&&ee===0||(le[ee>>2]|=Y<<8*ee,ee+=1);return le[(ee=ee!==0?ee:1)>>2]|=ee<<8*ee,{value:ee+1>4?le:[le[0]],binLen:8+8*ee}}(A.outputLen));return this.K(B.value,B.binLen,this.v,this.B(this.m),A.outputLen)},v}(f);return function(){function D(v,A,B){if(v=="SHA-1")this.j=new Je(v,A,B);else if(v=="SHA-224"||v=="SHA-256")this.j=new Le(v,A,B);else if(v=="SHA-384"||v=="SHA-512")this.j=new Fr(v,A,B);else{if(v!="SHA3-224"&&v!="SHA3-256"&&v!="SHA3-384"&&v!="SHA3-512"&&v!="SHAKE128"&&v!="SHAKE256"&&v!="CSHAKE128"&&v!="CSHAKE256"&&v!="KMAC128"&&v!="KMAC256")throw new Error(u);this.j=new Vu(v,A,B)}}return D.prototype.update=function(v){this.j.update(v)},D.prototype.getHash=function(v,A){return this.j.getHash(v,A)},D.prototype.setHMACKey=function(v,A,B){this.j.setHMACKey(v,A,B)},D.prototype.getHMAC=function(v,A){return this.j.getHMAC(v,A)},D}()})});var kx,Sx=te(()=>{"use strict";kx="1.0.8"});var qt,So=te(()=>{"use strict";Sx();qt=class i extends Error{constructor(e,t={}){let r=t.cause instanceof i?t.cause.details:t.cause?.message?t.cause.message:t.details,s=t.cause instanceof i&&t.cause.docsPath||t.docsPath,o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${kx}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.shortMessage=e}}});function Gi(i,e){return i.exec(e)?.groups}var U_,H_,Gm,Mc=te(()=>{"use strict";U_=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,H_=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Gm=/^\(.+?\).*?$/});function Vm(i){let e=i.type;if(wx.test(i.type)&&"components"in i){e="(";let t=i.components.length;for(let s=0;s<t;s++){let o=i.components[s];e+=Vm(o),s<t-1&&(e+=", ")}let r=Gi(wx,i.type);return e+=`)${r?.array??""}`,Vm({...i,type:e})}return"indexed"in i&&i.indexed&&(e=`${e} indexed`),i.name?`${e} ${i.name}`:e}var wx,Ex=te(()=>{"use strict";Mc();wx=/^tuple(?<array>(\[(\d*)\])*)$/});function wo(i){let e="",t=i.length;for(let r=0;r<t;r++){let s=i[r];e+=Vm(s),r!==t-1&&(e+=", ")}return e}var Lx=te(()=>{"use strict";Ex()});function Cs(i){return i.type==="function"?`function ${i.name}(${wo(i.inputs)})${i.stateMutability&&i.stateMutability!=="nonpayable"?` ${i.stateMutability}`:""}${i.outputs?.length?` returns (${wo(i.outputs)})`:""}`:i.type==="event"?`event ${i.name}(${wo(i.inputs)})`:i.type==="error"?`error ${i.name}(${wo(i.inputs)})`:i.type==="constructor"?`constructor(${wo(i.inputs)})${i.stateMutability==="payable"?" payable":""}`:i.type==="fallback"?`fallback() external${i.stateMutability==="payable"?" payable":""}`:"receive() external payable"}var Tx=te(()=>{"use strict";Lx()});function Ax(i){return Cx.test(i)}function Mx(i){return Gi(Cx,i)}function Bx(i){return Rx.test(i)}function Dx(i){return Gi(Rx,i)}function Nx(i){return Ox.test(i)}function Fx(i){return Gi(Ox,i)}function Eo(i){return Px.test(i)}function Ux(i){return Gi(Px,i)}function zx(i){return Hx.test(i)}function jx(i){return Gi(Hx,i)}function Vx(i){return Gx.test(i)}function Wx(i){return Gi(Gx,i)}function Kx(i){return iE.test(i)}var Cx,Rx,Ox,Px,Hx,Gx,iE,$x,Wm,Rc=te(()=>{"use strict";Mc();Cx=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;Rx=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;Ox=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;Px=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;Hx=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;Gx=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;iE=/^receive\(\) external payable$/;$x=new Set(["indexed"]),Wm=new Set(["calldata","memory","storage"])});var Km,$m,qm,Ym=te(()=>{"use strict";So();Km=class extends qt{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},$m=class extends qt{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},qm=class extends qt{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}});var Qm,Xm,Zm,Jm,eh,z_=te(()=>{"use strict";So();Qm=class extends qt{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},Xm=class extends qt{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},Zm=class extends qt{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},Jm=class extends qt{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},eh=class extends qt{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}});var Ur,th,ih,j_=te(()=>{"use strict";So();Ur=class extends qt{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},th=class extends qt{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},ih=class extends qt{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}});var rh,qx=te(()=>{"use strict";So();rh=class extends qt{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}});var nh,Yx=te(()=>{"use strict";So();nh=class extends qt{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}});function Qx(i,e,t){let r="";if(t)for(let s of Object.entries(t)){if(!s)continue;let o="";for(let l of s[1])o+=`[${l.type}${l.name?`:${l.name}`:""}]`;r+=`(${s[0]}{${o}})`}return e?`${e}:${i}${r}`:i}var sh,Xx=te(()=>{"use strict";sh=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]])});function Bc(i,e={}){if(Nx(i))return rE(i,e);if(Bx(i))return nE(i,e);if(Ax(i))return sE(i,e);if(zx(i))return oE(i,e);if(Vx(i))return aE(i);if(Kx(i))return{type:"receive",stateMutability:"payable"};throw new th({signature:i})}function rE(i,e={}){let t=Fx(i);if(!t)throw new Ur({signature:i,type:"function"});let r=gr(t.parameters),s=[],o=r.length;for(let u=0;u<o;u++)s.push(Rn(r[u],{modifiers:Wm,structs:e,type:"function"}));let l=[];if(t.returns){let u=gr(t.returns),p=u.length;for(let m=0;m<p;m++)l.push(Rn(u[m],{modifiers:Wm,structs:e,type:"function"}))}return{name:t.name,type:"function",stateMutability:t.stateMutability??"nonpayable",inputs:s,outputs:l}}function nE(i,e={}){let t=Dx(i);if(!t)throw new Ur({signature:i,type:"event"});let r=gr(t.parameters),s=[],o=r.length;for(let l=0;l<o;l++)s.push(Rn(r[l],{modifiers:$x,structs:e,type:"event"}));return{name:t.name,type:"event",inputs:s}}function sE(i,e={}){let t=Mx(i);if(!t)throw new Ur({signature:i,type:"error"});let r=gr(t.parameters),s=[],o=r.length;for(let l=0;l<o;l++)s.push(Rn(r[l],{structs:e,type:"error"}));return{name:t.name,type:"error",inputs:s}}function oE(i,e={}){let t=jx(i);if(!t)throw new Ur({signature:i,type:"constructor"});let r=gr(t.parameters),s=[],o=r.length;for(let l=0;l<o;l++)s.push(Rn(r[l],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:t.stateMutability??"nonpayable",inputs:s}}function aE(i){let e=Wx(i);if(!e)throw new Ur({signature:i,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}function Rn(i,e){let t=Qx(i,e?.type,e?.structs);if(sh.has(t))return sh.get(t);let r=Gm.test(i),s=Gi(r?cE:lE,i);if(!s)throw new Qm({param:i});if(s.name&&mE(s.name))throw new Xm({param:i,name:s.name});let o=s.name?{name:s.name}:{},l=s.modifier==="indexed"?{indexed:!0}:{},u=e?.structs??{},p,m={};if(r){p="tuple";let f=gr(s.type),g=[],y=f.length;for(let x=0;x<y;x++)g.push(Rn(f[x],{structs:u}));m={components:g}}else if(s.type in u)p="tuple",m={components:u[s.type]};else if(uE.test(s.type))p=`${s.type}256`;else if(p=s.type,e?.type!=="struct"&&!G_(p))throw new qm({type:p});if(s.modifier){if(!e?.modifiers?.has?.(s.modifier))throw new Zm({param:i,type:e?.type,modifier:s.modifier});if(Wm.has(s.modifier)&&!hE(p,!!s.array))throw new Jm({param:i,type:e?.type,modifier:s.modifier})}let d={type:`${p}${s.array??""}`,...o,...l,...m};return sh.set(t,d),d}function gr(i,e=[],t="",r=0){let s=i.trim().length;for(let o=0;o<s;o++){let l=i[o],u=i.slice(o+1);switch(l){case",":return r===0?gr(u,[...e,t.trim()]):gr(u,e,`${t}${l}`,r);case"(":return gr(u,e,`${t}${l}`,r+1);case")":return gr(u,e,`${t}${l}`,r-1);default:return gr(u,e,`${t}${l}`,r)}}if(t==="")return e;if(r!==0)throw new nh({current:t,depth:r});return e.push(t.trim()),e}function G_(i){return i==="address"||i==="bool"||i==="function"||i==="string"||U_.test(i)||H_.test(i)}function mE(i){return i==="address"||i==="bool"||i==="function"||i==="string"||i==="tuple"||U_.test(i)||H_.test(i)||pE.test(i)}function hE(i,e){return e||i==="bytes"||i==="string"||i==="tuple"}var lE,cE,uE,pE,oh=te(()=>{"use strict";Mc();Ym();z_();j_();Yx();Xx();Rc();lE=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,cE=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,uE=/^u?int$/;pE=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/});function ah(i){let e={},t=i.length;for(let l=0;l<t;l++){let u=i[l];if(!Eo(u))continue;let p=Ux(u);if(!p)throw new Ur({signature:u,type:"struct"});let m=p.properties.split(";"),d=[],f=m.length;for(let g=0;g<f;g++){let x=m[g].trim();if(!x)continue;let E=Rn(x,{type:"struct"});d.push(E)}if(!d.length)throw new ih({signature:u});e[p.name]=d}let r={},s=Object.entries(e),o=s.length;for(let l=0;l<o;l++){let[u,p]=s[l];r[u]=Zx(p,e)}return r}function Zx(i,e,t=new Set){let r=[],s=i.length;for(let o=0;o<s;o++){let l=i[o];if(Gm.test(l.type))r.push(l);else{let p=Gi(dE,l.type);if(!p?.type)throw new eh({abiParameter:l});let{array:m,type:d}=p;if(d in e){if(t.has(d))throw new rh({type:d});r.push({...l,type:`tuple${m??""}`,components:Zx(e[d]??[],e,new Set([...t,d]))})}else if(G_(d))r.push(l);else throw new $m({type:d})}}return r}var dE,V_=te(()=>{"use strict";Mc();Ym();z_();j_();qx();Rc();oh();dE=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/});function lh(i){let e=ah(i),t=[],r=i.length;for(let s=0;s<r;s++){let o=i[s];Eo(o)||t.push(Bc(o,e))}return t}var Jx=te(()=>{"use strict";Rc();V_();oh()});function ch(i){let e;if(typeof i=="string")e=Bc(i);else{let t=ah(i),r=i.length;for(let s=0;s<r;s++){let o=i[s];if(!Eo(o)){e=Bc(o,t);break}}}if(!e)throw new Km({signature:i});return e}var ev=te(()=>{"use strict";Ym();Rc();V_();oh()});var uh=te(()=>{"use strict";Tx();Jx();ev()});function Ci(i,{includeName:e=!1}={}){if(i.type!=="function"&&i.type!=="event"&&i.type!=="error")throw new ph(i.type);return`${i.name}(${Dc(i.inputs,{includeName:e})})`}function Dc(i,{includeName:e=!1}={}){return i?i.map(t=>gE(t,{includeName:e})).join(e?", ":","):""}function gE(i,{includeName:e}){return i.type.startsWith("tuple")?`(${Dc(i.components,{includeName:e})})${i.type.slice(5)}`:i.type+(e&&i.name?` ${i.name}`:"")}var As=te(()=>{"use strict";Jt()});function Gt(i,{strict:e=!0}={}){return!i||typeof i!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(i):i.startsWith("0x")}var br=te(()=>{"use strict"});function dt(i){return Gt(i,{strict:!1})?Math.ceil((i.length-2)/2):i.length}var yr=te(()=>{"use strict";br()});var W_,tv=te(()=>{"use strict";W_="2.26.3"});function iv(i,e){return e?.(i)?i:i&&typeof i=="object"&&"cause"in i&&i.cause!==void 0?iv(i.cause,e):e?null:i}var K_,H,rt=te(()=>{"use strict";tv();K_={getDocsUrl:({docsBaseUrl:i,docsPath:e="",docsSlug:t})=>e?`${i??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${W_}`},H=class i extends Error{constructor(e,t={}){let r=(()=>t.cause instanceof i?t.cause.details:t.cause?.message?t.cause.message:t.details)(),s=(()=>t.cause instanceof i&&t.cause.docsPath||t.docsPath)(),o=K_.getDocsUrl?.({...t,docsPath:s}),l=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...K_.version?[`Version: ${K_.version}`]:[]].join(`
`);super(l,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=W_}walk(e){return iv(this,e)}}});var mh,Oc,Lo,er,hh,dh,fh,To,gh,Co,Nc,Bn,bh,yh,_h,_r,Hr,xh,vh,Ih,ph,Jt=te(()=>{"use strict";As();yr();rt();mh=class extends H{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}},Oc=class extends H{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}},Lo=class extends H{constructor({data:e,params:t,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Dc(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}},er=class extends H{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},hh=class extends H{constructor({expectedLength:e,givenLength:t,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${t}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},dh=class extends H{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${dt(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},fh=class extends H{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},To=class extends H{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},gh=class extends H{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}},Co=class extends H{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}},Nc=class extends H{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:t,name:"AbiEventNotFoundError"})}},Bn=class extends H{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t,name:"AbiFunctionNotFoundError"})}},bh=class extends H{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}},yh=class extends H{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ci(e.abiItem)}\`, and`,`\`${t.type}\` in \`${Ci(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},_h=class extends H{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}},_r=class extends H{constructor({abiItem:e,data:t,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Dc(r,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=s}},Hr=class extends H{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${Ci(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},xh=class extends H{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t,name:"InvalidAbiEncodingType"})}},vh=class extends H{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t,name:"InvalidAbiDecodingType"})}},Ih=class extends H{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},ph=class extends H{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}});var Fc,Pc,Uc,Sh=te(()=>{"use strict";rt();Fc=class extends H{constructor({offset:e,position:t,size:r}){super(`Slice ${t==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Pc=class extends H{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}},Uc=class extends H{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}});function Dn(i,{dir:e,size:t=32}={}){return typeof i=="string"?cn(i,{dir:e,size:t}):bE(i,{dir:e,size:t})}function cn(i,{dir:e,size:t=32}={}){if(t===null)return i;let r=i.replace("0x","");if(r.length>t*2)throw new Pc({size:Math.ceil(r.length/2),targetSize:t,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function bE(i,{dir:e,size:t=32}={}){if(t===null)return i;if(i.length>t)throw new Pc({size:i.length,targetSize:t,type:"bytes"});let r=new Uint8Array(t);for(let s=0;s<t;s++){let o=e==="right";r[o?s:t-s-1]=i[o?s:i.length-s-1]}return r}var wh=te(()=>{"use strict";Sh()});var Ao,Eh,Lh,Th,Hc=te(()=>{"use strict";rt();Ao=class extends H{constructor({max:e,min:t,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}},Eh=class extends H{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},Lh=class extends H{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},Th=class extends H{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}});function fi(i,{dir:e="left"}={}){let t=typeof i=="string"?i.replace("0x",""):i,r=0;for(let s=0;s<t.length-1&&t[e==="left"?s:t.length-s-1].toString()==="0";s++)r++;return t=e==="left"?t.slice(r):t.slice(0,t.length-r),typeof i=="string"?(t.length===1&&e==="right"&&(t=`${t}0`),`0x${t.length%2===1?`0${t}`:t}`):t}var Mo=te(()=>{"use strict"});function Oi(i,{size:e}){if(dt(i)>e)throw new Th({givenSize:dt(i),maxSize:e})}function Rt(i,e={}){let{signed:t}=e;e.size&&Oi(i,{size:e.size});let r=BigInt(i);if(!t)return r;let s=(i.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function $_(i,e={}){let t=i;if(e.size&&(Oi(t,{size:e.size}),t=fi(t)),fi(t)==="0x00")return!1;if(fi(t)==="0x01")return!0;throw new Lh(t)}function Yt(i,e={}){return Number(Rt(i,e))}var gi=te(()=>{"use strict";Hc();yr();Mo()});function Re(i,e={}){return typeof i=="number"||typeof i=="bigint"?we(i,e):typeof i=="string"?xr(i,e):typeof i=="boolean"?Ch(i,e):ut(i,e)}function Ch(i,e={}){let t=`0x${Number(i)}`;return typeof e.size=="number"?(Oi(t,{size:e.size}),Dn(t,{size:e.size})):t}function ut(i,e={}){let t="";for(let s=0;s<i.length;s++)t+=yE[i[s]];let r=`0x${t}`;return typeof e.size=="number"?(Oi(r,{size:e.size}),Dn(r,{dir:"right",size:e.size})):r}function we(i,e={}){let{signed:t,size:r}=e,s=BigInt(i),o;r?t?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof i=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let l=typeof o=="bigint"&&t?-o-1n:0;if(o&&s>o||s<l){let p=typeof i=="bigint"?"n":"";throw new Ao({max:o?`${o}${p}`:void 0,min:`${l}${p}`,signed:t,size:r,value:`${i}${p}`})}let u=`0x${(t&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Dn(u,{size:r}):u}function xr(i,e={}){let t=_E.encode(i);return ut(t,e)}var yE,_E,ze=te(()=>{"use strict";Hc();wh();gi();yE=Array.from({length:256},(i,e)=>e.toString(16).padStart(2,"0"));_E=new TextEncoder});function tr(i,e={}){return typeof i=="number"||typeof i=="bigint"?IE(i,e):typeof i=="boolean"?vE(i,e):Gt(i)?ei(i,e):vr(i,e)}function vE(i,e={}){let t=new Uint8Array(1);return t[0]=Number(i),typeof e.size=="number"?(Oi(t,{size:e.size}),Dn(t,{size:e.size})):t}function rv(i){if(i>=un.zero&&i<=un.nine)return i-un.zero;if(i>=un.A&&i<=un.F)return i-(un.A-10);if(i>=un.a&&i<=un.f)return i-(un.a-10)}function ei(i,e={}){let t=i;e.size&&(Oi(t,{size:e.size}),t=Dn(t,{dir:"right",size:e.size}));let r=t.slice(2);r.length%2&&(r=`0${r}`);let s=r.length/2,o=new Uint8Array(s);for(let l=0,u=0;l<s;l++){let p=rv(r.charCodeAt(u++)),m=rv(r.charCodeAt(u++));if(p===void 0||m===void 0)throw new H(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);o[l]=p*16+m}return o}function IE(i,e){let t=we(i,e);return ei(t)}function vr(i,e={}){let t=xE.encode(i);return typeof e.size=="number"?(Oi(t,{size:e.size}),Dn(t,{dir:"right",size:e.size})):t}var xE,un,ai=te(()=>{"use strict";rt();br();wh();gi();ze();xE=new TextEncoder;un={zero:48,nine:57,A:65,F:70,a:97,f:102}});function zc(i){if(!Number.isSafeInteger(i)||i<0)throw new Error("positive integer expected, got "+i)}function kE(i){return i instanceof Uint8Array||ArrayBuffer.isView(i)&&i.constructor.name==="Uint8Array"}function On(i,...e){if(!kE(i))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(i.length))throw new Error("Uint8Array expected of length "+e+", got length="+i.length)}function nv(i){if(typeof i!="function"||typeof i.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zc(i.outputLen),zc(i.blockLen)}function pn(i,e=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(e&&i.finished)throw new Error("Hash#digest() has already been called")}function Ah(i,e){On(i);let t=e.outputLen;if(i.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}var jc=te(()=>{"use strict"});function SE(i,e=!1){return e?{h:Number(i&Mh),l:Number(i>>sv&Mh)}:{h:Number(i>>sv&Mh)|0,l:Number(i&Mh)|0}}function ov(i,e=!1){let t=new Uint32Array(i.length),r=new Uint32Array(i.length);for(let s=0;s<i.length;s++){let{h:o,l}=SE(i[s],e);[t[s],r[s]]=[o,l]}return[t,r]}var Mh,sv,av,lv,cv,uv,pv=te(()=>{"use strict";Mh=BigInt(4294967295),sv=BigInt(32);av=(i,e,t)=>i<<t|e>>>32-t,lv=(i,e,t)=>e<<t|i>>>32-t,cv=(i,e,t)=>e<<t-32|i>>>64-t,uv=(i,e,t)=>i<<t-32|e>>>64-t});var Ms,mv=te(()=>{"use strict";Ms=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function hv(i){return new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4))}function Rh(i){return new DataView(i.buffer,i.byteOffset,i.byteLength)}function Ir(i,e){return i<<32-e|i>>>e}function wE(i){return i<<24&4278190080|i<<8&16711680|i>>>8&65280|i>>>24&255}function Y_(i){for(let e=0;e<i.length;e++)i[e]=wE(i[e])}function EE(i){if(typeof i!="string")throw new Error("utf8ToBytes expected string, got "+typeof i);return new Uint8Array(new TextEncoder().encode(i))}function Fn(i){return typeof i=="string"&&(i=EE(i)),On(i),i}function dv(...i){let e=0;for(let r=0;r<i.length;r++){let s=i[r];On(s),e+=s.length}let t=new Uint8Array(e);for(let r=0,s=0;r<i.length;r++){let o=i[r];t.set(o,s),s+=o.length}return t}function Bh(i){let e=r=>i().update(Fn(r)).digest(),t=i();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>i(),e}function fv(i){let e=(r,s)=>i(s).update(Fn(r)).digest(),t=i({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=r=>i(r),e}function Dh(i=32){if(Ms&&typeof Ms.getRandomValues=="function")return Ms.getRandomValues(new Uint8Array(i));if(Ms&&typeof Ms.randomBytes=="function")return Ms.randomBytes(i);throw new Error("crypto.getRandomValues must be defined")}var q_,Nn,Rs=te(()=>{"use strict";mv();jc();q_=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();Nn=class{clone(){return this._cloneInto()}}});function DE(i,e=24){let t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)t[l]=i[l]^i[l+10]^i[l+20]^i[l+30]^i[l+40];for(let l=0;l<10;l+=2){let u=(l+8)%10,p=(l+2)%10,m=t[p],d=t[p+1],f=gv(m,d,1)^t[u],g=bv(m,d,1)^t[u+1];for(let y=0;y<50;y+=10)i[l+y]^=f,i[l+y+1]^=g}let s=i[2],o=i[3];for(let l=0;l<24;l++){let u=_v[l],p=gv(s,o,u),m=bv(s,o,u),d=yv[l];s=i[d],o=i[d+1],i[d]=p,i[d+1]=m}for(let l=0;l<50;l+=10){for(let u=0;u<10;u++)t[u]=i[l+u];for(let u=0;u<10;u++)i[l+u]^=~t[(u+2)%10]&t[(u+4)%10]}i[0]^=RE[r],i[1]^=BE[r]}t.fill(0)}var yv,_v,xv,LE,Gc,TE,CE,AE,ME,RE,BE,gv,bv,Oh,Pn,rD,nD,sD,oD,aD,Nh,lD,cD,vv,uD,pD,Q_=te(()=>{"use strict";jc();pv();Rs();yv=[],_v=[],xv=[],LE=BigInt(0),Gc=BigInt(1),TE=BigInt(2),CE=BigInt(7),AE=BigInt(256),ME=BigInt(113);for(let i=0,e=Gc,t=1,r=0;i<24;i++){[t,r]=[r,(2*t+3*r)%5],yv.push(2*(5*r+t)),_v.push((i+1)*(i+2)/2%64);let s=LE;for(let o=0;o<7;o++)e=(e<<Gc^(e>>CE)*ME)%AE,e&TE&&(s^=Gc<<(Gc<<BigInt(o))-Gc);xv.push(s)}[RE,BE]=ov(xv,!0),gv=(i,e,t)=>t>32?cv(i,e,t):av(i,e,t),bv=(i,e,t)=>t>32?uv(i,e,t):lv(i,e,t);Oh=class i extends Nn{constructor(e,t,r,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,zc(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=hv(this.state)}keccak(){q_||Y_(this.state32),DE(this.state32,this.rounds),q_||Y_(this.state32),this.posOut=0,this.pos=0}update(e){pn(this);let{blockLen:t,state:r}=this;e=Fn(e);let s=e.length;for(let o=0;o<s;){let l=Math.min(t-this.pos,s-o);for(let u=0;u<l;u++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,t&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){pn(this,!1),On(e),this.finish();let t=this.state,{blockLen:r}=this;for(let s=0,o=e.length;s<o;){this.posOut>=r&&this.keccak();let l=Math.min(r-this.posOut,o-s);e.set(t.subarray(this.posOut,this.posOut+l),s),this.posOut+=l,s+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ah(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:s,rounds:o,enableXOF:l}=this;return e||(e=new i(t,r,s,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=s,e.enableXOF=l,e.destroyed=this.destroyed,e}},Pn=(i,e,t)=>Bh(()=>new Oh(e,i,t)),rD=Pn(6,144,224/8),nD=Pn(6,136,256/8),sD=Pn(6,104,384/8),oD=Pn(6,72,512/8),aD=Pn(1,144,224/8),Nh=Pn(1,136,256/8),lD=Pn(1,104,384/8),cD=Pn(1,72,512/8),vv=(i,e,t)=>fv((r={})=>new Oh(e,i,r.dkLen===void 0?t:r.dkLen,!0)),uD=vv(31,168,128/8),pD=vv(31,136,256/8)});function Tt(i,e){let t=e||"hex",r=Nh(Gt(i,{strict:!1})?tr(i):i);return t==="bytes"?r:Re(r)}var kr=te(()=>{"use strict";Q_();br();ai();ze()});function Iv(i){return OE(i)}var OE,kv=te(()=>{"use strict";ai();kr();OE=i=>Tt(tr(i))});function Sv(i){let e=!0,t="",r=0,s="",o=!1;for(let l=0;l<i.length;l++){let u=i[l];if(["(",")",","].includes(u)&&(e=!0),u==="("&&r++,u===")"&&r--,!!e){if(r===0){if(u===" "&&["event","function",""].includes(s))s="";else if(s+=u,u===")"){o=!0;break}continue}if(u===" "){i[l-1]!==","&&t!==","&&t!==",("&&(t="",e=!1);continue}s+=u,t+=u}}if(!o)throw new H("Unable to normalize signature.");return s}var wv=te(()=>{"use strict";rt()});var Ev,Lv=te(()=>{"use strict";uh();wv();Ev=i=>{let e=(()=>typeof i=="string"?i:Cs(i))();return Sv(e)}});function Fh(i){return Iv(Ev(i))}var X_=te(()=>{"use strict";kv();Lv()});var Un,Vc=te(()=>{"use strict";X_();Un=Fh});var Mt,zr=te(()=>{"use strict";rt();Mt=class extends H{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var jr,Wc=te(()=>{"use strict";jr=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let r=this.keys().next().value;r&&this.delete(r)}return this}}});function mn(i,e){if(Z_.has(`${i}.${e}`))return Z_.get(`${i}.${e}`);let t=e?`${e}${i.toLowerCase()}`:i.substring(2).toLowerCase(),r=Tt(vr(t),"bytes"),s=(e?t.substring(`${e}0x`.length):t).split("");for(let l=0;l<40;l+=2)r[l>>1]>>4>=8&&s[l]&&(s[l]=s[l].toUpperCase()),(r[l>>1]&15)>=8&&s[l+1]&&(s[l+1]=s[l+1].toUpperCase());let o=`0x${s.join("")}`;return Z_.set(`${i}.${e}`,o),o}function Ph(i,e){if(!wt(i,{strict:!1}))throw new Mt({address:i});return mn(i,e)}var Z_,Bs=te(()=>{"use strict";zr();ai();kr();Wc();Sr();Z_=new jr(8192)});function wt(i,e){let{strict:t=!0}=e??{},r=`${i}.${t}`;if(J_.has(r))return J_.get(r);let s=(()=>NE.test(i)?i.toLowerCase()===i?!0:t?mn(i)===i:!0:!1)();return J_.set(r,s),s}var NE,J_,Sr=te(()=>{"use strict";Wc();Bs();NE=/^0x[a-fA-F0-9]{40}$/,J_=new jr(8192)});function Ai(i){return typeof i[0]=="string"?bi(i):FE(i)}function FE(i){let e=0;for(let s of i)e+=s.length;let t=new Uint8Array(e),r=0;for(let s of i)t.set(s,r),r+=s.length;return t}function bi(i){return`0x${i.reduce((e,t)=>e+t.replace("0x",""),"")}`}var ir=te(()=>{"use strict"});function hn(i,e,t,{strict:r}={}){return Gt(i,{strict:!1})?t0(i,e,t,{strict:r}):e0(i,e,t,{strict:r})}function Tv(i,e){if(typeof e=="number"&&e>0&&e>dt(i)-1)throw new Fc({offset:e,position:"start",size:dt(i)})}function Cv(i,e,t){if(typeof e=="number"&&typeof t=="number"&&dt(i)!==t-e)throw new Fc({offset:t,position:"end",size:dt(i)})}function e0(i,e,t,{strict:r}={}){Tv(i,e);let s=i.slice(e,t);return r&&Cv(s,e,t),s}function t0(i,e,t,{strict:r}={}){Tv(i,e);let s=`0x${i.replace("0x","").slice((e??0)*2,(t??i.length)*2)}`;return r&&Cv(s,e,t),s}var Ds=te(()=>{"use strict";Sh();br();yr()});var Av,Uh,i0=te(()=>{"use strict";Av=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Uh=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/});function Vi(i,e){if(i.length!==e.length)throw new fh({expectedLength:i.length,givenLength:e.length});let t=PE({params:i,values:e}),r=n0(t);return r.length===0?"0x":r}function PE({params:i,values:e}){let t=[];for(let r=0;r<i.length;r++)t.push(r0({param:i[r],value:e[r]}));return t}function r0({param:i,value:e}){let t=Hh(i.type);if(t){let[r,s]=t;return HE(e,{length:r,param:{...i,type:s}})}if(i.type==="tuple")return WE(e,{param:i});if(i.type==="address")return UE(e);if(i.type==="bool")return jE(e);if(i.type.startsWith("uint")||i.type.startsWith("int")){let r=i.type.startsWith("int"),[,,s="256"]=Uh.exec(i.type)??[];return GE(e,{signed:r,size:Number(s)})}if(i.type.startsWith("bytes"))return zE(e,{param:i});if(i.type==="string")return VE(e);throw new xh(i.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function n0(i){let e=0;for(let o=0;o<i.length;o++){let{dynamic:l,encoded:u}=i[o];l?e+=32:e+=dt(u)}let t=[],r=[],s=0;for(let o=0;o<i.length;o++){let{dynamic:l,encoded:u}=i[o];l?(t.push(we(e+s,{size:32})),r.push(u),s+=dt(u)):t.push(u)}return Ai([...t,...r])}function UE(i){if(!wt(i))throw new Mt({address:i});return{dynamic:!1,encoded:cn(i.toLowerCase())}}function HE(i,{length:e,param:t}){let r=e===null;if(!Array.isArray(i))throw new Ih(i);if(!r&&i.length!==e)throw new hh({expectedLength:e,givenLength:i.length,type:`${t.type}[${e}]`});let s=!1,o=[];for(let l=0;l<i.length;l++){let u=r0({param:t,value:i[l]});u.dynamic&&(s=!0),o.push(u)}if(r||s){let l=n0(o);if(r){let u=we(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Ai([u,l]):u}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:Ai(o.map(({encoded:l})=>l))}}function zE(i,{param:e}){let[,t]=e.type.split("bytes"),r=dt(i);if(!t){let s=i;return r%32!==0&&(s=cn(s,{dir:"right",size:Math.ceil((i.length-2)/2/32)*32})),{dynamic:!0,encoded:Ai([cn(we(r,{size:32})),s])}}if(r!==Number.parseInt(t))throw new dh({expectedSize:Number.parseInt(t),value:i});return{dynamic:!1,encoded:cn(i,{dir:"right"})}}function jE(i){if(typeof i!="boolean")throw new H(`Invalid boolean value: "${i}" (type: ${typeof i}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:cn(Ch(i))}}function GE(i,{signed:e,size:t=256}){if(typeof t=="number"){let r=2n**(BigInt(t)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(i>r||i<s)throw new Ao({max:r.toString(),min:s.toString(),signed:e,size:t/8,value:i.toString()})}return{dynamic:!1,encoded:we(i,{size:32,signed:e})}}function VE(i){let e=xr(i),t=Math.ceil(dt(e)/32),r=[];for(let s=0;s<t;s++)r.push(cn(hn(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ai([cn(we(dt(e),{size:32})),...r])}}function WE(i,{param:e}){let t=!1,r=[];for(let s=0;s<e.components.length;s++){let o=e.components[s],l=Array.isArray(i)?s:o.name,u=r0({param:o,value:i[l]});r.push(u),u.dynamic&&(t=!0)}return{dynamic:t,encoded:t?n0(r):Ai(r.map(({encoded:s})=>s))}}function Hh(i){let e=i.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var Hn=te(()=>{"use strict";Jt();zr();rt();Hc();Sr();ir();wh();yr();Ds();ze();i0()});var Ro,zh=te(()=>{"use strict";Ds();X_();Ro=i=>hn(Fh(i),0,4)});function Gr(i){let{abi:e,args:t=[],name:r}=i,s=Gt(r,{strict:!1}),o=e.filter(u=>s?u.type==="function"?Ro(u)===r:u.type==="event"?Un(u)===r:!1:"name"in u&&u.name===r);if(o.length===0)return;if(o.length===1)return o[0];let l;for(let u of o){if(!("inputs"in u))continue;if(!t||t.length===0){if(!u.inputs||u.inputs.length===0)return u;continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==t.length)continue;if(t.every((m,d)=>{let f="inputs"in u&&u.inputs[d];return f?s0(m,f):!1})){if(l&&"inputs"in l&&l.inputs){let m=Mv(u.inputs,l.inputs,t);if(m)throw new yh({abiItem:u,type:m[0]},{abiItem:l,type:m[1]})}l=u}}return l||o[0]}function s0(i,e){let t=typeof i,r=e.type;switch(r){case"address":return wt(i,{strict:!1});case"bool":return t==="boolean";case"function":return t==="string";case"string":return t==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,o)=>s0(Object.values(i)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?t==="number"||t==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?t==="string"||i instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(i)&&i.every(s=>s0(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Mv(i,e,t){for(let r in i){let s=i[r],o=e[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Mv(s.components,o.components,t[r]);let l=[s.type,o.type];if((()=>l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?wt(t[r],{strict:!1}):l.includes("address")&&l.includes("bytes")?wt(t[r],{strict:!1}):!1)())return l}}var Bo=te(()=>{"use strict";Jt();br();Sr();Vc();zh()});function at(i){return typeof i=="string"?{address:i,type:"json-rpc"}:i}var ti=te(()=>{"use strict"});function Ov(i){let{abi:e,args:t,functionName:r}=i,s=e[0];if(r){let o=Gr({abi:e,args:t,name:r});if(!o)throw new Bn(r,{docsPath:Dv});s=o}if(s.type!=="function")throw new Bn(void 0,{docsPath:Dv});return{abi:[s],functionName:Ro(Ci(s))}}var Dv,Nv=te(()=>{"use strict";Jt();zh();As();Bo();Dv="/docs/contract/encodeFunctionData"});function Bt(i){let{args:e}=i,{abi:t,functionName:r}=(()=>i.abi.length===1&&i.functionName?.startsWith("0x")?i:Ov(i))(),s=t[0],o=r,l="inputs"in s&&s.inputs?Vi(s.inputs,e??[]):void 0;return bi([o,l??"0x"])}var rr=te(()=>{"use strict";ir();Hn();Nv()});var Gh,Fv,Pv,Vh=te(()=>{"use strict";Gh={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Fv={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Pv={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}});var Kc,Do,Wh,o0=te(()=>{"use strict";rt();Kc=class extends H{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Do=class extends H{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Wh=class extends H{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function Oo(i,{recursiveReadLimit:e=8192}={}){let t=Object.create(KE);return t.bytes=i,t.dataView=new DataView(i.buffer,i.byteOffset,i.byteLength),t.positionReadCount=new Map,t.recursiveReadLimit=e,t}var KE,Kh=te(()=>{"use strict";o0();KE={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Wh({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(i){if(i<0||i>this.bytes.length-1)throw new Do({length:this.bytes.length,position:i})},decrementPosition(i){if(i<0)throw new Kc({offset:i});let e=this.position-i;this.assertPosition(e),this.position=e},getReadCount(i){return this.positionReadCount.get(i||this.position)||0},incrementPosition(i){if(i<0)throw new Kc({offset:i});let e=this.position+i;this.assertPosition(e),this.position=e},inspectByte(i){let e=i??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(i,e){let t=e??this.position;return this.assertPosition(t+i-1),this.bytes.subarray(t,t+i)},inspectUint8(i){let e=i??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(i){let e=i??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(i){let e=i??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(i){let e=i??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(i){this.assertPosition(this.position),this.bytes[this.position]=i,this.position++},pushBytes(i){this.assertPosition(this.position+i.length-1),this.bytes.set(i,this.position),this.position+=i.length},pushUint8(i){this.assertPosition(this.position),this.bytes[this.position]=i,this.position++},pushUint16(i){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,i),this.position+=2},pushUint24(i){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,i>>8),this.dataView.setUint8(this.position+2,i&255),this.position+=3},pushUint32(i){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,i),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let i=this.inspectByte();return this.position++,i},readBytes(i,e){this.assertReadLimit(),this._touch();let t=this.inspectBytes(i);return this.position+=e??i,t},readUint8(){this.assertReadLimit(),this._touch();let i=this.inspectUint8();return this.position+=1,i},readUint16(){this.assertReadLimit(),this._touch();let i=this.inspectUint16();return this.position+=2,i},readUint24(){this.assertReadLimit(),this._touch();let i=this.inspectUint24();return this.position+=3,i},readUint32(){this.assertReadLimit(),this._touch();let i=this.inspectUint32();return this.position+=4,i},get remaining(){return this.bytes.length-this.position},setPosition(i){let e=this.position;return this.assertPosition(i),this.position=i,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let i=this.getReadCount();this.positionReadCount.set(this.position,i+1),i>0&&this.recursiveReadCount++}}});function Uv(i,e={}){typeof e.size<"u"&&Oi(i,{size:e.size});let t=ut(i,e);return Rt(t,e)}function Hv(i,e={}){let t=i;if(typeof e.size<"u"&&(Oi(t,{size:e.size}),t=fi(t)),t.length>1||t[0]>1)throw new Eh(t);return!!t[0]}function Wr(i,e={}){typeof e.size<"u"&&Oi(i,{size:e.size});let t=ut(i,e);return Yt(t,e)}function zv(i,e={}){let t=i;return typeof e.size<"u"&&(Oi(t,{size:e.size}),t=fi(t,{dir:"right"})),new TextDecoder().decode(t)}var jv=te(()=>{"use strict";Hc();Mo();gi();ze()});function Os(i,e){let t=typeof e=="string"?ei(e):e,r=Oo(t);if(dt(t)===0&&i.length>0)throw new er;if(dt(e)&&dt(e)<32)throw new Lo({data:typeof e=="string"?e:ut(e),params:i,size:dt(e)});let s=0,o=[];for(let l=0;l<i.length;++l){let u=i[l];r.setPosition(s);let[p,m]=No(r,u,{staticPosition:0});s+=m,o.push(p)}return o}function No(i,e,{staticPosition:t}){let r=Hh(e.type);if(r){let[s,o]=r;return qE(i,{...e,type:o},{length:s,staticPosition:t})}if(e.type==="tuple")return ZE(i,e,{staticPosition:t});if(e.type==="address")return $E(i);if(e.type==="bool")return YE(i);if(e.type.startsWith("bytes"))return QE(i,e,{staticPosition:t});if(e.type.startsWith("uint")||e.type.startsWith("int"))return XE(i,e);if(e.type==="string")return JE(i,{staticPosition:t});throw new vh(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function $E(i){let e=i.readBytes(32);return[mn(ut(e0(e,-20))),32]}function qE(i,e,{length:t,staticPosition:r}){if(!t){let l=Wr(i.readBytes(a0)),u=r+l,p=u+Gv;i.setPosition(u);let m=Wr(i.readBytes(Gv)),d=$c(e),f=0,g=[];for(let y=0;y<m;++y){i.setPosition(p+(d?y*32:f));let[x,E]=No(i,e,{staticPosition:p});f+=E,g.push(x)}return i.setPosition(r+32),[g,32]}if($c(e)){let l=Wr(i.readBytes(a0)),u=r+l,p=[];for(let m=0;m<t;++m){i.setPosition(u+m*32);let[d]=No(i,e,{staticPosition:u});p.push(d)}return i.setPosition(r+32),[p,32]}let s=0,o=[];for(let l=0;l<t;++l){let[u,p]=No(i,e,{staticPosition:r+s});s+=p,o.push(u)}return[o,s]}function YE(i){return[Hv(i.readBytes(32),{size:32}),32]}function QE(i,e,{staticPosition:t}){let[r,s]=e.type.split("bytes");if(!s){let l=Wr(i.readBytes(32));i.setPosition(t+l);let u=Wr(i.readBytes(32));if(u===0)return i.setPosition(t+32),["0x",32];let p=i.readBytes(u);return i.setPosition(t+32),[ut(p),32]}return[ut(i.readBytes(Number.parseInt(s),32)),32]}function XE(i,e){let t=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=i.readBytes(32);return[r>48?Uv(s,{signed:t}):Wr(s,{signed:t}),32]}function ZE(i,e,{staticPosition:t}){let r=e.components.length===0||e.components.some(({name:l})=>!l),s=r?[]:{},o=0;if($c(e)){let l=Wr(i.readBytes(a0)),u=t+l;for(let p=0;p<e.components.length;++p){let m=e.components[p];i.setPosition(u+o);let[d,f]=No(i,m,{staticPosition:u});o+=f,s[r?p:m?.name]=d}return i.setPosition(t+32),[s,32]}for(let l=0;l<e.components.length;++l){let u=e.components[l],[p,m]=No(i,u,{staticPosition:t});s[r?l:u?.name]=p,o+=m}return[s,o]}function JE(i,{staticPosition:e}){let t=Wr(i.readBytes(32)),r=e+t;i.setPosition(r);let s=Wr(i.readBytes(32));if(s===0)return i.setPosition(e+32),["",32];let o=i.readBytes(s,32),l=zv(fi(o));return i.setPosition(e+32),[l,32]}function $c(i){let{type:e}=i;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return i.components?.some($c);let t=Hh(i.type);return!!(t&&$c({...i,type:t[1]}))}var Gv,a0,$h=te(()=>{"use strict";Jt();Bs();Kh();yr();Ds();Mo();jv();ai();ze();Hn();Gv=32,a0=32});function qh(i){let{abi:e,data:t}=i,r=hn(t,0,4);if(r==="0x")throw new er;let o=[...e||[],Fv,Pv].find(l=>l.type==="error"&&r===Ro(Ci(l)));if(!o)throw new To(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Os(o.inputs,hn(t,4)):void 0,errorName:o.name}}var l0=te(()=>{"use strict";Vh();Jt();Ds();zh();$h();As()});var pt,Mi=te(()=>{"use strict";pt=(i,e,t)=>JSON.stringify(i,(r,s)=>{let o=typeof s=="bigint"?s.toString():s;return typeof e=="function"?e(r,o):o},t)});function c0({abiItem:i,args:e,includeFunctionName:t=!0,includeName:r=!1}){if("name"in i&&"inputs"in i&&i.inputs)return`${t?i.name:""}(${i.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof e[o]=="object"?pt(e[o]):e[o]}`).join(", ")})`}var Vv=te(()=>{"use strict";Mi()});var Wv,Kv,u0=te(()=>{"use strict";Wv={gwei:9,wei:18},Kv={ether:-9,wei:9}});function jn(i,e){let t=i.toString(),r=t.startsWith("-");r&&(t=t.slice(1)),t=t.padStart(e,"0");let[s,o]=[t.slice(0,t.length-e),t.slice(t.length-e)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}var Yh=te(()=>{"use strict"});function Fo(i,e="wei"){return jn(i,Wv[e])}var Qh=te(()=>{"use strict";u0();Yh()});function ii(i,e="wei"){return jn(i,Kv[e])}var Po=te(()=>{"use strict";u0();Yh()});function $v(i){return i.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function qv(i){return i.reduce((e,{address:t,...r})=>{let s=`${e}    ${t}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=$v(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=$v(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}var Xh,Zh,p0=te(()=>{"use strict";rt();Xh=class extends H{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}},Zh=class extends H{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}});function Ns(i){let e=Object.entries(i).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),t=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(t+1)}  ${s}`).join(`
`)}var Jh,ed,td,id,rd,Uo,Ho,nd,wr=te(()=>{"use strict";Qh();Po();rt();Jh=class extends H{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},ed=class extends H{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}},td=class extends H{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ns(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},id=class extends H{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}},rd=class extends H{constructor(e,{account:t,docsPath:r,chain:s,data:o,gas:l,gasPrice:u,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:d,to:f,value:g}){let y=Ns({chain:s&&`${s?.name} (id: ${s?.id})`,from:t?.address,to:f,value:typeof g<"u"&&`${Fo(g)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:typeof u<"u"&&`${ii(u)} gwei`,maxFeePerGas:typeof p<"u"&&`${ii(p)} gwei`,maxPriorityFeePerGas:typeof m<"u"&&`${ii(m)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",y].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},Uo=class extends H{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:s,index:o}){let l="Transaction";r&&o!==void 0&&(l=`Transaction at block time "${r}" at index "${o}"`),e&&o!==void 0&&(l=`Transaction at block hash "${e}" at index "${o}"`),t&&o!==void 0&&(l=`Transaction at block number "${t}" at index "${o}"`),s&&(l=`Transaction with hash "${s}"`),super(`${l} could not be found.`,{name:"TransactionNotFoundError"})}},Ho=class extends H{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},nd=class extends H{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}});var Yv,Fs,sd=te(()=>{"use strict";Yv=i=>i,Fs=i=>i});var zo,od,Ps,ad,ld,Kr,Gn=te(()=>{"use strict";ti();Vh();l0();As();Vv();Bo();Qh();Po();Jt();rt();p0();wr();sd();zo=class extends H{constructor(e,{account:t,docsPath:r,chain:s,data:o,gas:l,gasPrice:u,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:d,to:f,value:g,stateOverride:y}){let x=t?at(t):void 0,E=Ns({from:x?.address,to:f,value:typeof g<"u"&&`${Fo(g)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:typeof u<"u"&&`${ii(u)} gwei`,maxFeePerGas:typeof p<"u"&&`${ii(p)} gwei`,maxPriorityFeePerGas:typeof m<"u"&&`${ii(m)} gwei`,nonce:d});y&&(E+=`
${qv(y)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",E].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},od=class extends H{constructor(e,{abi:t,args:r,contractAddress:s,docsPath:o,functionName:l,sender:u}){let p=Gr({abi:t,args:r,name:l}),m=p?c0({abiItem:p,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=p?Ci(p,{includeName:!0}):void 0,f=Ns({address:s&&Yv(s),function:d,args:m&&m!=="()"&&`${[...Array(l?.length??0).keys()].map(()=>" ").join("")}${m}`,sender:u});super(e.shortMessage||`An unknown error occurred while executing the contract function "${l}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=l,this.sender=u}},Ps=class extends H{constructor({abi:e,data:t,functionName:r,message:s}){let o,l,u,p;if(t&&t!=="0x")try{l=qh({abi:e,data:t});let{abiItem:d,errorName:f,args:g}=l;if(f==="Error")p=g[0];else if(f==="Panic"){let[y]=g;p=Gh[y]}else{let y=d?Ci(d,{includeName:!0}):void 0,x=d&&g?c0({abiItem:d,args:g,includeFunctionName:!1,includeName:!1}):void 0;u=[y?`Error: ${y}`:"",x&&x!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${x}`:""]}}catch(d){o=d}else s&&(p=s);let m;o instanceof To&&(m=o.signature,u=[`Unable to decode signature "${m}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${m}.`]),super(p&&p!=="execution reverted"||m?[`The contract function "${r}" reverted with the following ${m?"signature":"reason"}:`,p||m].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.raw=t,this.reason=p,this.signature=m}},ad=class extends H{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},ld=class extends H{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},Kr=class extends H{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}});var nr,Vn,qc,Us=te(()=>{"use strict";Mi();rt();sd();nr=class extends H{constructor({body:e,cause:t,details:r,headers:s,status:o,url:l}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Fs(l)}`,e&&`Request body: ${pt(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=o,this.url=l}},Vn=class extends H{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${Fs(r)}`,`Request body: ${pt(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}},qc=class extends H{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Fs(t)}`,`Request body: ${pt(e)}`],name:"TimeoutError"})}}});var eL,yi,Wn,jo,Go,Vo,Wo,dn,$r,Ko,$o,qo,Kn,Hs,Yo,zs,Qo,Xo,Zo,Jo,ea,cd,Yc=te(()=>{"use strict";rt();Us();eL=-1,yi=class extends H{constructor(e,{code:t,docsPath:r,metaMessages:s,name:o,shortMessage:l}){super(l,{cause:e,docsPath:r,metaMessages:s||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof Vn?e.code:t??eL}},Wn=class extends yi{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}},jo=class i extends yi{constructor(e){super(e,{code:i.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});Go=class i extends yi{constructor(e){super(e,{code:i.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(Go,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});Vo=class i extends yi{constructor(e,{method:t}={}){super(e,{code:i.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}};Object.defineProperty(Vo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});Wo=class i extends yi{constructor(e){super(e,{code:i.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Wo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});dn=class i extends yi{constructor(e){super(e,{code:i.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});$r=class i extends yi{constructor(e){super(e,{code:i.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty($r,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});Ko=class i extends yi{constructor(e){super(e,{code:i.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(Ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});$o=class i extends yi{constructor(e){super(e,{code:i.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty($o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});qo=class i extends yi{constructor(e){super(e,{code:i.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});Kn=class i extends yi{constructor(e,{method:t}={}){super(e,{code:i.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}};Object.defineProperty(Kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});Hs=class i extends yi{constructor(e){super(e,{code:i.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(Hs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});Yo=class i extends yi{constructor(e){super(e,{code:i.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(Yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});zs=class i extends Wn{constructor(e){super(e,{code:i.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(zs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});Qo=class i extends Wn{constructor(e){super(e,{code:i.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(Qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});Xo=class i extends Wn{constructor(e,{method:t}={}){super(e,{code:i.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}};Object.defineProperty(Xo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});Zo=class i extends Wn{constructor(e){super(e,{code:i.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(Zo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});Jo=class i extends Wn{constructor(e){super(e,{code:i.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(Jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});ea=class i extends Wn{constructor(e){super(e,{code:i.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(ea,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});cd=class extends yi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}});function iL(i,e,t,r){if(typeof i.setBigUint64=="function")return i.setBigUint64(e,t,r);let s=BigInt(32),o=BigInt(4294967295),l=Number(t>>s&o),u=Number(t&o),p=r?4:0,m=r?0:4;i.setUint32(e+p,l,r),i.setUint32(e+m,u,r)}function Xv(i,e,t){return i&e^~i&t}function Zv(i,e,t){return i&e^i&t^e&t}var ud,Jv=te(()=>{"use strict";jc();Rs();ud=class extends Nn{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rh(this.buffer)}update(e){pn(this);let{view:t,buffer:r,blockLen:s}=this;e=Fn(e);let o=e.length;for(let l=0;l<o;){let u=Math.min(s-this.pos,o-l);if(u===s){let p=Rh(e);for(;s<=o-l;l+=s)this.process(p,l);continue}r.set(e.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pn(this),Ah(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:s,isLE:o}=this,{pos:l}=this;t[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>s-l&&(this.process(r,0),l=0);for(let f=l;f<s;f++)t[f]=0;iL(r,s-8,BigInt(this.length*8),o),this.process(r,0);let u=Rh(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=p/4,d=this.get();if(m>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<m;f++)u.setUint32(4*f,d[f],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:s,finished:o,destroyed:l,pos:u}=this;return e.length=s,e.pos=u,e.finished=o,e.destroyed=l,s%t&&e.buffer.set(r),e}}});var rL,$n,qn,m0,js,h0=te(()=>{"use strict";Jv();Rs();rL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$n=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qn=new Uint32Array(64),m0=class extends ud{constructor(){super(64,32,8,!1),this.A=$n[0]|0,this.B=$n[1]|0,this.C=$n[2]|0,this.D=$n[3]|0,this.E=$n[4]|0,this.F=$n[5]|0,this.G=$n[6]|0,this.H=$n[7]|0}get(){let{A:e,B:t,C:r,D:s,E:o,F:l,G:u,H:p}=this;return[e,t,r,s,o,l,u,p]}set(e,t,r,s,o,l,u,p){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=l|0,this.G=u|0,this.H=p|0}process(e,t){for(let f=0;f<16;f++,t+=4)qn[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){let g=qn[f-15],y=qn[f-2],x=Ir(g,7)^Ir(g,18)^g>>>3,E=Ir(y,17)^Ir(y,19)^y>>>10;qn[f]=E+qn[f-7]+x+qn[f-16]|0}let{A:r,B:s,C:o,D:l,E:u,F:p,G:m,H:d}=this;for(let f=0;f<64;f++){let g=Ir(u,6)^Ir(u,11)^Ir(u,25),y=d+g+Xv(u,p,m)+rL[f]+qn[f]|0,E=(Ir(r,2)^Ir(r,13)^Ir(r,22))+Zv(r,s,o)|0;d=m,m=p,p=u,u=l+y|0,l=o,o=s,s=r,r=y+E|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,l=l+this.D|0,u=u+this.E|0,p=p+this.F|0,m=m+this.G|0,d=d+this.H|0,this.set(r,s,o,l,u,p,m,d)}roundClean(){qn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},js=Bh(()=>new m0)});var pd,d0,eI=te(()=>{"use strict";jc();Rs();pd=class extends Nn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,nv(e);let r=Fn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),o.fill(0)}update(e){return pn(this),this.iHash.update(e),this}digestInto(e){pn(this),On(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:s,destroyed:o,blockLen:l,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=l,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},d0=(i,e,t)=>new pd(i,e).update(t).digest();d0.create=(i,e)=>new pd(i,e)});var x0={};T_(x0,{aInRange:()=>qr,abool:()=>Gs,abytes:()=>sr,bitGet:()=>lL,bitLen:()=>y0,bitMask:()=>Xc,bitSet:()=>cL,bytesToHex:()=>Vs,bytesToNumberBE:()=>Ni,bytesToNumberLE:()=>dd,concatBytes:()=>_i,createHmacDrbg:()=>_0,ensureBytes:()=>ri,equalBytes:()=>aL,hexToBytes:()=>Ks,hexToNumber:()=>b0,inRange:()=>Qn,isBytes:()=>Yn,memoized:()=>gd,notImplemented:()=>pL,numberToBytesBE:()=>Er,numberToBytesLE:()=>fd,numberToHexUnpadded:()=>Ws,numberToVarBytesBE:()=>oL,utf8ToBytes:()=>Qc,validateObject:()=>Yr});function Yn(i){return i instanceof Uint8Array||ArrayBuffer.isView(i)&&i.constructor.name==="Uint8Array"}function sr(i){if(!Yn(i))throw new Error("Uint8Array expected")}function Gs(i,e){if(typeof e!="boolean")throw new Error(i+" boolean expected, got "+e)}function Vs(i){sr(i);let e="";for(let t=0;t<i.length;t++)e+=sL[i[t]];return e}function Ws(i){let e=i.toString(16);return e.length&1?"0"+e:e}function b0(i){if(typeof i!="string")throw new Error("hex string expected, got "+typeof i);return i===""?md:BigInt("0x"+i)}function tI(i){if(i>=fn._0&&i<=fn._9)return i-fn._0;if(i>=fn.A&&i<=fn.F)return i-(fn.A-10);if(i>=fn.a&&i<=fn.f)return i-(fn.a-10)}function Ks(i){if(typeof i!="string")throw new Error("hex string expected, got "+typeof i);let e=i.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(t);for(let s=0,o=0;s<t;s++,o+=2){let l=tI(i.charCodeAt(o)),u=tI(i.charCodeAt(o+1));if(l===void 0||u===void 0){let p=i[o]+i[o+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+o)}r[s]=l*16+u}return r}function Ni(i){return b0(Vs(i))}function dd(i){return sr(i),b0(Vs(Uint8Array.from(i).reverse()))}function Er(i,e){return Ks(i.toString(16).padStart(e*2,"0"))}function fd(i,e){return Er(i,e).reverse()}function oL(i){return Ks(Ws(i))}function ri(i,e,t){let r;if(typeof e=="string")try{r=Ks(e)}catch(o){throw new Error(i+" must be hex string or Uint8Array, cause: "+o)}else if(Yn(e))r=Uint8Array.from(e);else throw new Error(i+" must be hex string or Uint8Array");let s=r.length;if(typeof t=="number"&&s!==t)throw new Error(i+" of length "+t+" expected, got "+s);return r}function _i(...i){let e=0;for(let r=0;r<i.length;r++){let s=i[r];sr(s),e+=s.length}let t=new Uint8Array(e);for(let r=0,s=0;r<i.length;r++){let o=i[r];t.set(o,s),s+=o.length}return t}function aL(i,e){if(i.length!==e.length)return!1;let t=0;for(let r=0;r<i.length;r++)t|=i[r]^e[r];return t===0}function Qc(i){if(typeof i!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(i))}function Qn(i,e,t){return f0(i)&&f0(e)&&f0(t)&&e<=i&&i<t}function qr(i,e,t,r){if(!Qn(e,t,r))throw new Error("expected valid "+i+": "+t+" <= n < "+r+", got "+e)}function y0(i){let e;for(e=0;i>md;i>>=hd,e+=1);return e}function lL(i,e){return i>>BigInt(e)&hd}function cL(i,e,t){return i|(t?hd:md)<<BigInt(e)}function _0(i,e,t){if(typeof i!="number"||i<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=g0(i),s=g0(i),o=0,l=()=>{r.fill(1),s.fill(0),o=0},u=(...f)=>t(s,r,...f),p=(f=g0())=>{s=u(iI([0]),f),r=u(),f.length!==0&&(s=u(iI([1]),f),r=u())},m=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,g=[];for(;f<e;){r=u();let y=r.slice();g.push(y),f+=r.length}return _i(...g)};return(f,g)=>{l(),p(f);let y;for(;!(y=g(m()));)p();return l(),y}}function Yr(i,e,t={}){let r=(s,o,l)=>{let u=uL[o];if(typeof u!="function")throw new Error("invalid validator function");let p=i[s];if(!(l&&p===void 0)&&!u(p,i))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+p)};for(let[s,o]of Object.entries(e))r(s,o,!1);for(let[s,o]of Object.entries(t))r(s,o,!0);return i}function gd(i){let e=new WeakMap;return(t,...r)=>{let s=e.get(t);if(s!==void 0)return s;let o=i(t,...r);return e.set(t,o),o}}var md,hd,nL,sL,fn,f0,Xc,g0,iI,uL,pL,$s=te(()=>{"use strict";md=BigInt(0),hd=BigInt(1),nL=BigInt(2);sL=Array.from({length:256},(i,e)=>e.toString(16).padStart(2,"0"));fn={_0:48,_9:57,A:65,F:70,a:97,f:102};f0=i=>typeof i=="bigint"&&md<=i;Xc=i=>(nL<<BigInt(i-1))-hd,g0=i=>new Uint8Array(i),iI=i=>Uint8Array.from(i);uL={bigint:i=>typeof i=="bigint",function:i=>typeof i=="function",boolean:i=>typeof i=="boolean",string:i=>typeof i=="string",stringOrUint8Array:i=>typeof i=="string"||Yn(i),isSafeInteger:i=>Number.isSafeInteger(i),array:i=>Array.isArray(i),field:(i,e)=>e.Fp.isValid(i),hash:i=>typeof i=="function"&&Number.isSafeInteger(i.outputLen)};pL=()=>{throw new Error("not implemented")}});function Vt(i,e){let t=i%e;return t>=ni?t:e+t}function fL(i,e,t){if(e<ni)throw new Error("invalid exponent, negatives unsupported");if(t<=ni)throw new Error("invalid modulus");if(t===Ot)return ni;let r=Ot;for(;e>ni;)e&Ot&&(r=r*i%t),i=i*i%t,e>>=Ot;return r}function Ki(i,e,t){let r=i;for(;e-- >ni;)r*=r,r%=t;return r}function bd(i,e){if(i===ni)throw new Error("invert: expected non-zero number");if(e<=ni)throw new Error("invert: expected positive modulus, got "+e);let t=Vt(i,e),r=e,s=ni,o=Ot,l=Ot,u=ni;for(;t!==ni;){let m=r/t,d=r%t,f=s-l*m,g=o-u*m;r=t,t=d,s=l,o=u,l=f,u=g}if(r!==Ot)throw new Error("invert: does not exist");return Vt(s,e)}function gL(i){let e=(i-Ot)/qs,t,r,s;for(t=i-Ot,r=0;t%qs===ni;t/=qs,r++);for(s=qs;s<i&&fL(s,e,i)!==i-Ot;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){let l=(i+Ot)/v0;return function(p,m){let d=p.pow(m,l);if(!p.eql(p.sqr(d),m))throw new Error("Cannot find square root");return d}}let o=(t+Ot)/qs;return function(u,p){if(u.pow(p,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let m=r,d=u.pow(u.mul(u.ONE,s),t),f=u.pow(p,o),g=u.pow(p,t);for(;!u.eql(g,u.ONE);){if(u.eql(g,u.ZERO))return u.ZERO;let y=1;for(let E=u.sqr(g);y<m&&!u.eql(E,u.ONE);y++)E=u.sqr(E);let x=u.pow(d,Ot<<BigInt(m-y-1));d=u.sqr(x),f=u.mul(f,x),g=u.mul(g,d),m=y}return f}}function bL(i){if(i%v0===mL){let e=(i+Ot)/v0;return function(r,s){let o=r.pow(s,e);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(i%nI===rI){let e=(i-rI)/nI;return function(r,s){let o=r.mul(s,qs),l=r.pow(o,e),u=r.mul(s,l),p=r.mul(r.mul(u,qs),l),m=r.mul(u,r.sub(p,r.ONE));if(!r.eql(r.sqr(m),s))throw new Error("Cannot find square root");return m}}return i%dL,gL(i)}function yd(i){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=yL.reduce((r,s)=>(r[s]="function",r),e);return Yr(i,t)}function _L(i,e,t){if(t<ni)throw new Error("invalid exponent, negatives unsupported");if(t===ni)return i.ONE;if(t===Ot)return e;let r=i.ONE,s=e;for(;t>ni;)t&Ot&&(r=i.mul(r,s)),s=i.sqr(s),t>>=Ot;return r}function xL(i,e){let t=new Array(e.length),r=e.reduce((o,l,u)=>i.is0(l)?o:(t[u]=o,i.mul(o,l)),i.ONE),s=i.inv(r);return e.reduceRight((o,l,u)=>i.is0(l)?o:(t[u]=i.mul(o,t[u]),i.mul(o,l)),s),t}function I0(i,e){let t=e!==void 0?e:i.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function _d(i,e,t=!1,r={}){if(i<=ni)throw new Error("invalid field: expected ORDER > 0, got "+i);let{nBitLength:s,nByteLength:o}=I0(i,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l,u=Object.freeze({ORDER:i,isLE:t,BITS:s,BYTES:o,MASK:Xc(s),ZERO:ni,ONE:Ot,create:p=>Vt(p,i),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return ni<=p&&p<i},is0:p=>p===ni,isOdd:p=>(p&Ot)===Ot,neg:p=>Vt(-p,i),eql:(p,m)=>p===m,sqr:p=>Vt(p*p,i),add:(p,m)=>Vt(p+m,i),sub:(p,m)=>Vt(p-m,i),mul:(p,m)=>Vt(p*m,i),pow:(p,m)=>_L(u,p,m),div:(p,m)=>Vt(p*bd(m,i),i),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>bd(p,i),sqrt:r.sqrt||(p=>(l||(l=bL(i)),l(u,p))),invertBatch:p=>xL(u,p),cmov:(p,m,d)=>d?m:p,toBytes:p=>t?fd(p,o):Er(p,o),fromBytes:p=>{if(p.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+p.length);return t?dd(p):Ni(p)}});return Object.freeze(u)}function sI(i){if(typeof i!="bigint")throw new Error("field order must be bigint");let e=i.toString(2).length;return Math.ceil(e/8)}function k0(i){let e=sI(i);return e+Math.ceil(e/2)}function oI(i,e,t=!1){let r=i.length,s=sI(e),o=k0(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);let l=t?dd(i):Ni(i),u=Vt(l,e-Ot)+Ot;return t?fd(u,s):Er(u,s)}var ni,Ot,qs,mL,v0,rI,nI,hL,dL,yL,Zc=te(()=>{"use strict";$s();ni=BigInt(0),Ot=BigInt(1),qs=BigInt(2),mL=BigInt(3),v0=BigInt(4),rI=BigInt(5),nI=BigInt(8),hL=BigInt(9),dL=BigInt(16);yL=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function S0(i,e){let t=e.negate();return i?t:e}function lI(i,e){if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+i)}function w0(i,e){lI(i,e);let t=Math.ceil(e/i)+1,r=2**(i-1);return{windows:t,windowSize:r}}function vL(i,e){if(!Array.isArray(i))throw new Error("array expected");i.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function IL(i,e){if(!Array.isArray(i))throw new Error("array of scalars expected");i.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}function L0(i){return cI.get(i)||1}function uI(i,e){return{constTimeNegate:S0,hasPrecomputes(t){return L0(t)!==1},unsafeLadder(t,r,s=i.ZERO){let o=t;for(;r>aI;)r&xd&&(s=s.add(o)),o=o.double(),r>>=xd;return s},precomputeWindow(t,r){let{windows:s,windowSize:o}=w0(r,e),l=[],u=t,p=u;for(let m=0;m<s;m++){p=u,l.push(p);for(let d=1;d<o;d++)p=p.add(u),l.push(p);u=p.double()}return l},wNAF(t,r,s){let{windows:o,windowSize:l}=w0(t,e),u=i.ZERO,p=i.BASE,m=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let g=0;g<o;g++){let y=g*l,x=Number(s&m);s>>=f,x>l&&(x-=d,s+=xd);let E=y,_=y+Math.abs(x)-1,S=g%2!==0,M=x<0;x===0?p=p.add(S0(S,r[E])):u=u.add(S0(M,r[_]))}return{p:u,f:p}},wNAFUnsafe(t,r,s,o=i.ZERO){let{windows:l,windowSize:u}=w0(t,e),p=BigInt(2**t-1),m=2**t,d=BigInt(t);for(let f=0;f<l;f++){let g=f*u;if(s===aI)break;let y=Number(s&p);if(s>>=d,y>u&&(y-=m,s+=xd),y===0)continue;let x=r[g+Math.abs(y)-1];y<0&&(x=x.negate()),o=o.add(x)}return o},getPrecomputes(t,r,s){let o=E0.get(r);return o||(o=this.precomputeWindow(r,t),t!==1&&E0.set(r,s(o))),o},wNAFCached(t,r,s){let o=L0(t);return this.wNAF(o,this.getPrecomputes(o,t,s),r)},wNAFCachedUnsafe(t,r,s,o){let l=L0(t);return l===1?this.unsafeLadder(t,r,o):this.wNAFUnsafe(l,this.getPrecomputes(l,t,s),r,o)},setWindowSize(t,r){lI(r,e),cI.set(t,r),E0.delete(t)}}}function pI(i,e,t,r){if(vL(t,i),IL(r,e),t.length!==r.length)throw new Error("arrays of points and scalars must have equal length");let s=i.ZERO,o=y0(BigInt(t.length)),l=o>12?o-3:o>4?o-2:o?2:1,u=(1<<l)-1,p=new Array(u+1).fill(s),m=Math.floor((e.BITS-1)/l)*l,d=s;for(let f=m;f>=0;f-=l){p.fill(s);for(let y=0;y<r.length;y++){let x=r[y],E=Number(x>>BigInt(f)&BigInt(u));p[E]=p[E].add(t[y])}let g=s;for(let y=p.length-1,x=s;y>0;y--)x=x.add(p[y]),g=g.add(x);if(d=d.add(g),f!==0)for(let y=0;y<l;y++)d=d.double()}return d}function T0(i){return yd(i.Fp),Yr(i,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...I0(i.n,i.nBitLength),...i,p:i.Fp.ORDER})}var aI,xd,E0,cI,mI=te(()=>{"use strict";Zc();$s();aI=BigInt(0),xd=BigInt(1);E0=new WeakMap,cI=new WeakMap});function hI(i){i.lowS!==void 0&&Gs("lowS",i.lowS),i.prehash!==void 0&&Gs("prehash",i.prehash)}function kL(i){let e=T0(i);Yr(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}function EL(i){let e=kL(i),{Fp:t}=e,r=_d(e.n,e.nBitLength),s=e.toBytes||((E,_,S)=>{let M=_.toAffine();return _i(Uint8Array.from([4]),t.toBytes(M.x),t.toBytes(M.y))}),o=e.fromBytes||(E=>{let _=E.subarray(1),S=t.fromBytes(_.subarray(0,t.BYTES)),M=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:S,y:M}});function l(E){let{a:_,b:S}=e,M=t.sqr(E),O=t.mul(M,E);return t.add(t.add(O,t.mul(E,_)),S)}if(!t.eql(t.sqr(e.Gy),l(e.Gx)))throw new Error("bad generator point: equation left != right");function u(E){return Qn(E,Et,e.n)}function p(E){let{allowedPrivateKeyLengths:_,nByteLength:S,wrapPrivateKey:M,n:O}=e;if(_&&typeof E!="bigint"){if(Yn(E)&&(E=Vs(E)),typeof E!="string"||!_.includes(E.length))throw new Error("invalid private key");E=E.padStart(S*2,"0")}let j;try{j=typeof E=="bigint"?E:Ni(ri("private key",E,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof E)}return M&&(j=Vt(j,O)),qr("private key",j,Et,O),j}function m(E){if(!(E instanceof g))throw new Error("ProjectivePoint expected")}let d=gd((E,_)=>{let{px:S,py:M,pz:O}=E;if(t.eql(O,t.ONE))return{x:S,y:M};let j=E.is0();_==null&&(_=j?t.ONE:t.inv(O));let Q=t.mul(S,_),V=t.mul(M,_),K=t.mul(O,_);if(j)return{x:t.ZERO,y:t.ZERO};if(!t.eql(K,t.ONE))throw new Error("invZ was invalid");return{x:Q,y:V}}),f=gd(E=>{if(E.is0()){if(e.allowInfinityPoint&&!t.is0(E.py))return;throw new Error("bad point: ZERO")}let{x:_,y:S}=E.toAffine();if(!t.isValid(_)||!t.isValid(S))throw new Error("bad point: x or y not FE");let M=t.sqr(S),O=l(_);if(!t.eql(M,O))throw new Error("bad point: equation left != right");if(!E.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(_,S,M){if(this.px=_,this.py=S,this.pz=M,_==null||!t.isValid(_))throw new Error("x required");if(S==null||!t.isValid(S))throw new Error("y required");if(M==null||!t.isValid(M))throw new Error("z required");Object.freeze(this)}static fromAffine(_){let{x:S,y:M}=_||{};if(!_||!t.isValid(S)||!t.isValid(M))throw new Error("invalid affine point");if(_ instanceof g)throw new Error("projective point not allowed");let O=j=>t.eql(j,t.ZERO);return O(S)&&O(M)?g.ZERO:new g(S,M,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){let S=t.invertBatch(_.map(M=>M.pz));return _.map((M,O)=>M.toAffine(S[O])).map(g.fromAffine)}static fromHex(_){let S=g.fromAffine(o(ri("pointHex",_)));return S.assertValidity(),S}static fromPrivateKey(_){return g.BASE.multiply(p(_))}static msm(_,S){return pI(g,r,_,S)}_setWindowSize(_){x.setWindowSize(this,_)}assertValidity(){f(this)}hasEvenY(){let{y:_}=this.toAffine();if(t.isOdd)return!t.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){m(_);let{px:S,py:M,pz:O}=this,{px:j,py:Q,pz:V}=_,K=t.eql(t.mul(S,V),t.mul(j,O)),W=t.eql(t.mul(M,V),t.mul(Q,O));return K&&W}negate(){return new g(this.px,t.neg(this.py),this.pz)}double(){let{a:_,b:S}=e,M=t.mul(S,vd),{px:O,py:j,pz:Q}=this,V=t.ZERO,K=t.ZERO,W=t.ZERO,ne=t.mul(O,O),se=t.mul(j,j),ce=t.mul(Q,Q),oe=t.mul(O,j);return oe=t.add(oe,oe),W=t.mul(O,Q),W=t.add(W,W),V=t.mul(_,W),K=t.mul(M,ce),K=t.add(V,K),V=t.sub(se,K),K=t.add(se,K),K=t.mul(V,K),V=t.mul(oe,V),W=t.mul(M,W),ce=t.mul(_,ce),oe=t.sub(ne,ce),oe=t.mul(_,oe),oe=t.add(oe,W),W=t.add(ne,ne),ne=t.add(W,ne),ne=t.add(ne,ce),ne=t.mul(ne,oe),K=t.add(K,ne),ce=t.mul(j,Q),ce=t.add(ce,ce),ne=t.mul(ce,oe),V=t.sub(V,ne),W=t.mul(ce,se),W=t.add(W,W),W=t.add(W,W),new g(V,K,W)}add(_){m(_);let{px:S,py:M,pz:O}=this,{px:j,py:Q,pz:V}=_,K=t.ZERO,W=t.ZERO,ne=t.ZERO,se=e.a,ce=t.mul(e.b,vd),oe=t.mul(S,j),Je=t.mul(M,Q),he=t.mul(O,V),Ae=t.add(S,M),Le=t.add(j,Q);Ae=t.mul(Ae,Le),Le=t.add(oe,Je),Ae=t.sub(Ae,Le),Le=t.add(S,O);let R=t.add(j,V);return Le=t.mul(Le,R),R=t.add(oe,he),Le=t.sub(Le,R),R=t.add(M,O),K=t.add(Q,V),R=t.mul(R,K),K=t.add(Je,he),R=t.sub(R,K),ne=t.mul(se,Le),K=t.mul(ce,he),ne=t.add(K,ne),K=t.sub(Je,ne),ne=t.add(Je,ne),W=t.mul(K,ne),Je=t.add(oe,oe),Je=t.add(Je,oe),he=t.mul(se,he),Le=t.mul(ce,Le),Je=t.add(Je,he),he=t.sub(oe,he),he=t.mul(se,he),Le=t.add(Le,he),oe=t.mul(Je,Le),W=t.add(W,oe),oe=t.mul(R,Le),K=t.mul(Ae,K),K=t.sub(K,oe),oe=t.mul(Ae,Je),ne=t.mul(R,ne),ne=t.add(ne,oe),new g(K,W,ne)}subtract(_){return this.add(_.negate())}is0(){return this.equals(g.ZERO)}wNAF(_){return x.wNAFCached(this,_,g.normalizeZ)}multiplyUnsafe(_){let{endo:S,n:M}=e;qr("scalar",_,Lr,M);let O=g.ZERO;if(_===Lr)return O;if(this.is0()||_===Et)return this;if(!S||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,_,g.normalizeZ);let{k1neg:j,k1:Q,k2neg:V,k2:K}=S.splitScalar(_),W=O,ne=O,se=this;for(;Q>Lr||K>Lr;)Q&Et&&(W=W.add(se)),K&Et&&(ne=ne.add(se)),se=se.double(),Q>>=Et,K>>=Et;return j&&(W=W.negate()),V&&(ne=ne.negate()),ne=new g(t.mul(ne.px,S.beta),ne.py,ne.pz),W.add(ne)}multiply(_){let{endo:S,n:M}=e;qr("scalar",_,Et,M);let O,j;if(S){let{k1neg:Q,k1:V,k2neg:K,k2:W}=S.splitScalar(_),{p:ne,f:se}=this.wNAF(V),{p:ce,f:oe}=this.wNAF(W);ne=x.constTimeNegate(Q,ne),ce=x.constTimeNegate(K,ce),ce=new g(t.mul(ce.px,S.beta),ce.py,ce.pz),O=ne.add(ce),j=se.add(oe)}else{let{p:Q,f:V}=this.wNAF(_);O=Q,j=V}return g.normalizeZ([O,j])[0]}multiplyAndAddUnsafe(_,S,M){let O=g.BASE,j=(V,K)=>K===Lr||K===Et||!V.equals(O)?V.multiplyUnsafe(K):V.multiply(K),Q=j(this,S).add(j(_,M));return Q.is0()?void 0:Q}toAffine(_){return d(this,_)}isTorsionFree(){let{h:_,isTorsionFree:S}=e;if(_===Et)return!0;if(S)return S(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:_,clearCofactor:S}=e;return _===Et?this:S?S(g,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return Gs("isCompressed",_),this.assertValidity(),s(g,this,_)}toHex(_=!0){return Gs("isCompressed",_),Vs(this.toRawBytes(_))}}g.BASE=new g(e.Gx,e.Gy,t.ONE),g.ZERO=new g(t.ZERO,t.ONE,t.ZERO);let y=e.nBitLength,x=uI(g,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:p,weierstrassEquation:l,isWithinCurveOrder:u}}function LL(i){let e=T0(i);return Yr(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function fI(i){let e=LL(i),{Fp:t,n:r}=e,s=t.BYTES+1,o=2*t.BYTES+1;function l(he){return Vt(he,r)}function u(he){return bd(he,r)}let{ProjectivePoint:p,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:f}=EL({...e,toBytes(he,Ae,Le){let R=Ae.toAffine(),$e=t.toBytes(R.x),Ie=_i;return Gs("isCompressed",Le),Le?Ie(Uint8Array.from([Ae.hasEvenY()?2:3]),$e):Ie(Uint8Array.from([4]),$e,t.toBytes(R.y))},fromBytes(he){let Ae=he.length,Le=he[0],R=he.subarray(1);if(Ae===s&&(Le===2||Le===3)){let $e=Ni(R);if(!Qn($e,Et,t.ORDER))throw new Error("Point is not on curve");let Ie=d($e),nt;try{nt=t.sqrt(Ie)}catch(oi){let bt=oi instanceof Error?": "+oi.message:"";throw new Error("Point is not on curve"+bt)}let At=(nt&Et)===Et;return(Le&1)===1!==At&&(nt=t.neg(nt)),{x:$e,y:nt}}else if(Ae===o&&Le===4){let $e=t.fromBytes(R.subarray(0,t.BYTES)),Ie=t.fromBytes(R.subarray(t.BYTES,2*t.BYTES));return{x:$e,y:Ie}}else{let $e=s,Ie=o;throw new Error("invalid Point, expected length of "+$e+", or uncompressed "+Ie+", got "+Ae)}}}),g=he=>Vs(Er(he,e.nByteLength));function y(he){let Ae=r>>Et;return he>Ae}function x(he){return y(he)?l(-he):he}let E=(he,Ae,Le)=>Ni(he.slice(Ae,Le));class _{constructor(Ae,Le,R){this.r=Ae,this.s=Le,this.recovery=R,this.assertValidity()}static fromCompact(Ae){let Le=e.nByteLength;return Ae=ri("compactSignature",Ae,Le*2),new _(E(Ae,0,Le),E(Ae,Le,2*Le))}static fromDER(Ae){let{r:Le,s:R}=gn.toSig(ri("DER",Ae));return new _(Le,R)}assertValidity(){qr("r",this.r,Et,r),qr("s",this.s,Et,r)}addRecoveryBit(Ae){return new _(this.r,this.s,Ae)}recoverPublicKey(Ae){let{r:Le,s:R,recovery:$e}=this,Ie=V(ri("msgHash",Ae));if($e==null||![0,1,2,3].includes($e))throw new Error("recovery id invalid");let nt=$e===2||$e===3?Le+e.n:Le;if(nt>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let At=$e&1?"03":"02",Xt=p.fromHex(At+g(nt)),oi=u(nt),bt=l(-Ie*oi),Bi=l(R*oi),Ti=p.BASE.multiplyAndAddUnsafe(Xt,bt,Bi);if(!Ti)throw new Error("point at infinify");return Ti.assertValidity(),Ti}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Ks(this.toDERHex())}toDERHex(){return gn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ks(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}let S={isValidPrivateKey(he){try{return m(he),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{let he=k0(e.n);return oI(e.randomBytes(he),e.n)},precompute(he=8,Ae=p.BASE){return Ae._setWindowSize(he),Ae.multiply(BigInt(3)),Ae}};function M(he,Ae=!0){return p.fromPrivateKey(he).toRawBytes(Ae)}function O(he){let Ae=Yn(he),Le=typeof he=="string",R=(Ae||Le)&&he.length;return Ae?R===s||R===o:Le?R===2*s||R===2*o:he instanceof p}function j(he,Ae,Le=!0){if(O(he))throw new Error("first arg must be private key");if(!O(Ae))throw new Error("second arg must be public key");return p.fromHex(Ae).multiply(m(he)).toRawBytes(Le)}let Q=e.bits2int||function(he){if(he.length>8192)throw new Error("input is too large");let Ae=Ni(he),Le=he.length*8-e.nBitLength;return Le>0?Ae>>BigInt(Le):Ae},V=e.bits2int_modN||function(he){return l(Q(he))},K=Xc(e.nBitLength);function W(he){return qr("num < 2^"+e.nBitLength,he,Lr,K),Er(he,e.nByteLength)}function ne(he,Ae,Le=se){if(["recovered","canonical"].some(Zi=>Zi in Le))throw new Error("sign() legacy options not supported");let{hash:R,randomBytes:$e}=e,{lowS:Ie,prehash:nt,extraEntropy:At}=Le;Ie==null&&(Ie=!0),he=ri("msgHash",he),hI(Le),nt&&(he=ri("prehashed msgHash",R(he)));let Xt=V(he),oi=m(Ae),bt=[W(oi),W(Xt)];if(At!=null&&At!==!1){let Zi=At===!0?$e(t.BYTES):At;bt.push(ri("extraEntropy",Zi))}let Bi=_i(...bt),Ti=Xt;function Xi(Zi){let hr=Q(Zi);if(!f(hr))return;let Cn=u(hr),dr=p.BASE.multiply(hr).toAffine(),ji=l(dr.x);if(ji===Lr)return;let Fr=l(Cn*l(Ti+ji*oi));if(Fr===Lr)return;let fr=(dr.x===ji?0:2)|Number(dr.y&Et),Is=Fr;return Ie&&y(Fr)&&(Is=x(Fr),fr^=1),new _(ji,Is,fr)}return{seed:Bi,k2sig:Xi}}let se={lowS:e.lowS,prehash:!1},ce={lowS:e.lowS,prehash:!1};function oe(he,Ae,Le=se){let{seed:R,k2sig:$e}=ne(he,Ae,Le),Ie=e;return _0(Ie.hash.outputLen,Ie.nByteLength,Ie.hmac)(R,$e)}p.BASE._setWindowSize(8);function Je(he,Ae,Le,R=ce){let $e=he;Ae=ri("msgHash",Ae),Le=ri("publicKey",Le);let{lowS:Ie,prehash:nt,format:At}=R;if(hI(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(At!==void 0&&At!=="compact"&&At!=="der")throw new Error("format must be compact or der");let Xt=typeof $e=="string"||Yn($e),oi=!Xt&&!At&&typeof $e=="object"&&$e!==null&&typeof $e.r=="bigint"&&typeof $e.s=="bigint";if(!Xt&&!oi)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let bt,Bi;try{if(oi&&(bt=new _($e.r,$e.s)),Xt){try{At!=="compact"&&(bt=_.fromDER($e))}catch(fr){if(!(fr instanceof gn.Err))throw fr}!bt&&At!=="der"&&(bt=_.fromCompact($e))}Bi=p.fromHex(Le)}catch{return!1}if(!bt||Ie&&bt.hasHighS())return!1;nt&&(Ae=e.hash(Ae));let{r:Ti,s:Xi}=bt,Zi=V(Ae),hr=u(Xi),Cn=l(Zi*hr),dr=l(Ti*hr),ji=p.BASE.multiplyAndAddUnsafe(Bi,Cn,dr)?.toAffine();return ji?l(ji.x)===Ti:!1}return{CURVE:e,getPublicKey:M,getSharedSecret:j,sign:oe,verify:Je,ProjectivePoint:p,Signature:_,utils:S}}function TL(i,e){let t=i.ORDER,r=Lr;for(let x=t-Et;x%Xn===Lr;x/=Xn)r+=Et;let s=r,o=Xn<<s-Et-Et,l=o*Xn,u=(t-Et)/l,p=(u-Et)/Xn,m=l-Et,d=o,f=i.pow(e,u),g=i.pow(e,(u+Et)/Xn),y=(x,E)=>{let _=f,S=i.pow(E,m),M=i.sqr(S);M=i.mul(M,E);let O=i.mul(x,M);O=i.pow(O,p),O=i.mul(O,S),S=i.mul(O,E),M=i.mul(O,x);let j=i.mul(M,S);O=i.pow(j,d);let Q=i.eql(O,i.ONE);S=i.mul(M,g),O=i.mul(j,_),M=i.cmov(S,M,Q),j=i.cmov(O,j,Q);for(let V=s;V>Et;V--){let K=V-Xn;K=Xn<<K-Et;let W=i.pow(j,K),ne=i.eql(W,i.ONE);S=i.mul(M,_),_=i.mul(_,_),W=i.mul(j,_),M=i.cmov(S,M,ne),j=i.cmov(W,j,ne)}return{isValid:Q,value:M}};if(i.ORDER%dI===vd){let x=(i.ORDER-vd)/dI,E=i.sqrt(i.neg(e));y=(_,S)=>{let M=i.sqr(S),O=i.mul(_,S);M=i.mul(M,O);let j=i.pow(M,x);j=i.mul(j,O);let Q=i.mul(j,E),V=i.mul(i.sqr(j),S),K=i.eql(V,_),W=i.cmov(Q,j,K);return{isValid:K,value:W}}}return y}function gI(i,e){if(yd(i),!i.isValid(e.A)||!i.isValid(e.B)||!i.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let t=TL(i,e.Z);if(!i.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,o,l,u,p,m,d,f;s=i.sqr(r),s=i.mul(s,e.Z),o=i.sqr(s),o=i.add(o,s),l=i.add(o,i.ONE),l=i.mul(l,e.B),u=i.cmov(e.Z,i.neg(o),!i.eql(o,i.ZERO)),u=i.mul(u,e.A),o=i.sqr(l),m=i.sqr(u),p=i.mul(m,e.A),o=i.add(o,p),o=i.mul(o,l),m=i.mul(m,u),p=i.mul(m,e.B),o=i.add(o,p),d=i.mul(s,l);let{isValid:g,value:y}=t(o,m);f=i.mul(s,r),f=i.mul(f,y),d=i.cmov(d,l,g),f=i.cmov(f,y,g);let x=i.isOdd(r)===i.isOdd(f);return f=i.cmov(i.neg(f),f,x),d=i.div(d,u),{x:d,y:f}}}var SL,wL,C0,gn,Lr,Et,Xn,vd,dI,A0=te(()=>{"use strict";mI();Zc();$s();$s();({bytesToNumberBE:SL,hexToBytes:wL}=x0),C0=class extends Error{constructor(e=""){super(e)}},gn={Err:C0,_tlv:{encode:(i,e)=>{let{Err:t}=gn;if(i<0||i>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");let r=e.length/2,s=Ws(r);if(s.length/2&128)throw new t("tlv.encode: long form length too big");let o=r>127?Ws(s.length/2|128):"";return Ws(i)+o+s+e},decode(i,e){let{Err:t}=gn,r=0;if(i<0||i>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==i)throw new t("tlv.decode: wrong tlv");let s=e[r++],o=!!(s&128),l=0;if(!o)l=s;else{let p=s&127;if(!p)throw new t("tlv.decode(long): indefinite length not supported");if(p>4)throw new t("tlv.decode(long): byte length is too big");let m=e.subarray(r,r+p);if(m.length!==p)throw new t("tlv.decode: length bytes not complete");if(m[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(let d of m)l=l<<8|d;if(r+=p,l<128)throw new t("tlv.decode(long): not minimal encoding")}let u=e.subarray(r,r+l);if(u.length!==l)throw new t("tlv.decode: wrong value length");return{v:u,l:e.subarray(r+l)}}},_int:{encode(i){let{Err:e}=gn;if(i<Lr)throw new e("integer: negative integers are not allowed");let t=Ws(i);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(i){let{Err:e}=gn;if(i[0]&128)throw new e("invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return SL(i)}},toSig(i){let{Err:e,_int:t,_tlv:r}=gn,s=typeof i=="string"?wL(i):i;sr(s);let{v:o,l}=r.decode(48,s);if(l.length)throw new e("invalid signature: left bytes after parsing");let{v:u,l:p}=r.decode(2,o),{v:m,l:d}=r.decode(2,p);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(u),s:t.decode(m)}},hexFromSig(i){let{_tlv:e,_int:t}=gn,r=e.encode(2,t.encode(i.r)),s=e.encode(2,t.encode(i.s)),o=r+s;return e.encode(48,o)}},Lr=BigInt(0),Et=BigInt(1),Xn=BigInt(2),vd=BigInt(3),dI=BigInt(4)});function CL(i){return{hash:i,hmac:(e,...t)=>d0(i,e,dv(...t)),randomBytes:Dh}}function bI(i,e){let t=r=>fI({...i,...CL(r)});return{...t(e),create:t}}var yI=te(()=>{"use strict";eI();Rs();A0();});function Zn(i,e){if(Jc(i),Jc(e),i<0||i>=1<<8*e)throw new Error("invalid I2OSP input: "+i);let t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=i&255,i>>>=8;return new Uint8Array(t)}function ML(i,e){let t=new Uint8Array(i.length);for(let r=0;r<i.length;r++)t[r]=i[r]^e[r];return t}function Jc(i){if(!Number.isSafeInteger(i))throw new Error("number expected")}function RL(i,e,t,r){sr(i),sr(e),Jc(t),e.length>255&&(e=r(_i(Qc("H2C-OVERSIZE-DST-"),e)));let{outputLen:s,blockLen:o}=r,l=Math.ceil(t/s);if(t>65535||l>255)throw new Error("expand_message_xmd: invalid lenInBytes");let u=_i(e,Zn(e.length,1)),p=Zn(0,o),m=Zn(t,2),d=new Array(l),f=r(_i(p,i,m,Zn(0,1),u));d[0]=r(_i(f,Zn(1,1),u));for(let y=1;y<=l;y++){let x=[ML(f,d[y-1]),Zn(y+1,1),u];d[y]=r(_i(...x))}return _i(...d).slice(0,t)}function BL(i,e,t,r,s){if(sr(i),sr(e),Jc(t),e.length>255){let o=Math.ceil(2*r/8);e=s.create({dkLen:o}).update(Qc("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(i).update(Zn(t,2)).update(e).update(Zn(e.length,1)).digest()}function _I(i,e,t){Yr(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:r,k:s,m:o,hash:l,expand:u,DST:p}=t;sr(i),Jc(e);let m=typeof p=="string"?Qc(p):p,d=r.toString(2).length,f=Math.ceil((d+s)/8),g=e*o*f,y;if(u==="xmd")y=RL(i,m,g,l);else if(u==="xof")y=BL(i,m,g,s,l);else if(u==="_internal_pass")y=i;else throw new Error('expand must be "xmd" or "xof"');let x=new Array(e);for(let E=0;E<e;E++){let _=new Array(o);for(let S=0;S<o;S++){let M=f*(S+E*o),O=y.subarray(M,M+f);_[S]=Vt(AL(O),r)}x[E]=_}return x}function xI(i,e){let t=e.map(r=>Array.from(r).reverse());return(r,s)=>{let[o,l,u,p]=t.map(m=>m.reduce((d,f)=>i.add(i.mul(d,r),f)));return r=i.div(o,l),s=i.mul(s,i.div(u,p)),{x:r,y:s}}}function vI(i,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){let o=_I(r,2,{...t,DST:t.DST,...s}),l=i.fromAffine(e(o[0])),u=i.fromAffine(e(o[1])),p=l.add(u).clearCofactor();return p.assertValidity(),p},encodeToCurve(r,s){let o=_I(r,1,{...t,DST:t.encodeDST,...s}),l=i.fromAffine(e(o[0])).clearCofactor();return l.assertValidity(),l},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(let o of r)if(typeof o!="bigint")throw new Error("mapToCurve: expected array of bigints");let s=i.fromAffine(e(r)).clearCofactor();return s.assertValidity(),s}}}var AL,II=te(()=>{"use strict";Zc();$s();AL=Ni});var MI={};T_(MI,{encodeToCurve:()=>zL,hashToCurve:()=>HL,schnorr:()=>FL,secp256k1:()=>bn});function wI(i){let e=iu,t=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),l=BigInt(23),u=BigInt(44),p=BigInt(88),m=i*i*i%e,d=m*m*i%e,f=Ki(d,t,e)*d%e,g=Ki(f,t,e)*d%e,y=Ki(g,kd,e)*m%e,x=Ki(y,s,e)*y%e,E=Ki(x,o,e)*x%e,_=Ki(E,u,e)*E%e,S=Ki(_,p,e)*_%e,M=Ki(S,u,e)*E%e,O=Ki(M,t,e)*d%e,j=Ki(O,l,e)*x%e,Q=Ki(j,r,e)*m%e,V=Ki(Q,kd,e);if(!Jn.eql(Jn.sqr(V),i))throw new Error("Cannot find square root");return V}function Sd(i,...e){let t=SI[i];if(t===void 0){let r=js(Uint8Array.from(i,s=>s.charCodeAt(0)));t=_i(r,r),SI[i]=t}return js(_i(t,...e))}function B0(i){let e=bn.utils.normPrivateKeyToScalar(i),t=O0.fromPrivateKey(e);return{scalar:t.hasEvenY()?e:tu(-e),bytes:D0(t)}}function LI(i){qr("x",i,eu,iu);let e=M0(i*i),t=M0(e*i+BigInt(7)),r=wI(t);r%kd!==EI&&(r=M0(-r));let s=new O0(i,r,eu);return s.assertValidity(),s}function TI(...i){return tu(ta(Sd("BIP0340/challenge",...i)))}function OL(i){return B0(i).bytes}function NL(i,e,t=Dh(32)){let r=ri("message",i),{bytes:s,scalar:o}=B0(e),l=ri("auxRand",t,32),u=R0(o^ta(Sd("BIP0340/aux",l))),p=Sd("BIP0340/nonce",u,s,r),m=tu(ta(p));if(m===EI)throw new Error("sign failed: k is zero");let{bytes:d,scalar:f}=B0(m),g=TI(d,s,r),y=new Uint8Array(64);if(y.set(d,0),y.set(R0(tu(f+g*o)),32),!CI(y,r,s))throw new Error("sign: Invalid signature produced");return y}function CI(i,e,t){let r=ri("signature",i,64),s=ri("message",e),o=ri("publicKey",t,32);try{let l=LI(ta(o)),u=ta(r.subarray(0,32));if(!Qn(u,eu,iu))return!1;let p=ta(r.subarray(32,64));if(!Qn(p,eu,Id))return!1;let m=TI(R0(u),D0(l),s),d=DL(l,p,tu(-m));return!(!d||!d.hasEvenY()||d.toAffine().x!==u)}catch{return!1}}var iu,Id,eu,kd,kI,Jn,bn,EI,SI,D0,R0,M0,tu,O0,DL,ta,FL,PL,UL,AI,HL,zL,wd=te(()=>{"use strict";h0();Rs();yI();II();Zc();$s();A0();iu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Id=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eu=BigInt(1),kd=BigInt(2),kI=(i,e)=>(i+e/kd)/e;Jn=_d(iu,void 0,void 0,{sqrt:wI}),bn=bI({a:BigInt(0),b:BigInt(7),Fp:Jn,n:Id,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:i=>{let e=Id,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=t,l=BigInt("0x100000000000000000000000000000000"),u=kI(o*i,e),p=kI(-r*i,e),m=Vt(i-u*t-p*s,e),d=Vt(-u*r-p*o,e),f=m>l,g=d>l;if(f&&(m=e-m),g&&(d=e-d),m>l||d>l)throw new Error("splitScalar: Endomorphism failed, k="+i);return{k1neg:f,k1:m,k2neg:g,k2:d}}}},js),EI=BigInt(0),SI={};D0=i=>i.toRawBytes(!0).slice(1),R0=i=>Er(i,32),M0=i=>Vt(i,iu),tu=i=>Vt(i,Id),O0=bn.ProjectivePoint,DL=(i,e,t)=>O0.BASE.multiplyAndAddUnsafe(i,e,t);ta=Ni;FL=(()=>({getPublicKey:OL,sign:NL,verify:CI,utils:{randomPrivateKey:bn.utils.randomPrivateKey,lift_x:LI,pointToBytes:D0,numberToBytesBE:Er,bytesToNumberBE:Ni,taggedHash:Sd,mod:Vt}}))(),PL=(()=>xI(Jn,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(i=>i.map(e=>BigInt(e)))))(),UL=(()=>gI(Jn,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Jn.create(BigInt("-11"))}))(),AI=(()=>vI(bn.ProjectivePoint,i=>{let{x:e,y:t}=UL(Jn.create(i[0]));return PL(e,t)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Jn.ORDER,m:1,k:128,expand:"xmd",hash:js}))(),HL=(()=>AI.hashToCurve)(),zL=(()=>AI.encodeToCurve)()});var yn,or,ia,ra,na,sa,oa,aa,la,ca,Qr,ar,es=te(()=>{"use strict";Po();rt();yn=class extends H{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}};Object.defineProperty(yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});or=class extends H{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${ii(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}};Object.defineProperty(or,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});ia=class extends H{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${ii(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}};Object.defineProperty(ia,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});ra=class extends H{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}};Object.defineProperty(ra,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});na=class extends H{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}};Object.defineProperty(na,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});sa=class extends H{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}};Object.defineProperty(sa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});oa=class extends H{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(oa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});aa=class extends H{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(aa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});la=class extends H{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(la,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});ca=class extends H{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(ca,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});Qr=class extends H{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${ii(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ii(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}};Object.defineProperty(Qr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});ar=class extends H{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}});function ts(i,e){let t=(i.details||"").toLowerCase(),r=i instanceof H?i.walk(s=>s?.code===yn.code):i;return r instanceof H?new yn({cause:i,message:r.details}):yn.nodeMessage.test(t)?new yn({cause:i,message:i.details}):or.nodeMessage.test(t)?new or({cause:i,maxFeePerGas:e?.maxFeePerGas}):ia.nodeMessage.test(t)?new ia({cause:i,maxFeePerGas:e?.maxFeePerGas}):ra.nodeMessage.test(t)?new ra({cause:i,nonce:e?.nonce}):na.nodeMessage.test(t)?new na({cause:i,nonce:e?.nonce}):sa.nodeMessage.test(t)?new sa({cause:i,nonce:e?.nonce}):oa.nodeMessage.test(t)?new oa({cause:i}):aa.nodeMessage.test(t)?new aa({cause:i,gas:e?.gas}):la.nodeMessage.test(t)?new la({cause:i,gas:e?.gas}):ca.nodeMessage.test(t)?new ca({cause:i}):Qr.nodeMessage.test(t)?new Qr({cause:i,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new ar({cause:i})}var ru=te(()=>{"use strict";rt();es()});function is(i,{format:e}){if(!e)return{};let t={};function r(o){let l=Object.keys(o);for(let u of l)u in i&&(t[u]=i[u]),o[u]&&typeof o[u]=="object"&&!Array.isArray(o[u])&&r(o[u])}let s=e(i||{});return r(s),t}var nu=te(()=>{"use strict"});function ua(i,e){return({exclude:t,format:r})=>({exclude:t,format:s=>{let o=e(s);if(t)for(let l of t)delete o[l];return{...o,...r(s)}},type:i})}var Cd=te(()=>{"use strict"});function lr(i){let e={};return typeof i.authorizationList<"u"&&(e.authorizationList=WL(i.authorizationList)),typeof i.accessList<"u"&&(e.accessList=i.accessList),typeof i.blobVersionedHashes<"u"&&(e.blobVersionedHashes=i.blobVersionedHashes),typeof i.blobs<"u"&&(typeof i.blobs[0]!="string"?e.blobs=i.blobs.map(t=>ut(t)):e.blobs=i.blobs),typeof i.data<"u"&&(e.data=i.data),typeof i.from<"u"&&(e.from=i.from),typeof i.gas<"u"&&(e.gas=we(i.gas)),typeof i.gasPrice<"u"&&(e.gasPrice=we(i.gasPrice)),typeof i.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=we(i.maxFeePerBlobGas)),typeof i.maxFeePerGas<"u"&&(e.maxFeePerGas=we(i.maxFeePerGas)),typeof i.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=we(i.maxPriorityFeePerGas)),typeof i.nonce<"u"&&(e.nonce=we(i.nonce)),typeof i.to<"u"&&(e.to=i.to),typeof i.type<"u"&&(e.type=VL[i.type]),typeof i.value<"u"&&(e.value=we(i.value)),e}function WL(i){return i.map(e=>({address:e.address,r:e.r?we(BigInt(e.r)):e.r,s:e.s?we(BigInt(e.s)):e.s,chainId:we(e.chainId),nonce:we(e.nonce),...typeof e.yParity<"u"?{yParity:we(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:we(e.v)}:{}}))}var VL,Ys=te(()=>{"use strict";ze();VL={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"}});function PI(i){if(!(!i||i.length===0))return i.reduce((e,{slot:t,value:r})=>{if(t.length!==66)throw new Uc({size:t.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Uc({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function KL(i){let{balance:e,nonce:t,state:r,stateDiff:s,code:o}=i,l={};if(o!==void 0&&(l.code=o),e!==void 0&&(l.balance=we(e)),t!==void 0&&(l.nonce=we(t)),r!==void 0&&(l.state=PI(r)),s!==void 0){if(l.state)throw new Zh;l.stateDiff=PI(s)}return l}function pa(i){if(!i)return;let e={};for(let{address:t,...r}of i){if(!wt(t,{strict:!1}))throw new Mt({address:t});if(e[t])throw new Xh({address:t});e[t]=KL(r)}return e}var Ad=te(()=>{"use strict";zr();Sh();p0();Sr();ze()});var RP,BP,DP,OP,NP,FP,PP,UP,HP,zP,jP,GP,VP,WP,KP,$P,qP,YP,QP,XP,ZP,JP,e6,t6,i6,r6,n6,s6,o6,a6,l6,c6,u6,p6,m6,h6,d6,f6,g6,b6,y6,_6,x6,v6,I6,k6,S6,w6,E6,L6,T6,C6,A6,M6,R6,B6,D6,O6,N6,F6,P6,U6,H6,z6,j6,G6,V6,W6,K6,$6,q6,Y6,Q6,X6,Z6,J6,e5,t5,i5,r5,n5,s5,o5,a5,l5,c5,u5,p5,m5,h5,d5,f5,g5,b5,y5,ma,N0=te(()=>{"use strict";RP=2n**(8n-1n)-1n,BP=2n**(16n-1n)-1n,DP=2n**(24n-1n)-1n,OP=2n**(32n-1n)-1n,NP=2n**(40n-1n)-1n,FP=2n**(48n-1n)-1n,PP=2n**(56n-1n)-1n,UP=2n**(64n-1n)-1n,HP=2n**(72n-1n)-1n,zP=2n**(80n-1n)-1n,jP=2n**(88n-1n)-1n,GP=2n**(96n-1n)-1n,VP=2n**(104n-1n)-1n,WP=2n**(112n-1n)-1n,KP=2n**(120n-1n)-1n,$P=2n**(128n-1n)-1n,qP=2n**(136n-1n)-1n,YP=2n**(144n-1n)-1n,QP=2n**(152n-1n)-1n,XP=2n**(160n-1n)-1n,ZP=2n**(168n-1n)-1n,JP=2n**(176n-1n)-1n,e6=2n**(184n-1n)-1n,t6=2n**(192n-1n)-1n,i6=2n**(200n-1n)-1n,r6=2n**(208n-1n)-1n,n6=2n**(216n-1n)-1n,s6=2n**(224n-1n)-1n,o6=2n**(232n-1n)-1n,a6=2n**(240n-1n)-1n,l6=2n**(248n-1n)-1n,c6=2n**(256n-1n)-1n,u6=-(2n**(8n-1n)),p6=-(2n**(16n-1n)),m6=-(2n**(24n-1n)),h6=-(2n**(32n-1n)),d6=-(2n**(40n-1n)),f6=-(2n**(48n-1n)),g6=-(2n**(56n-1n)),b6=-(2n**(64n-1n)),y6=-(2n**(72n-1n)),_6=-(2n**(80n-1n)),x6=-(2n**(88n-1n)),v6=-(2n**(96n-1n)),I6=-(2n**(104n-1n)),k6=-(2n**(112n-1n)),S6=-(2n**(120n-1n)),w6=-(2n**(128n-1n)),E6=-(2n**(136n-1n)),L6=-(2n**(144n-1n)),T6=-(2n**(152n-1n)),C6=-(2n**(160n-1n)),A6=-(2n**(168n-1n)),M6=-(2n**(176n-1n)),R6=-(2n**(184n-1n)),B6=-(2n**(192n-1n)),D6=-(2n**(200n-1n)),O6=-(2n**(208n-1n)),N6=-(2n**(216n-1n)),F6=-(2n**(224n-1n)),P6=-(2n**(232n-1n)),U6=-(2n**(240n-1n)),H6=-(2n**(248n-1n)),z6=-(2n**(256n-1n)),j6=2n**8n-1n,G6=2n**16n-1n,V6=2n**24n-1n,W6=2n**32n-1n,K6=2n**40n-1n,$6=2n**48n-1n,q6=2n**56n-1n,Y6=2n**64n-1n,Q6=2n**72n-1n,X6=2n**80n-1n,Z6=2n**88n-1n,J6=2n**96n-1n,e5=2n**104n-1n,t5=2n**112n-1n,i5=2n**120n-1n,r5=2n**128n-1n,n5=2n**136n-1n,s5=2n**144n-1n,o5=2n**152n-1n,a5=2n**160n-1n,l5=2n**168n-1n,c5=2n**176n-1n,u5=2n**184n-1n,p5=2n**192n-1n,m5=2n**200n-1n,h5=2n**208n-1n,d5=2n**216n-1n,f5=2n**224n-1n,g5=2n**232n-1n,b5=2n**240n-1n,y5=2n**248n-1n,ma=2n**256n-1n});function Fi(i){let{account:e,gasPrice:t,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=i,l=e?at(e):void 0;if(l&&!wt(l.address))throw new Mt({address:l.address});if(o&&!wt(o))throw new Mt({address:o});if(typeof t<"u"&&(typeof r<"u"||typeof s<"u"))throw new Jh;if(r&&r>ma)throw new or({maxFeePerGas:r});if(s&&r&&s>r)throw new Qr({maxFeePerGas:r,maxPriorityFeePerGas:s})}var rs=te(()=>{"use strict";ti();N0();zr();es();wr();Sr()});function Xr(i,e){if(!wt(i,{strict:!1}))throw new Mt({address:i});if(!wt(e,{strict:!1}))throw new Mt({address:e});return i.toLowerCase()===e.toLowerCase()}var xa=te(()=>{"use strict";zr();Sr()});function Pi(i){let{abi:e,args:t,functionName:r,data:s}=i,o=e[0];if(r){let u=Gr({abi:e,args:t,name:r});if(!u)throw new Bn(r,{docsPath:H0});o=u}if(o.type!=="function")throw new Bn(void 0,{docsPath:H0});if(!o.outputs)throw new bh(o.name,{docsPath:H0});let l=Os(o.outputs,s);if(l&&l.length>1)return l;if(l&&l.length===1)return l[0]}var H0,os=te(()=>{"use strict";Jt();$h();Bo();H0="/docs/contract/decodeFunctionResult"});var ou,YI,jd,QI,z0,j0,G0,Xs=te(()=>{"use strict";ou=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],YI=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],jd=[...YI,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],QI=[...YI,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],z0=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],j0=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],G0=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]});var XI,ZI=te(()=>{"use strict";XI="0x82ad56cb"});var Gd,JI,ek,Vd=te(()=>{"use strict";Gd="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",JI="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",ek="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"});var Zs,Wd,Kd,au,Js,lu=te(()=>{"use strict";rt();Zs=class extends H{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},Wd=class extends H{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}},Kd=class extends H{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},au=class extends H{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}},Js=class extends H{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}});function eo(i){let{abi:e,args:t,bytecode:r}=i;if(!t||t.length===0)return r;let s=e.find(l=>"type"in l&&l.type==="constructor");if(!s)throw new mh({docsPath:V0});if(!("inputs"in s))throw new Oc({docsPath:V0});if(!s.inputs||s.inputs.length===0)throw new Oc({docsPath:V0});let o=Vi(s.inputs,t);return bi([r,o])}var V0,$d=te(()=>{"use strict";Jt();ir();Hn();V0="/docs/contract/encodeDeployData"});function ur({blockNumber:i,chain:e,contract:t}){let r=e?.contracts?.[t];if(!r)throw new Zs({chain:e,contract:{name:t}});if(i&&r.blockCreated&&r.blockCreated>i)throw new Zs({blockNumber:i,chain:e,contract:{name:t,blockCreated:r.blockCreated}});return r.address}var to=te(()=>{"use strict";lu()});function qd(i,{docsPath:e,...t}){let r=(()=>{let s=ts(i,t);return s instanceof ar?i:s})();return new zo(r,{docsPath:e,...t})}var W0=te(()=>{"use strict";Gn();es();ru()});function Yd(){let i=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{i=r,e=s}),resolve:i,reject:e}}var K0=te(()=>{"use strict"});function Qd({fn:i,id:e,shouldSplitBatch:t,wait:r=0,sort:s}){let o=async()=>{let d=p();l();let f=d.map(({args:g})=>g);f.length!==0&&i(f).then(g=>{s&&Array.isArray(g)&&g.sort(s);for(let y=0;y<d.length;y++){let{resolve:x}=d[y];x?.([g[y],g])}}).catch(g=>{for(let y=0;y<d.length;y++){let{reject:x}=d[y];x?.(g)}})},l=()=>$0.delete(e),u=()=>p().map(({args:d})=>d),p=()=>$0.get(e)||[],m=d=>$0.set(e,[...p(),d]);return{flush:l,async schedule(d){let{promise:f,resolve:g,reject:y}=Yd();return t?.([...u(),d])&&o(),p().length>0?(m({args:d,resolve:g,reject:y}),f):(m({args:d,resolve:g,reject:y}),setTimeout(o,r),f)}}}var $0,q0=te(()=>{"use strict";K0();$0=new Map});var Xd,Zd,Jd,tk=te(()=>{"use strict";Mi();rt();sd();Xd=class extends H{constructor({callbackSelector:e,cause:t,data:r,extraData:s,sender:o,urls:l}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",l&&["  Gateway URL(s):",...l.map(u=>`    ${Fs(u)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}},Zd=class extends H{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Fs(t)}`,`Response: ${pt(e)}`],name:"OffchainLookupResponseMalformedError"})}},Jd=class extends H{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}});var nk={};T_(nk,{ccipRequest:()=>rk,offchainLookup:()=>JL,offchainLookupAbiItem:()=>ik,offchainLookupSignature:()=>ZL});async function JL(i,{blockNumber:e,blockTag:t,data:r,to:s}){let{args:o}=qh({data:r,abi:[ik]}),[l,u,p,m,d]=o,{ccipRead:f}=i,g=f&&typeof f?.request=="function"?f.request:rk;try{if(!Xr(s,l))throw new Jd({sender:l,to:s});let y=await g({data:p,sender:l,urls:u}),{data:x}=await Zr(i,{blockNumber:e,blockTag:t,data:Ai([m,Vi([{type:"bytes"},{type:"bytes"}],[y,d])]),to:s});return x}catch(y){throw new Xd({callbackSelector:m,cause:y,data:r,extraData:d,sender:l,urls:u})}}async function rk({data:i,sender:e,urls:t}){let r=new Error("An unknown error occurred.");for(let s=0;s<t.length;s++){let o=t[s],l=o.includes("{data}")?"GET":"POST",u=l==="POST"?{data:i,sender:e}:void 0,p=l==="POST"?{"Content-Type":"application/json"}:{};try{let m=await fetch(o.replace("{sender}",e.toLowerCase()).replace("{data}",i),{body:JSON.stringify(u),headers:p,method:l}),d;if(m.headers.get("Content-Type")?.startsWith("application/json")?d=(await m.json()).data:d=await m.text(),!m.ok){r=new nr({body:u,details:d?.error?pt(d.error):m.statusText,headers:m.headers,status:m.status,url:o});continue}if(!Gt(d)){r=new Zd({result:d,url:o});continue}return d}catch(m){r=new nr({body:u,details:m.message,url:o})}}throw r}var ZL,ik,sk=te(()=>{"use strict";Sa();tk();Us();l0();Hn();xa();ir();br();Mi();ZL="0x556f1830",ik={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]}});async function Zr(i,e){let{account:t=i.account,batch:r=!!i.batch?.multicall,blockNumber:s,blockTag:o="latest",accessList:l,blobs:u,code:p,data:m,factory:d,factoryData:f,gas:g,gasPrice:y,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:S,to:M,value:O,stateOverride:j,...Q}=e,V=t?at(t):void 0;if(p&&(d||f))throw new H("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(p&&M)throw new H("Cannot provide both `code` & `to` as parameters.");let K=p&&m,W=d&&f&&M&&m,ne=K||W,se=(()=>K?iT({code:p,data:m}):W?rT({data:m,factory:d,factoryData:f,to:M}):m)();try{Fi(e);let oe=(s?we(s):void 0)||o,Je=pa(j),he=i.chain?.formatters?.transactionRequest?.format,Le=(he||lr)({...is(Q,{format:he}),from:V?.address,accessList:l,blobs:u,data:se,gas:g,gasPrice:y,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:S,to:ne?void 0:M,value:O});if(r&&eT({request:Le})&&!Je)try{return await tT(i,{...Le,blockNumber:s,blockTag:o})}catch($e){if(!($e instanceof au)&&!($e instanceof Zs))throw $e}let R=await i.request({method:"eth_call",params:Je?[Le,oe,Je]:[Le,oe]});return R==="0x"?{data:void 0}:{data:R}}catch(ce){let oe=nT(ce),{offchainLookup:Je,offchainLookupSignature:he}=await Promise.resolve().then(()=>(sk(),nk));if(i.ccipRead!==!1&&oe?.slice(0,10)===he&&M)return{data:await Je(i,{data:oe,to:M})};throw ne&&oe?.slice(0,10)==="0x101bb98d"?new ld({factory:d}):qd(ce,{...e,account:V,chain:i.chain})}}function eT({request:i}){let{data:e,to:t,...r}=i;return!(!e||e.startsWith(XI)||!t||Object.values(r).filter(s=>typeof s<"u").length>0)}async function tT(i,e){let{batchSize:t=1024,wait:r=0}=typeof i.batch?.multicall=="object"?i.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:l,multicallAddress:u,to:p}=e,m=u;if(!m){if(!i.chain)throw new au;m=ur({blockNumber:s,chain:i.chain,contract:"multicall3"})}let f=(s?we(s):void 0)||o,{schedule:g}=Qd({id:`${i.uid}.${f}`,wait:r,shouldSplitBatch(E){return E.reduce((S,{data:M})=>S+(M.length-2),0)>t*2},fn:async E=>{let _=E.map(O=>({allowFailure:!0,callData:O.data,target:O.to})),S=Bt({abi:ou,args:[_],functionName:"aggregate3"}),M=await i.request({method:"eth_call",params:[{data:S,to:m},f]});return Pi({abi:ou,args:[_],functionName:"aggregate3",data:M||"0x"})}}),[{returnData:y,success:x}]=await g({data:l,to:p});if(!x)throw new Kr({data:y});return y==="0x"?{data:void 0}:{data:y}}function iT(i){let{code:e,data:t}=i;return eo({abi:lh(["constructor(bytes, bytes)"]),bytecode:Gd,args:[e,t]})}function rT(i){let{data:e,factory:t,factoryData:r,to:s}=i;return eo({abi:lh(["constructor(address, bytes, address, bytes)"]),bytecode:JI,args:[s,e,t,r]})}function nT(i){if(!(i instanceof H))return;let e=i.walk();return typeof e?.data=="object"?e.data?.data:e.data}var Sa=te(()=>{"use strict";uh();ti();Xs();ZI();Vd();rt();lu();Gn();os();$d();rr();to();ze();W0();nu();Ys();q0();Ad();rs()});var Ow=xx(pi=>{"use strict";var I1=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,e,t){i!=Array.prototype&&i!=Object.prototype&&(i[e]=t.value)},oo=typeof window<"u"&&window===pi?pi:typeof global<"u"&&global!=null?global:pi;function dC(i,e){if(e){var t=oo;i=i.split(".");for(var r=0;r<i.length-1;r++){var s=i[r];s in t||(t[s]={}),t=t[s]}i=i[i.length-1],r=t[i],e=e(r),e!=r&&e!=null&&I1(t,i,{configurable:!0,writable:!0,value:e})}}function fC(i){var e=0;return function(){return e<i.length?{done:!1,value:i[e++]}:{done:!0}}}function ow(){ow=function(){},oo.Symbol||(oo.Symbol=gC)}function aw(i,e){this.a=i,I1(this,"description",{configurable:!0,writable:!0,value:e})}aw.prototype.toString=function(){return this.a};var gC=function(){function i(t){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return new aw("jscomp_symbol_"+(t||"")+"_"+e++,t)}var e=0;return i}();function k1(){ow();var i=oo.Symbol.iterator;i||(i=oo.Symbol.iterator=oo.Symbol("Symbol.iterator")),typeof Array.prototype[i]!="function"&&I1(Array.prototype,i,{configurable:!0,writable:!0,value:function(){return bC(fC(this))}}),k1=function(){}}function bC(i){return k1(),i={next:i},i[oo.Symbol.iterator]=function(){return this},i}function yC(i,e){k1(),i instanceof String&&(i+="");var t=0,r={next:function(){if(t<i.length){var s=t++;return{value:e(s,i[s]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}dC("Array.prototype.entries",function(i){return i||function(){return yC(this,function(e,t){return[e,t]})}});var _C=pi||self;function Be(i,e,t){i=i.split("."),t=t||_C,i[0]in t||typeof t.execScript>"u"||t.execScript("var "+i[0]);for(var r;i.length&&(r=i.shift());)i.length||e===void 0?t[r]&&t[r]!==Object.prototype[r]?t=t[r]:t=t[r]={}:t[r]=e}function vn(i){var e=typeof i;if(e=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return e;var t=Object.prototype.toString.call(i);if(t=="[object Window]")return"object";if(t=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(t=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(e=="function"&&typeof i.call>"u")return"object";return e}function tw(i){var e=typeof i;return e=="object"&&i!=null||e=="function"}function xC(i,e,t){Be(i,e,t)}function vC(i,e){function t(){}t.prototype=e.prototype,i.prototype=new t,i.prototype.constructor=i}var iw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IC(i,e){for(var t,r,s=1;s<arguments.length;s++){r=arguments[s];for(t in r)i[t]=r[t];for(var o=0;o<iw.length;o++)t=iw[o],Object.prototype.hasOwnProperty.call(r,t)&&(i[t]=r[t])}}var kC=Array.prototype.forEach?function(i,e){Array.prototype.forEach.call(i,e,void 0)}:function(i,e){for(var t=i.length,r=typeof i=="string"?i.split(""):i,s=0;s<t;s++)s in r&&e.call(void 0,r[s],s,i)},Tu=Array.prototype.map?function(i,e){return Array.prototype.map.call(i,e,void 0)}:function(i,e){for(var t=i.length,r=Array(t),s=typeof i=="string"?i.split(""):i,o=0;o<t;o++)o in s&&(r[o]=e.call(void 0,s[o],o,i));return r};function SC(i,e,t){return 2>=arguments.length?Array.prototype.slice.call(i,e):Array.prototype.slice.call(i,e,t)}function lg(i,e,t,r){var s="Assertion failed";if(t){s+=": "+t;var o=r}else i&&(s+=": "+i,o=e);throw Error(s,o||[])}function G(i,e,t){for(var r=[],s=2;s<arguments.length;++s)r[s-2]=arguments[s];return i||lg("",null,e,r),i}function wC(i,e,t){for(var r=[],s=2;s<arguments.length;++s)r[s-2]=arguments[s];typeof i!="string"&&lg("Expected string but got %s: %s.",[vn(i),i],e,r)}function EC(i,e,t){for(var r=[],s=2;s<arguments.length;++s)r[s-2]=arguments[s];Array.isArray(i)||lg("Expected array but got %s: %s.",[vn(i),i],e,r)}function si(i,e){for(var t=[],r=1;r<arguments.length;++r)t[r-1]=arguments[r];throw Error("Failure"+(i?": "+i:""),t)}function Mr(i,e,t,r){for(var s=[],o=3;o<arguments.length;++o)s[o-3]=arguments[o];i instanceof e||lg("Expected instanceof %s but got %s.",[rw(e),rw(i)],t,s)}function rw(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i}function We(i,e){if(this.c=i,this.b=e,this.a={},this.arrClean=!0,0<this.c.length){for(i=0;i<this.c.length;i++){e=this.c[i];var t=e[0];this.a[t.toString()]=new lw(t,e[1])}this.arrClean=!0}}Be("jspb.Map",We,void 0);We.prototype.g=function(){if(this.arrClean){if(this.b){var i=this.a,e;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var t=i[e].a;t&&t.g()}}}else{for(this.c.length=0,i=ms(this),i.sort(),e=0;e<i.length;e++){var r=this.a[i[e]];(t=r.a)&&t.g(),this.c.push([r.key,r.value])}this.arrClean=!0}return this.c};We.prototype.toArray=We.prototype.g;We.prototype.Mc=function(i,e){for(var t=this.g(),r=[],s=0;s<t.length;s++){var o=this.a[t[s][0].toString()];ja(this,o);var l=o.a;l?(G(e),r.push([o.key,e(i,l)])):r.push([o.key,o.value])}return r};We.prototype.toObject=We.prototype.Mc;We.fromObject=function(i,e,t){e=new We([],e);for(var r=0;r<i.length;r++){var s=i[r][0],o=t(i[r][1]);e.set(s,o)}return e};function Cu(i){this.a=0,this.b=i}Cu.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}};typeof Symbol<"u"&&(Cu.prototype[Symbol.iterator]=function(){return this});We.prototype.Jb=function(){return ms(this).length};We.prototype.getLength=We.prototype.Jb;We.prototype.clear=function(){this.a={},this.arrClean=!1};We.prototype.clear=We.prototype.clear;We.prototype.Cb=function(i){i=i.toString();var e=this.a.hasOwnProperty(i);return delete this.a[i],this.arrClean=!1,e};We.prototype.del=We.prototype.Cb;We.prototype.Eb=function(){var i=[],e=ms(this);e.sort();for(var t=0;t<e.length;t++){var r=this.a[e[t]];i.push([r.key,r.value])}return i};We.prototype.getEntryList=We.prototype.Eb;We.prototype.entries=function(){var i=[],e=ms(this);e.sort();for(var t=0;t<e.length;t++){var r=this.a[e[t]];i.push([r.key,ja(this,r)])}return new Cu(i)};We.prototype.entries=We.prototype.entries;We.prototype.keys=function(){var i=[],e=ms(this);e.sort();for(var t=0;t<e.length;t++)i.push(this.a[e[t]].key);return new Cu(i)};We.prototype.keys=We.prototype.keys;We.prototype.values=function(){var i=[],e=ms(this);e.sort();for(var t=0;t<e.length;t++)i.push(ja(this,this.a[e[t]]));return new Cu(i)};We.prototype.values=We.prototype.values;We.prototype.forEach=function(i,e){var t=ms(this);t.sort();for(var r=0;r<t.length;r++){var s=this.a[t[r]];i.call(e,ja(this,s),s.key,this)}};We.prototype.forEach=We.prototype.forEach;We.prototype.set=function(i,e){var t=new lw(i);return this.b?(t.a=e,t.value=e.g()):t.value=e,this.a[i.toString()]=t,this.arrClean=!1,this};We.prototype.set=We.prototype.set;function ja(i,e){return i.b?(e.a||(e.a=new i.b(e.value)),e.a):e.value}We.prototype.get=function(i){if(i=this.a[i.toString()])return ja(this,i)};We.prototype.get=We.prototype.get;We.prototype.has=function(i){return i.toString()in this.a};We.prototype.has=We.prototype.has;We.prototype.Jc=function(i,e,t,r,s){var o=ms(this);o.sort();for(var l=0;l<o.length;l++){var u=this.a[o[l]];e.Va(i),t.call(e,1,u.key),this.b?r.call(e,2,ja(this,u),s):r.call(e,2,u.value),e.Ya()}};We.prototype.serializeBinary=We.prototype.Jc;We.deserializeBinary=function(i,e,t,r,s,o,l){for(;e.oa()&&!e.bb();){var u=e.c;u==1?o=t.call(e):u==2&&(i.b?(G(s),l||(l=new i.b),r.call(e,l,s)):l=r.call(e))}G(o!=null),G(l!=null),i.set(o,l)};function ms(i){i=i.a;var e=[],t;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(t);return e}function lw(i,e){this.key=i,this.value=e,this.a=void 0}function cw(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var e="",t=0;t<i.length;t+=8192)e+=String.fromCharCode.apply(null,SC(i,t,t+8192));return e}var y1={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},ag={"'":"\\'"},uw={},Su=null;function pw(i,e){e===void 0&&(e=0),hw(),e=uw[e];for(var t=[],r=0;r<i.length;r+=3){var s=i[r],o=r+1<i.length,l=o?i[r+1]:0,u=r+2<i.length,p=u?i[r+2]:0,m=s>>2;s=(s&3)<<4|l>>4,l=(l&15)<<2|p>>6,p&=63,u||(p=64,o||(l=64)),t.push(e[m],e[s],e[l]||"",e[p]||"")}return t.join("")}function mw(i){var e=i.length,t=3*e/4;t%3?t=Math.floor(t):"=.".indexOf(i[e-1])!=-1&&(t="=.".indexOf(i[e-2])!=-1?t-2:t-1);var r=new Uint8Array(t),s=0;return LC(i,function(o){r[s++]=o}),r.subarray(0,s)}function LC(i,e){function t(p){for(;r<i.length;){var m=i.charAt(r++),d=Su[m];if(d!=null)return d;if(!/^[\s\xa0]*$/.test(m))throw Error("Unknown base64 encoding at char: "+m)}return p}hw();for(var r=0;;){var s=t(-1),o=t(0),l=t(64),u=t(64);if(u===64&&s===-1)break;e(s<<2|o>>4),l!=64&&(e(o<<4&240|l>>2),u!=64&&e(l<<6&192|u))}}function hw(){if(!Su){Su={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],t=0;5>t;t++){var r=i.concat(e[t].split(""));uw[t]=r;for(var s=0;s<r.length;s++){var o=r[s];Su[o]===void 0&&(Su[o]=s)}}}}Be("jspb.ConstBinaryMessage",function(){},void 0);Be("jspb.BinaryMessage",function(){},void 0);Be("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0);Be("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0);Be("jspb.BinaryConstants.FieldTypeToWireType",function(i){switch(i){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0);Be("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0);Be("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0);Be("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0);Be("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0);Be("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0);Be("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0);Be("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0);Be("jspb.BinaryConstants.TWO_TO_20",1048576,void 0);Be("jspb.BinaryConstants.TWO_TO_23",8388608,void 0);Be("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0);Be("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0);Be("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0);Be("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0);Be("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0);Be("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var yt=0,xt=0;Be("jspb.utils.getSplit64Low",function(){return yt},void 0);Be("jspb.utils.getSplit64High",function(){return xt},void 0);function S1(i){var e=i>>>0;i=Math.floor((i-e)/4294967296)>>>0,yt=e,xt=i}Be("jspb.utils.splitUint64",S1,void 0);function Au(i){var e=0>i;i=Math.abs(i);var t=i>>>0;i=Math.floor((i-t)/4294967296),i>>>=0,e&&(i=~i>>>0,t=(~t>>>0)+1,4294967295<t&&(t=0,i++,4294967295<i&&(i=0))),yt=t,xt=i}Be("jspb.utils.splitInt64",Au,void 0);function dw(i){var e=0>i;i=2*Math.abs(i),S1(i),i=yt;var t=xt;e&&(i==0?t==0?t=i=4294967295:(t--,i=4294967295):i--),yt=i,xt=t}Be("jspb.utils.splitZigzag64",dw,void 0);function fw(i){var e=0>i?1:0;if(i=e?-i:i,i===0)0<1/i?yt=xt=0:(xt=0,yt=2147483648);else if(isNaN(i))xt=0,yt=2147483647;else if(34028234663852886e22<i)xt=0,yt=(e<<31|2139095040)>>>0;else if(11754943508222875e-54>i)i=Math.round(i/Math.pow(2,-149)),xt=0,yt=(e<<31|i)>>>0;else{var t=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-t),i=Math.round(8388608*i),16777216<=i&&++t,xt=0,yt=(e<<31|t+127<<23|i&8388607)>>>0}}Be("jspb.utils.splitFloat32",fw,void 0);function gw(i){var e=0>i?1:0;if(i=e?-i:i,i===0)xt=0<1/i?0:2147483648,yt=0;else if(isNaN(i))xt=2147483647,yt=4294967295;else if(17976931348623157e292<i)xt=(e<<31|2146435072)>>>0,yt=0;else if(22250738585072014e-324>i)i/=Math.pow(2,-1074),xt=(e<<31|i/4294967296)>>>0,yt=i>>>0;else{var t=i,r=0;if(2<=t)for(;2<=t&&1023>r;)r++,t/=2;else for(;1>t&&-1022<r;)t*=2,r--;i*=Math.pow(2,-r),xt=(e<<31|r+1023<<20|1048576*i&1048575)>>>0,yt=4503599627370496*i>>>0}}Be("jspb.utils.splitFloat64",gw,void 0);function hs(i){var e=i.charCodeAt(4),t=i.charCodeAt(5),r=i.charCodeAt(6),s=i.charCodeAt(7);yt=i.charCodeAt(0)+(i.charCodeAt(1)<<8)+(i.charCodeAt(2)<<16)+(i.charCodeAt(3)<<24)>>>0,xt=e+(t<<8)+(r<<16)+(s<<24)>>>0}Be("jspb.utils.splitHash64",hs,void 0);function Ga(i,e){return 4294967296*e+(i>>>0)}Be("jspb.utils.joinUint64",Ga,void 0);function Mu(i,e){var t=e&2147483648;return t&&(i=~i+1>>>0,e=~e>>>0,i==0&&(e=e+1>>>0)),i=Ga(i,e),t?-i:i}Be("jspb.utils.joinInt64",Mu,void 0);function cg(i,e,t){var r=e>>31;return t(i<<1^r,(e<<1|i>>>31)^r)}Be("jspb.utils.toZigzag64",cg,void 0);function bw(i,e){return ug(i,e,Mu)}Be("jspb.utils.joinZigzag64",bw,void 0);function ug(i,e,t){var r=-(i&1);return t((i>>>1|e<<31)^r,e>>>1^r)}Be("jspb.utils.fromZigzag64",ug,void 0);function yw(i){var e=2*(i>>31)+1,t=i>>>23&255;return i&=8388607,t==255?i?NaN:1/0*e:t==0?e*Math.pow(2,-149)*i:e*Math.pow(2,t-150)*(i+Math.pow(2,23))}Be("jspb.utils.joinFloat32",yw,void 0);function _w(i,e){var t=2*(e>>31)+1,r=e>>>20&2047;return i=4294967296*(e&1048575)+i,r==2047?i?NaN:1/0*t:r==0?t*Math.pow(2,-1074)*i:t*Math.pow(2,r-1075)*(i+4503599627370496)}Be("jspb.utils.joinFloat64",_w,void 0);function pg(i,e){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)}Be("jspb.utils.joinHash64",pg,void 0);Be("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function Ru(i,e){function t(s,o){return s=s?String(s):"",o?"0000000".slice(s.length)+s:s}if(2097151>=e)return""+Ga(i,e);var r=(i>>>24|e<<8)>>>0&16777215;return e=e>>16&65535,i=(i&16777215)+6777216*r+6710656*e,r+=8147497*e,e*=2,1e7<=i&&(r+=Math.floor(i/1e7),i%=1e7),1e7<=r&&(e+=Math.floor(r/1e7),r%=1e7),t(e,0)+t(r,e)+t(i,1)}Be("jspb.utils.joinUnsignedDecimalString",Ru,void 0);function Bu(i,e){var t=e&2147483648;return t&&(i=~i+1>>>0,e=~e+(i==0?1:0)>>>0),i=Ru(i,e),t?"-"+i:i}Be("jspb.utils.joinSignedDecimalString",Bu,void 0);function xw(i,e){hs(i),i=yt;var t=xt;return e?Bu(i,t):Ru(i,t)}Be("jspb.utils.hash64ToDecimalString",xw,void 0);Be("jspb.utils.hash64ArrayToDecimalStrings",function(i,e){for(var t=Array(i.length),r=0;r<i.length;r++)t[r]=xw(i[r],e);return t},void 0);function Du(i){function e(l,u){for(var p=0;8>p&&(l!==1||0<u);p++)u=l*s[p]+u,s[p]=u&255,u>>>=8}function t(){for(var l=0;8>l;l++)s[l]=~s[l]&255}G(0<i.length);var r=!1;i[0]==="-"&&(r=!0,i=i.slice(1));for(var s=[0,0,0,0,0,0,0,0],o=0;o<i.length;o++)e(10,i.charCodeAt(o)-48);return r&&(t(),e(1,1)),cw(s)}Be("jspb.utils.decimalStringToHash64",Du,void 0);Be("jspb.utils.splitDecimalString",function(i){hs(Du(i))},void 0);function nw(i){return String.fromCharCode(10>i?48+i:87+i)}function sw(i){return 97<=i?i-97+10:i-48}Be("jspb.utils.hash64ToHexString",function(i){var e=Array(18);e[0]="0",e[1]="x";for(var t=0;8>t;t++){var r=i.charCodeAt(7-t);e[2*t+2]=nw(r>>4),e[2*t+3]=nw(r&15)}return e.join("")},void 0);Be("jspb.utils.hexStringToHash64",function(i){i=i.toLowerCase(),G(i.length==18),G(i[0]=="0"),G(i[1]=="x");for(var e="",t=0;8>t;t++)e=String.fromCharCode(16*sw(i.charCodeAt(2*t+2))+sw(i.charCodeAt(2*t+3)))+e;return e},void 0);Be("jspb.utils.hash64ToNumber",function(i,e){hs(i),i=yt;var t=xt;return e?Mu(i,t):Ga(i,t)},void 0);Be("jspb.utils.numberToHash64",function(i){return Au(i),pg(yt,xt)},void 0);Be("jspb.utils.countVarints",function(i,e,t){for(var r=0,s=e;s<t;s++)r+=i[s]>>7;return t-e-r},void 0);Be("jspb.utils.countVarintFields",function(i,e,t,r){var s=0;if(r*=8,128>r)for(;e<t&&i[e++]==r;)for(s++;;){var o=i[e++];if(!(o&128))break}else for(;e<t;){for(o=r;128<o;){if(i[e]!=(o&127|128))return s;e++,o>>=7}if(i[e++]!=o)break;for(s++;o=i[e++],(o&128)!=0;);}return s},void 0);function vw(i,e,t,r,s){var o=0;if(128>r)for(;e<t&&i[e++]==r;)o++,e+=s;else for(;e<t;){for(var l=r;128<l;){if(i[e++]!=(l&127|128))return o;l>>=7}if(i[e++]!=l)break;o++,e+=s}return o}Be("jspb.utils.countFixed32Fields",function(i,e,t,r){return vw(i,e,t,8*r+5,4)},void 0);Be("jspb.utils.countFixed64Fields",function(i,e,t,r){return vw(i,e,t,8*r+1,8)},void 0);Be("jspb.utils.countDelimitedFields",function(i,e,t,r){var s=0;for(r=8*r+2;e<t;){for(var o=r;128<o;){if(i[e++]!=(o&127|128))return s;o>>=7}if(i[e++]!=o)break;s++;for(var l=0,u=1;o=i[e++],l+=(o&127)*u,u*=128,(o&128)!=0;);e+=l}return s},void 0);Be("jspb.utils.debugBytesToTextFormat",function(i){var e='"';if(i){i=mg(i);for(var t=0;t<i.length;t++)e+="\\x",16>i[t]&&(e+="0"),e+=i[t].toString(16)}return e+'"'},void 0);Be("jspb.utils.debugScalarToTextFormat",function(i){if(typeof i=="string"){i=String(i);for(var e=['"'],t=0;t<i.length;t++){var r=i.charAt(t),s=r.charCodeAt(0),o=t+1,l;(l=y1[r])||(31<s&&127>s||(s=r,s in ag?r=ag[s]:s in y1?r=ag[s]=y1[s]:(l=s.charCodeAt(0),31<l&&127>l?r=s:(256>l?(r="\\x",(16>l||256<l)&&(r+="0")):(r="\\u",4096>l&&(r+="0")),r+=l.toString(16).toUpperCase()),r=ag[s]=r)),l=r),e[o]=l}e.push('"'),i=e.join("")}else i=i.toString();return i},void 0);Be("jspb.utils.stringToByteArray",function(i){for(var e=new Uint8Array(i.length),t=0;t<i.length;t++){var r=i.charCodeAt(t);if(255<r)throw Error("Conversion error: string contains codepoint outside of byte range");e[t]=r}return e},void 0);function mg(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer?new Uint8Array(i):i.constructor===Array?new Uint8Array(i):i.constructor===String?mw(i):i instanceof Uint8Array?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):(si("Type not convertible to Uint8Array."),new Uint8Array(0))}Be("jspb.utils.byteSourceToUint8Array",mg,void 0);function z(i,e,t){this.b=null,this.a=this.c=this.h=0,this.v=!1,i&&this.H(i,e,t)}Be("jspb.BinaryDecoder",z,void 0);var wu=[];z.getInstanceCacheLength=function(){return wu.length};function hg(i,e,t){if(wu.length){var r=wu.pop();return i&&r.H(i,e,t),r}return new z(i,e,t)}z.alloc=hg;z.prototype.Ca=function(){this.clear(),100>wu.length&&wu.push(this)};z.prototype.free=z.prototype.Ca;z.prototype.clone=function(){return hg(this.b,this.h,this.c-this.h)};z.prototype.clone=z.prototype.clone;z.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1};z.prototype.clear=z.prototype.clear;z.prototype.Y=function(){return this.b};z.prototype.getBuffer=z.prototype.Y;z.prototype.H=function(i,e,t){this.b=mg(i),this.h=e!==void 0?e:0,this.c=t!==void 0?this.h+t:this.b.length,this.a=this.h};z.prototype.setBlock=z.prototype.H;z.prototype.Db=function(){return this.c};z.prototype.getEnd=z.prototype.Db;z.prototype.setEnd=function(i){this.c=i};z.prototype.setEnd=z.prototype.setEnd;z.prototype.reset=function(){this.a=this.h};z.prototype.reset=z.prototype.reset;z.prototype.B=function(){return this.a};z.prototype.getCursor=z.prototype.B;z.prototype.Ma=function(i){this.a=i};z.prototype.setCursor=z.prototype.Ma;z.prototype.advance=function(i){this.a+=i,G(this.a<=this.c)};z.prototype.advance=z.prototype.advance;z.prototype.ya=function(){return this.a==this.c};z.prototype.atEnd=z.prototype.ya;z.prototype.Qb=function(){return this.a>this.c};z.prototype.pastEnd=z.prototype.Qb;z.prototype.getError=function(){return this.v||0>this.a||this.a>this.c};z.prototype.getError=z.prototype.getError;z.prototype.w=function(i){for(var e=128,t=0,r=0,s=0;4>s&&128<=e;s++)e=this.b[this.a++],t|=(e&127)<<7*s;if(128<=e&&(e=this.b[this.a++],t|=(e&127)<<28,r|=(e&127)>>4),128<=e)for(s=0;5>s&&128<=e;s++)e=this.b[this.a++],r|=(e&127)<<7*s+3;if(128>e)return i(t>>>0,r>>>0);si("Failed to read varint, encoding is invalid."),this.v=!0};z.prototype.readSplitVarint64=z.prototype.w;z.prototype.ea=function(i){return this.w(function(e,t){return ug(e,t,i)})};z.prototype.readSplitZigzagVarint64=z.prototype.ea;z.prototype.ta=function(i){var e=this.b,t=this.a;this.a+=8;for(var r=0,s=0,o=t+7;o>=t;o--)r=r<<8|e[o],s=s<<8|e[o+4];return i(r,s)};z.prototype.readSplitFixed64=z.prototype.ta;z.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++};z.prototype.skipVarint=z.prototype.kb;z.prototype.mb=function(i){for(;128<i;)this.a--,i>>>=7;this.a--};z.prototype.unskipVarint=z.prototype.mb;z.prototype.o=function(){var i=this.b,e=i[this.a],t=e&127;return 128>e?(this.a+=1,G(this.a<=this.c),t):(e=i[this.a+1],t|=(e&127)<<7,128>e?(this.a+=2,G(this.a<=this.c),t):(e=i[this.a+2],t|=(e&127)<<14,128>e?(this.a+=3,G(this.a<=this.c),t):(e=i[this.a+3],t|=(e&127)<<21,128>e?(this.a+=4,G(this.a<=this.c),t):(e=i[this.a+4],t|=(e&15)<<28,128>e?(this.a+=5,G(this.a<=this.c),t>>>0):(this.a+=5,128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&G(!1),G(this.a<=this.c),t)))))};z.prototype.readUnsignedVarint32=z.prototype.o;z.prototype.da=function(){return~~this.o()};z.prototype.readSignedVarint32=z.prototype.da;z.prototype.O=function(){return this.o().toString()};z.prototype.Ea=function(){return this.da().toString()};z.prototype.readSignedVarint32String=z.prototype.Ea;z.prototype.Ia=function(){var i=this.o();return i>>>1^-(i&1)};z.prototype.readZigzagVarint32=z.prototype.Ia;z.prototype.Ga=function(){return this.w(Ga)};z.prototype.readUnsignedVarint64=z.prototype.Ga;z.prototype.Ha=function(){return this.w(Ru)};z.prototype.readUnsignedVarint64String=z.prototype.Ha;z.prototype.sa=function(){return this.w(Mu)};z.prototype.readSignedVarint64=z.prototype.sa;z.prototype.Fa=function(){return this.w(Bu)};z.prototype.readSignedVarint64String=z.prototype.Fa;z.prototype.Ja=function(){return this.w(bw)};z.prototype.readZigzagVarint64=z.prototype.Ja;z.prototype.fb=function(){return this.ea(pg)};z.prototype.readZigzagVarintHash64=z.prototype.fb;z.prototype.Ka=function(){return this.ea(Bu)};z.prototype.readZigzagVarint64String=z.prototype.Ka;z.prototype.Gc=function(){var i=this.b[this.a];return this.a+=1,G(this.a<=this.c),i};z.prototype.readUint8=z.prototype.Gc;z.prototype.Ec=function(){var i=this.b[this.a],e=this.b[this.a+1];return this.a+=2,G(this.a<=this.c),i<<0|e<<8};z.prototype.readUint16=z.prototype.Ec;z.prototype.m=function(){var i=this.b[this.a],e=this.b[this.a+1],t=this.b[this.a+2],r=this.b[this.a+3];return this.a+=4,G(this.a<=this.c),(i<<0|e<<8|t<<16|r<<24)>>>0};z.prototype.readUint32=z.prototype.m;z.prototype.ga=function(){var i=this.m(),e=this.m();return Ga(i,e)};z.prototype.readUint64=z.prototype.ga;z.prototype.ha=function(){var i=this.m(),e=this.m();return Ru(i,e)};z.prototype.readUint64String=z.prototype.ha;z.prototype.Xb=function(){var i=this.b[this.a];return this.a+=1,G(this.a<=this.c),i<<24>>24};z.prototype.readInt8=z.prototype.Xb;z.prototype.Vb=function(){var i=this.b[this.a],e=this.b[this.a+1];return this.a+=2,G(this.a<=this.c),(i<<0|e<<8)<<16>>16};z.prototype.readInt16=z.prototype.Vb;z.prototype.P=function(){var i=this.b[this.a],e=this.b[this.a+1],t=this.b[this.a+2],r=this.b[this.a+3];return this.a+=4,G(this.a<=this.c),i<<0|e<<8|t<<16|r<<24};z.prototype.readInt32=z.prototype.P;z.prototype.ba=function(){var i=this.m(),e=this.m();return Mu(i,e)};z.prototype.readInt64=z.prototype.ba;z.prototype.ca=function(){var i=this.m(),e=this.m();return Bu(i,e)};z.prototype.readInt64String=z.prototype.ca;z.prototype.aa=function(){var i=this.m();return yw(i,0)};z.prototype.readFloat=z.prototype.aa;z.prototype.Z=function(){var i=this.m(),e=this.m();return _w(i,e)};z.prototype.readDouble=z.prototype.Z;z.prototype.pa=function(){return!!this.b[this.a++]};z.prototype.readBool=z.prototype.pa;z.prototype.ra=function(){return this.da()};z.prototype.readEnum=z.prototype.ra;z.prototype.fa=function(i){var e=this.b,t=this.a;i=t+i;for(var r=[],s="";t<i;){var o=e[t++];if(128>o)r.push(o);else{if(192>o)continue;if(224>o){var l=e[t++];r.push((o&31)<<6|l&63)}else if(240>o){l=e[t++];var u=e[t++];r.push((o&15)<<12|(l&63)<<6|u&63)}else if(248>o){l=e[t++],u=e[t++];var p=e[t++];o=(o&7)<<18|(l&63)<<12|(u&63)<<6|p&63,o-=65536,r.push((o>>10&1023)+55296,(o&1023)+56320)}}8192<=r.length&&(s+=String.fromCharCode.apply(null,r),r.length=0)}return s+=cw(r),this.a=t,s};z.prototype.readString=z.prototype.fa;z.prototype.Dc=function(){var i=this.o();return this.fa(i)};z.prototype.readStringWithLength=z.prototype.Dc;z.prototype.qa=function(i){if(0>i||this.a+i>this.b.length)return this.v=!0,si("Invalid byte length!"),new Uint8Array(0);var e=this.b.subarray(this.a,this.a+i);return this.a+=i,G(this.a<=this.c),e};z.prototype.readBytes=z.prototype.qa;z.prototype.ia=function(){return this.w(pg)};z.prototype.readVarintHash64=z.prototype.ia;z.prototype.$=function(){var i=this.b,e=this.a,t=i[e],r=i[e+1],s=i[e+2],o=i[e+3],l=i[e+4],u=i[e+5],p=i[e+6];return i=i[e+7],this.a+=8,String.fromCharCode(t,r,s,o,l,u,p,i)};z.prototype.readFixedHash64=z.prototype.$;function T(i,e,t){this.a=hg(i,e,t),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}Be("jspb.BinaryReader",T,void 0);var za=[];T.clearInstanceCache=function(){za=[]};T.getInstanceCacheLength=function(){return za.length};function Iw(i,e,t){if(za.length){var r=za.pop();return i&&r.a.H(i,e,t),r}return new T(i,e,t)}T.alloc=Iw;T.prototype.zb=Iw;T.prototype.alloc=T.prototype.zb;T.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>za.length&&za.push(this)};T.prototype.free=T.prototype.Ca;T.prototype.Fb=function(){return this.O};T.prototype.getFieldCursor=T.prototype.Fb;T.prototype.B=function(){return this.a.B()};T.prototype.getCursor=T.prototype.B;T.prototype.Y=function(){return this.a.Y()};T.prototype.getBuffer=T.prototype.Y;T.prototype.Hb=function(){return this.c};T.prototype.getFieldNumber=T.prototype.Hb;T.prototype.Lb=function(){return this.b};T.prototype.getWireType=T.prototype.Lb;T.prototype.Mb=function(){return this.b==2};T.prototype.isDelimited=T.prototype.Mb;T.prototype.bb=function(){return this.b==4};T.prototype.isEndGroup=T.prototype.bb;T.prototype.getError=function(){return this.h||this.a.getError()};T.prototype.getError=T.prototype.getError;T.prototype.H=function(i,e,t){this.a.H(i,e,t),this.b=this.c=-1};T.prototype.setBlock=T.prototype.H;T.prototype.reset=function(){this.a.reset(),this.b=this.c=-1};T.prototype.reset=T.prototype.reset;T.prototype.advance=function(i){this.a.advance(i)};T.prototype.advance=T.prototype.advance;T.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return si("Decoder hit an error"),!1;this.O=this.a.B();var i=this.a.o(),e=i>>>3;return i&=7,i!=0&&i!=5&&i!=1&&i!=2&&i!=3&&i!=4?(si("Invalid wire type: %s (at position %s)",i,this.O),this.h=!0,!1):(this.c=e,this.b=i,!0)};T.prototype.nextField=T.prototype.oa;T.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)};T.prototype.unskipHeader=T.prototype.Oa;T.prototype.Lc=function(){var i=this.c;for(this.Oa();this.oa()&&this.c==i;)this.C();this.a.ya()||this.Oa()};T.prototype.skipMatchingFields=T.prototype.Lc;T.prototype.lb=function(){this.b!=0?(si("Invalid wire type for skipVarintField"),this.C()):this.a.kb()};T.prototype.skipVarintField=T.prototype.lb;T.prototype.gb=function(){if(this.b!=2)si("Invalid wire type for skipDelimitedField"),this.C();else{var i=this.a.o();this.a.advance(i)}};T.prototype.skipDelimitedField=T.prototype.gb;T.prototype.hb=function(){this.b!=5?(si("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)};T.prototype.skipFixed32Field=T.prototype.hb;T.prototype.ib=function(){this.b!=1?(si("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)};T.prototype.skipFixed64Field=T.prototype.ib;T.prototype.jb=function(){var i=this.c;do{if(!this.oa()){si("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=i&&(si("Unmatched end-group tag"),this.h=!0);break}this.C()}while(1)};T.prototype.skipGroup=T.prototype.jb;T.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:si("Invalid wire encoding for field.")}};T.prototype.skipField=T.prototype.C;T.prototype.Hc=function(i,e){this.v===null&&(this.v={}),G(!this.v[i]),this.v[i]=e};T.prototype.registerReadCallback=T.prototype.Hc;T.prototype.Ic=function(i){return G(this.v!==null),i=this.v[i],G(i),i(this)};T.prototype.runReadCallback=T.prototype.Ic;T.prototype.Yb=function(i,e){G(this.b==2);var t=this.a.c,r=this.a.o();r=this.a.B()+r,this.a.setEnd(r),e(i,this),this.a.Ma(r),this.a.setEnd(t)};T.prototype.readMessage=T.prototype.Yb;T.prototype.Ub=function(i,e,t){G(this.b==3),G(this.c==i),t(e,this),this.h||this.b==4||(si("Group submessage did not end with an END_GROUP tag"),this.h=!0)};T.prototype.readGroup=T.prototype.Ub;T.prototype.Gb=function(){G(this.b==2);var i=this.a.o(),e=this.a.B(),t=e+i;return i=hg(this.a.Y(),e,i),this.a.Ma(t),i};T.prototype.getFieldDecoder=T.prototype.Gb;T.prototype.P=function(){return G(this.b==0),this.a.da()};T.prototype.readInt32=T.prototype.P;T.prototype.Wb=function(){return G(this.b==0),this.a.Ea()};T.prototype.readInt32String=T.prototype.Wb;T.prototype.ba=function(){return G(this.b==0),this.a.sa()};T.prototype.readInt64=T.prototype.ba;T.prototype.ca=function(){return G(this.b==0),this.a.Fa()};T.prototype.readInt64String=T.prototype.ca;T.prototype.m=function(){return G(this.b==0),this.a.o()};T.prototype.readUint32=T.prototype.m;T.prototype.Fc=function(){return G(this.b==0),this.a.O()};T.prototype.readUint32String=T.prototype.Fc;T.prototype.ga=function(){return G(this.b==0),this.a.Ga()};T.prototype.readUint64=T.prototype.ga;T.prototype.ha=function(){return G(this.b==0),this.a.Ha()};T.prototype.readUint64String=T.prototype.ha;T.prototype.zc=function(){return G(this.b==0),this.a.Ia()};T.prototype.readSint32=T.prototype.zc;T.prototype.Ac=function(){return G(this.b==0),this.a.Ja()};T.prototype.readSint64=T.prototype.Ac;T.prototype.Bc=function(){return G(this.b==0),this.a.Ka()};T.prototype.readSint64String=T.prototype.Bc;T.prototype.Rb=function(){return G(this.b==5),this.a.m()};T.prototype.readFixed32=T.prototype.Rb;T.prototype.Sb=function(){return G(this.b==1),this.a.ga()};T.prototype.readFixed64=T.prototype.Sb;T.prototype.Tb=function(){return G(this.b==1),this.a.ha()};T.prototype.readFixed64String=T.prototype.Tb;T.prototype.vc=function(){return G(this.b==5),this.a.P()};T.prototype.readSfixed32=T.prototype.vc;T.prototype.wc=function(){return G(this.b==5),this.a.P().toString()};T.prototype.readSfixed32String=T.prototype.wc;T.prototype.xc=function(){return G(this.b==1),this.a.ba()};T.prototype.readSfixed64=T.prototype.xc;T.prototype.yc=function(){return G(this.b==1),this.a.ca()};T.prototype.readSfixed64String=T.prototype.yc;T.prototype.aa=function(){return G(this.b==5),this.a.aa()};T.prototype.readFloat=T.prototype.aa;T.prototype.Z=function(){return G(this.b==1),this.a.Z()};T.prototype.readDouble=T.prototype.Z;T.prototype.pa=function(){return G(this.b==0),!!this.a.o()};T.prototype.readBool=T.prototype.pa;T.prototype.ra=function(){return G(this.b==0),this.a.sa()};T.prototype.readEnum=T.prototype.ra;T.prototype.fa=function(){G(this.b==2);var i=this.a.o();return this.a.fa(i)};T.prototype.readString=T.prototype.fa;T.prototype.qa=function(){G(this.b==2);var i=this.a.o();return this.a.qa(i)};T.prototype.readBytes=T.prototype.qa;T.prototype.ia=function(){return G(this.b==0),this.a.ia()};T.prototype.readVarintHash64=T.prototype.ia;T.prototype.Cc=function(){return G(this.b==0),this.a.fb()};T.prototype.readSintHash64=T.prototype.Cc;T.prototype.w=function(i){return G(this.b==0),this.a.w(i)};T.prototype.readSplitVarint64=T.prototype.w;T.prototype.ea=function(i){return G(this.b==0),this.a.w(function(e,t){return ug(e,t,i)})};T.prototype.readSplitZigzagVarint64=T.prototype.ea;T.prototype.$=function(){return G(this.b==1),this.a.$()};T.prototype.readFixedHash64=T.prototype.$;T.prototype.ta=function(i){return G(this.b==1),this.a.ta(i)};T.prototype.readSplitFixed64=T.prototype.ta;function Dt(i,e){G(i.b==2);var t=i.a.o();t=i.a.B()+t;for(var r=[];i.a.B()<t;)r.push(e.call(i.a));return r}T.prototype.gc=function(){return Dt(this,this.a.da)};T.prototype.readPackedInt32=T.prototype.gc;T.prototype.hc=function(){return Dt(this,this.a.Ea)};T.prototype.readPackedInt32String=T.prototype.hc;T.prototype.ic=function(){return Dt(this,this.a.sa)};T.prototype.readPackedInt64=T.prototype.ic;T.prototype.jc=function(){return Dt(this,this.a.Fa)};T.prototype.readPackedInt64String=T.prototype.jc;T.prototype.qc=function(){return Dt(this,this.a.o)};T.prototype.readPackedUint32=T.prototype.qc;T.prototype.rc=function(){return Dt(this,this.a.O)};T.prototype.readPackedUint32String=T.prototype.rc;T.prototype.sc=function(){return Dt(this,this.a.Ga)};T.prototype.readPackedUint64=T.prototype.sc;T.prototype.tc=function(){return Dt(this,this.a.Ha)};T.prototype.readPackedUint64String=T.prototype.tc;T.prototype.nc=function(){return Dt(this,this.a.Ia)};T.prototype.readPackedSint32=T.prototype.nc;T.prototype.oc=function(){return Dt(this,this.a.Ja)};T.prototype.readPackedSint64=T.prototype.oc;T.prototype.pc=function(){return Dt(this,this.a.Ka)};T.prototype.readPackedSint64String=T.prototype.pc;T.prototype.bc=function(){return Dt(this,this.a.m)};T.prototype.readPackedFixed32=T.prototype.bc;T.prototype.cc=function(){return Dt(this,this.a.ga)};T.prototype.readPackedFixed64=T.prototype.cc;T.prototype.dc=function(){return Dt(this,this.a.ha)};T.prototype.readPackedFixed64String=T.prototype.dc;T.prototype.kc=function(){return Dt(this,this.a.P)};T.prototype.readPackedSfixed32=T.prototype.kc;T.prototype.lc=function(){return Dt(this,this.a.ba)};T.prototype.readPackedSfixed64=T.prototype.lc;T.prototype.mc=function(){return Dt(this,this.a.ca)};T.prototype.readPackedSfixed64String=T.prototype.mc;T.prototype.fc=function(){return Dt(this,this.a.aa)};T.prototype.readPackedFloat=T.prototype.fc;T.prototype.$b=function(){return Dt(this,this.a.Z)};T.prototype.readPackedDouble=T.prototype.$b;T.prototype.Zb=function(){return Dt(this,this.a.pa)};T.prototype.readPackedBool=T.prototype.Zb;T.prototype.ac=function(){return Dt(this,this.a.ra)};T.prototype.readPackedEnum=T.prototype.ac;T.prototype.uc=function(){return Dt(this,this.a.ia)};T.prototype.readPackedVarintHash64=T.prototype.uc;T.prototype.ec=function(){return Dt(this,this.a.$)};T.prototype.readPackedFixedHash64=T.prototype.ec;function Eu(i,e,t,r,s){this.ma=i,this.Ba=e,this.la=t,this.Na=r,this.na=s}Be("jspb.ExtensionFieldInfo",Eu,void 0);function kw(i,e,t,r,s,o){this.Za=i,this.za=e,this.Aa=t,this.Wa=r,this.Ab=s,this.Nb=o}Be("jspb.ExtensionFieldBinaryInfo",kw,void 0);Eu.prototype.F=function(){return!!this.la};Eu.prototype.isMessageType=Eu.prototype.F;function Se(){}Be("jspb.Message",Se,void 0);Se.GENERATE_TO_OBJECT=!0;Se.GENERATE_FROM_OBJECT=!0;var dg=typeof Uint8Array=="function";Se.prototype.Ib=function(){return this.b};Se.prototype.getJsPbMessageId=Se.prototype.Ib;Se.initialize=function(i,e,t,r,s,o){i.f=null,e||(e=t?[t]:[]),i.b=t?String(t):void 0,i.D=t===0?-1:0,i.u=e;e:{if(t=i.u.length,e=-1,t&&(e=t-1,t=i.u[e],!(t===null||typeof t!="object"||Array.isArray(t)||dg&&t instanceof Uint8Array))){i.G=e-i.D,i.i=t;break e}-1<r?(i.G=Math.max(r,e+1-i.D),i.i=null):i.G=Number.MAX_VALUE}if(i.a={},s)for(r=0;r<s.length;r++)e=s[r],e<i.G?(e+=i.D,i.u[e]=i.u[e]||Lu):(fg(i),i.i[e]=i.i[e]||Lu);if(o&&o.length)for(r=0;r<o.length;r++)w1(i,o[r])};var Lu=Object.freeze?Object.freeze([]):[];function fg(i){var e=i.G+i.D;i.u[e]||(i.i=i.u[e]={})}function Sw(i,e,t){for(var r=[],s=0;s<i.length;s++)r[s]=e.call(i[s],t,i[s]);return r}Se.toObjectList=Sw;Se.toObjectExtension=function(i,e,t,r,s){for(var o in t){var l=t[o],u=r.call(i,l);if(u!=null){for(var p in l.Ba)if(l.Ba.hasOwnProperty(p))break;e[p]=l.Na?l.na?Sw(u,l.Na,s):l.Na(s,u):u}}};Se.serializeBinaryExtensions=function(i,e,t,r){for(var s in t){var o=t[s],l=o.Za;if(!o.Aa)throw Error("Message extension present that was generated without binary serialization support");var u=r.call(i,l);if(u!=null)if(l.F())if(o.Wa)o.Aa.call(e,l.ma,u,o.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else o.Aa.call(e,l.ma,u)}};Se.readBinaryExtension=function(i,e,t,r,s){var o=t[e.c];if(o){if(t=o.Za,!o.za)throw Error("Deserializing extension whose generated code does not support binary format");if(t.F()){var l=new t.la;o.za.call(e,l,o.Ab)}else l=o.za.call(e);t.na&&!o.Nb?(e=r.call(i,t))?e.push(l):s.call(i,t,[l]):s.call(i,t,l)}else e.C()};function $i(i,e){if(e<i.G){e+=i.D;var t=i.u[e];return t===Lu?i.u[e]=[]:t}if(i.i)return t=i.i[e],t===Lu?i.i[e]=[]:t}Se.getField=$i;Se.getRepeatedField=function(i,e){return $i(i,e)};function ww(i,e){return i=$i(i,e),i==null?i:+i}Se.getOptionalFloatingPointField=ww;function Ew(i,e){return i=$i(i,e),i==null?i:!!i}Se.getBooleanField=Ew;Se.getRepeatedFloatingPointField=function(i,e){var t=$i(i,e);if(i.a||(i.a={}),!i.a[e]){for(var r=0;r<t.length;r++)t[r]=+t[r];i.a[e]=!0}return t};Se.getRepeatedBooleanField=function(i,e){var t=$i(i,e);if(i.a||(i.a={}),!i.a[e]){for(var r=0;r<t.length;r++)t[r]=!!t[r];i.a[e]=!0}return t};function Lw(i){return i==null||typeof i=="string"?i:dg&&i instanceof Uint8Array?pw(i):(si("Cannot coerce to b64 string: "+vn(i)),null)}Se.bytesAsB64=Lw;function Tw(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?mw(i):(si("Cannot coerce to Uint8Array: "+vn(i)),null)}Se.bytesAsU8=Tw;Se.bytesListAsB64=function(i){return Cw(i),i.length&&typeof i[0]!="string"?Tu(i,Lw):i};Se.bytesListAsU8=function(i){return Cw(i),!i.length||i[0]instanceof Uint8Array?i:Tu(i,Tw)};function Cw(i){if(i&&1<i.length){var e=vn(i[0]);kC(i,function(t){vn(t)!=e&&si("Inconsistent type in JSPB repeated field array. Got "+vn(t)+" expected "+e)})}}function Aw(i,e,t){return i=$i(i,e),i??t}Se.getFieldWithDefault=Aw;Se.getBooleanFieldWithDefault=function(i,e,t){return i=Ew(i,e),i??t};Se.getFloatingPointFieldWithDefault=function(i,e,t){return i=ww(i,e),i??t};Se.getFieldProto3=Aw;Se.getMapField=function(i,e,t,r){if(i.f||(i.f={}),e in i.f)return i.f[e];var s=$i(i,e);if(!s){if(t)return;s=[],In(i,e,s)}return i.f[e]=new We(s,r)};function In(i,e,t){return Mr(i,Se),e<i.G?i.u[e+i.D]=t:(fg(i),i.i[e]=t),i}Se.setField=In;Se.setProto3IntField=function(i,e,t){return ao(i,e,t,0)};Se.setProto3FloatField=function(i,e,t){return ao(i,e,t,0)};Se.setProto3BooleanField=function(i,e,t){return ao(i,e,t,!1)};Se.setProto3StringField=function(i,e,t){return ao(i,e,t,"")};Se.setProto3BytesField=function(i,e,t){return ao(i,e,t,"")};Se.setProto3EnumField=function(i,e,t){return ao(i,e,t,0)};Se.setProto3StringIntField=function(i,e,t){return ao(i,e,t,"0")};function ao(i,e,t,r){return Mr(i,Se),t!==r?In(i,e,t):e<i.G?i.u[e+i.D]=null:(fg(i),delete i.i[e]),i}Se.addToRepeatedField=function(i,e,t,r){return Mr(i,Se),e=$i(i,e),r!=null?e.splice(r,0,t):e.push(t),i};function Mw(i,e,t,r){return Mr(i,Se),(t=w1(i,t))&&t!==e&&r!==void 0&&(i.f&&t in i.f&&(i.f[t]=void 0),In(i,t,void 0)),In(i,e,r)}Se.setOneofField=Mw;function w1(i,e){for(var t,r,s=0;s<e.length;s++){var o=e[s],l=$i(i,o);l!=null&&(t=o,r=l,In(i,o,void 0))}return t?(In(i,t,r),t):0}Se.computeOneofCase=w1;Se.getWrapperField=function(i,e,t,r){if(i.f||(i.f={}),!i.f[t]){var s=$i(i,t);(r||s)&&(i.f[t]=new e(s))}return i.f[t]};Se.getRepeatedWrapperField=function(i,e,t){return Rw(i,e,t),e=i.f[t],e==Lu&&(e=i.f[t]=[]),e};function Rw(i,e,t){if(i.f||(i.f={}),!i.f[t]){for(var r=$i(i,t),s=[],o=0;o<r.length;o++)s[o]=new e(r[o]);i.f[t]=s}}Se.setWrapperField=function(i,e,t){Mr(i,Se),i.f||(i.f={});var r=t&&t.g();return i.f[e]=t,In(i,e,r)};Se.setOneofWrapperField=function(i,e,t,r){Mr(i,Se),i.f||(i.f={});var s=r&&r.g();return i.f[e]=r,Mw(i,e,t,s)};Se.setRepeatedWrapperField=function(i,e,t){Mr(i,Se),i.f||(i.f={}),t=t||[];for(var r=[],s=0;s<t.length;s++)r[s]=t[s].g();return i.f[e]=t,In(i,e,r)};Se.addToRepeatedWrapperField=function(i,e,t,r,s){Rw(i,r,e);var o=i.f[e];return o||(o=i.f[e]=[]),t=t||new r,i=$i(i,e),s!=null?(o.splice(s,0,t),i.splice(s,0,t.g())):(o.push(t),i.push(t.g())),t};Se.toMap=function(i,e,t,r){for(var s={},o=0;o<i.length;o++)s[e.call(i[o])]=t?t.call(i[o],r,i[o]):i[o];return s};function Bw(i){if(i.f)for(var e in i.f){var t=i.f[e];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].g();else t&&t.g()}}Se.prototype.g=function(){return Bw(this),this.u};Se.prototype.toArray=Se.prototype.g;Se.prototype.toString=function(){return Bw(this),this.u.toString()};Se.prototype.getExtension=function(i){if(this.i){this.f||(this.f={});var e=i.ma;if(i.na){if(i.F())return this.f[e]||(this.f[e]=Tu(this.i[e]||[],function(t){return new i.la(t)})),this.f[e]}else if(i.F())return!this.f[e]&&this.i[e]&&(this.f[e]=new i.la(this.i[e])),this.f[e];return this.i[e]}};Se.prototype.getExtension=Se.prototype.getExtension;Se.prototype.Kc=function(i,e){this.f||(this.f={}),fg(this);var t=i.ma;return i.na?(e=e||[],i.F()?(this.f[t]=e,this.i[t]=Tu(e,function(r){return r.g()})):this.i[t]=e):i.F()?(this.f[t]=e,this.i[t]=e&&e.g()):this.i[t]=e,this};Se.prototype.setExtension=Se.prototype.Kc;Se.difference=function(i,e){if(!(i instanceof e.constructor))throw Error("Messages have different types.");var t=i.g();e=e.g();var r=[],s=0,o=t.length>e.length?t.length:e.length;for(i.b&&(r[0]=i.b,s=1);s<o;s++)Ou(t[s],e[s])||(r[s]=e[s]);return new i.constructor(r)};Se.equals=function(i,e){return i==e||!(!i||!e)&&i instanceof e.constructor&&Ou(i.g(),e.g())};function _1(i,e){i=i||{},e=e||{};var t={},r;for(r in i)t[r]=0;for(r in e)t[r]=0;for(r in t)if(!Ou(i[r],e[r]))return!1;return!0}Se.compareExtensions=_1;function Ou(i,e){if(i==e)return!0;if(!tw(i)||!tw(e))return typeof i=="number"&&isNaN(i)||typeof e=="number"&&isNaN(e)?String(i)==String(e):!1;if(i.constructor!=e.constructor)return!1;if(dg&&i.constructor===Uint8Array){if(i.length!=e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!=e[t])return!1;return!0}if(i.constructor===Array){var r=void 0,s=void 0,o=Math.max(i.length,e.length);for(t=0;t<o;t++){var l=i[t],u=e[t];if(l&&l.constructor==Object&&(G(r===void 0),G(t===i.length-1),r=l,l=void 0),u&&u.constructor==Object&&(G(s===void 0),G(t===e.length-1),s=u,u=void 0),!Ou(l,u))return!1}return r||s?(r=r||{},s=s||{},_1(r,s)):!0}if(i.constructor===Object)return _1(i,e);throw Error("Invalid type in JSPB array")}Se.compareFields=Ou;Se.prototype.Bb=function(){return gg(this)};Se.prototype.cloneMessage=Se.prototype.Bb;Se.prototype.clone=function(){return gg(this)};Se.prototype.clone=Se.prototype.clone;Se.clone=function(i){return gg(i)};function gg(i){return new i.constructor(x1(i.g()))}Se.copyInto=function(i,e){Mr(i,Se),Mr(e,Se),G(i.constructor==e.constructor,"Copy source and target message should have the same type."),i=gg(i);for(var t=e.g(),r=i.g(),s=t.length=0;s<r.length;s++)t[s]=r[s];e.f=i.f,e.i=i.i};function x1(i){if(Array.isArray(i)){for(var e=Array(i.length),t=0;t<i.length;t++){var r=i[t];r!=null&&(e[t]=typeof r=="object"?x1(G(r)):r)}return e}if(dg&&i instanceof Uint8Array)return new Uint8Array(i);e={};for(t in i)r=i[t],r!=null&&(e[t]=typeof r=="object"?x1(G(r)):r);return e}Se.registerMessageType=function(i,e){e.we=i};var Ar={dump:function(i){return Mr(i,Se,"jspb.Message instance expected"),G(i.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),Ar.X(i)}};Be("jspb.debug.dump",Ar.dump,void 0);Ar.X=function(i){var e=vn(i);if(e=="number"||e=="string"||e=="boolean"||e=="null"||e=="undefined"||typeof Uint8Array<"u"&&i instanceof Uint8Array)return i;if(e=="array")return EC(i),Tu(i,Ar.X);if(i instanceof We){var t={};i=i.entries();for(var r=i.next();!r.done;r=i.next())t[r.value[0]]=Ar.X(r.value[1]);return t}Mr(i,Se,"Only messages expected: "+i),e=i.constructor;var s={$name:e.name||e.displayName};for(u in e.prototype){var o=/^get([A-Z]\w*)/.exec(u);if(o&&u!="getExtension"&&u!="getJsPbMessageId"){var l="has"+o[1];(!i[l]||i[l]())&&(l=i[u](),s[Ar.$a(o[1])]=Ar.X(l))}}if(i.extensionObject_)return s.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",s;for(r in e.extensions)if(/^\d+$/.test(r)){l=e.extensions[r];var u=i.getExtension(l);o=void 0,l=l.Ba;var p=[],m=0;for(o in l)p[m++]=o;o=p[0],u!=null&&(t||(t=s.$extensions={}),t[Ar.$a(o)]=Ar.X(u))}return s};Ar.$a=function(i){return i.replace(/^[A-Z]/,function(e){return e.toLowerCase()})};function pe(){this.a=[]}Be("jspb.BinaryEncoder",pe,void 0);pe.prototype.length=function(){return this.a.length};pe.prototype.length=pe.prototype.length;pe.prototype.end=function(){var i=this.a;return this.a=[],i};pe.prototype.end=pe.prototype.end;pe.prototype.l=function(i,e){for(G(i==Math.floor(i)),G(e==Math.floor(e)),G(0<=i&&4294967296>i),G(0<=e&&4294967296>e);0<e||127<i;)this.a.push(i&127|128),i=(i>>>7|e<<25)>>>0,e>>>=7;this.a.push(i)};pe.prototype.writeSplitVarint64=pe.prototype.l;pe.prototype.A=function(i,e){G(i==Math.floor(i)),G(e==Math.floor(e)),G(0<=i&&4294967296>i),G(0<=e&&4294967296>e),this.s(i),this.s(e)};pe.prototype.writeSplitFixed64=pe.prototype.A;pe.prototype.j=function(i){for(G(i==Math.floor(i)),G(0<=i&&4294967296>i);127<i;)this.a.push(i&127|128),i>>>=7;this.a.push(i)};pe.prototype.writeUnsignedVarint32=pe.prototype.j;pe.prototype.M=function(i){if(G(i==Math.floor(i)),G(-2147483648<=i&&2147483648>i),0<=i)this.j(i);else{for(var e=0;9>e;e++)this.a.push(i&127|128),i>>=7;this.a.push(1)}};pe.prototype.writeSignedVarint32=pe.prototype.M;pe.prototype.va=function(i){G(i==Math.floor(i)),G(0<=i&&18446744073709552e3>i),Au(i),this.l(yt,xt)};pe.prototype.writeUnsignedVarint64=pe.prototype.va;pe.prototype.ua=function(i){G(i==Math.floor(i)),G(-9223372036854776e3<=i&&9223372036854776e3>i),Au(i),this.l(yt,xt)};pe.prototype.writeSignedVarint64=pe.prototype.ua;pe.prototype.wa=function(i){G(i==Math.floor(i)),G(-2147483648<=i&&2147483648>i),this.j((i<<1^i>>31)>>>0)};pe.prototype.writeZigzagVarint32=pe.prototype.wa;pe.prototype.xa=function(i){G(i==Math.floor(i)),G(-9223372036854776e3<=i&&9223372036854776e3>i),dw(i),this.l(yt,xt)};pe.prototype.writeZigzagVarint64=pe.prototype.xa;pe.prototype.Ta=function(i){this.W(Du(i))};pe.prototype.writeZigzagVarint64String=pe.prototype.Ta;pe.prototype.W=function(i){var e=this;hs(i),cg(yt,xt,function(t,r){e.l(t>>>0,r>>>0)})};pe.prototype.writeZigzagVarintHash64=pe.prototype.W;pe.prototype.be=function(i){G(i==Math.floor(i)),G(0<=i&&256>i),this.a.push(i>>>0&255)};pe.prototype.writeUint8=pe.prototype.be;pe.prototype.ae=function(i){G(i==Math.floor(i)),G(0<=i&&65536>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)};pe.prototype.writeUint16=pe.prototype.ae;pe.prototype.s=function(i){G(i==Math.floor(i)),G(0<=i&&4294967296>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)};pe.prototype.writeUint32=pe.prototype.s;pe.prototype.V=function(i){G(i==Math.floor(i)),G(0<=i&&18446744073709552e3>i),S1(i),this.s(yt),this.s(xt)};pe.prototype.writeUint64=pe.prototype.V;pe.prototype.Qc=function(i){G(i==Math.floor(i)),G(-128<=i&&128>i),this.a.push(i>>>0&255)};pe.prototype.writeInt8=pe.prototype.Qc;pe.prototype.Pc=function(i){G(i==Math.floor(i)),G(-32768<=i&&32768>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)};pe.prototype.writeInt16=pe.prototype.Pc;pe.prototype.S=function(i){G(i==Math.floor(i)),G(-2147483648<=i&&2147483648>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)};pe.prototype.writeInt32=pe.prototype.S;pe.prototype.T=function(i){G(i==Math.floor(i)),G(-9223372036854776e3<=i&&9223372036854776e3>i),Au(i),this.A(yt,xt)};pe.prototype.writeInt64=pe.prototype.T;pe.prototype.ka=function(i){G(i==Math.floor(i)),G(-9223372036854776e3<=+i&&9223372036854776e3>+i),hs(Du(i)),this.A(yt,xt)};pe.prototype.writeInt64String=pe.prototype.ka;pe.prototype.L=function(i){G(i===1/0||i===-1/0||isNaN(i)||-34028234663852886e22<=i&&34028234663852886e22>=i),fw(i),this.s(yt)};pe.prototype.writeFloat=pe.prototype.L;pe.prototype.J=function(i){G(i===1/0||i===-1/0||isNaN(i)||-17976931348623157e292<=i&&17976931348623157e292>=i),gw(i),this.s(yt),this.s(xt)};pe.prototype.writeDouble=pe.prototype.J;pe.prototype.I=function(i){G(typeof i=="boolean"||typeof i=="number"),this.a.push(i?1:0)};pe.prototype.writeBool=pe.prototype.I;pe.prototype.R=function(i){G(i==Math.floor(i)),G(-2147483648<=i&&2147483648>i),this.M(i)};pe.prototype.writeEnum=pe.prototype.R;pe.prototype.ja=function(i){this.a.push.apply(this.a,i)};pe.prototype.writeBytes=pe.prototype.ja;pe.prototype.N=function(i){hs(i),this.l(yt,xt)};pe.prototype.writeVarintHash64=pe.prototype.N;pe.prototype.K=function(i){hs(i),this.s(yt),this.s(xt)};pe.prototype.writeFixedHash64=pe.prototype.K;pe.prototype.U=function(i){var e=this.a.length;wC(i);for(var t=0;t<i.length;t++){var r=i.charCodeAt(t);if(128>r)this.a.push(r);else if(2048>r)this.a.push(r>>6|192),this.a.push(r&63|128);else if(65536>r)if(55296<=r&&56319>=r&&t+1<i.length){var s=i.charCodeAt(t+1);56320<=s&&57343>=s&&(r=1024*(r-55296)+s-56320+65536,this.a.push(r>>18|240),this.a.push(r>>12&63|128),this.a.push(r>>6&63|128),this.a.push(r&63|128),t++)}else this.a.push(r>>12|224),this.a.push(r>>6&63|128),this.a.push(r&63|128)}return this.a.length-e};pe.prototype.writeString=pe.prototype.U;function Ue(i,e){this.lo=i,this.hi=e}Be("jspb.arith.UInt64",Ue,void 0);Ue.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1};Ue.prototype.cmp=Ue.prototype.cmp;Ue.prototype.La=function(){return new Ue((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)};Ue.prototype.rightShift=Ue.prototype.La;Ue.prototype.Da=function(){return new Ue(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)};Ue.prototype.leftShift=Ue.prototype.Da;Ue.prototype.cb=function(){return!!(this.hi&2147483648)};Ue.prototype.msb=Ue.prototype.cb;Ue.prototype.Ob=function(){return!!(this.lo&1)};Ue.prototype.lsb=Ue.prototype.Ob;Ue.prototype.Ua=function(){return this.lo==0&&this.hi==0};Ue.prototype.zero=Ue.prototype.Ua;Ue.prototype.add=function(i){return new Ue((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)};Ue.prototype.add=Ue.prototype.add;Ue.prototype.sub=function(i){return new Ue((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)};Ue.prototype.sub=Ue.prototype.sub;function v1(i,e){var t=i&65535;i>>>=16;var r=e&65535,s=e>>>16;for(e=t*r+65536*(t*s&65535)+65536*(i*r&65535),t=i*s+(t*s>>>16)+(i*r>>>16);4294967296<=e;)e-=4294967296,t+=1;return new Ue(e>>>0,t>>>0)}Ue.mul32x32=v1;Ue.prototype.eb=function(i){var e=v1(this.lo,i);return i=v1(this.hi,i),i.hi=i.lo,i.lo=0,e.add(i)};Ue.prototype.mul=Ue.prototype.eb;Ue.prototype.Xa=function(i){if(i==0)return[];var e=new Ue(0,0),t=new Ue(this.lo,this.hi);i=new Ue(i,0);for(var r=new Ue(1,0);!i.cb();)i=i.Da(),r=r.Da();for(;!r.Ua();)0>=i.cmp(t)&&(e=e.add(r),t=t.sub(i)),i=i.La(),r=r.La();return[e,t]};Ue.prototype.div=Ue.prototype.Xa;Ue.prototype.toString=function(){for(var i="",e=this;!e.Ua();){e=e.Xa(10);var t=e[0];i=e[1].lo+i,e=t}return i==""&&(i="0"),i};Ue.prototype.toString=Ue.prototype.toString;function Va(i){for(var e=new Ue(0,0),t=new Ue(0,0),r=0;r<i.length;r++){if("0">i[r]||"9"<i[r])return null;t.lo=parseInt(i[r],10),e=e.eb(10).add(t)}return e}Ue.fromString=Va;Ue.prototype.clone=function(){return new Ue(this.lo,this.hi)};Ue.prototype.clone=Ue.prototype.clone;function ci(i,e){this.lo=i,this.hi=e}Be("jspb.arith.Int64",ci,void 0);ci.prototype.add=function(i){return new ci((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)};ci.prototype.add=ci.prototype.add;ci.prototype.sub=function(i){return new ci((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)};ci.prototype.sub=ci.prototype.sub;ci.prototype.clone=function(){return new ci(this.lo,this.hi)};ci.prototype.clone=ci.prototype.clone;ci.prototype.toString=function(){var i=(this.hi&2147483648)!=0,e=new Ue(this.lo,this.hi);return i&&(e=new Ue(0,0).sub(e)),(i?"-":"")+e.toString()};ci.prototype.toString=ci.prototype.toString;function bg(i){var e=0<i.length&&i[0]=="-";return e&&(i=i.substring(1)),i=Va(i),i===null?null:(e&&(i=new Ue(0,0).sub(i)),new ci(i.lo,i.hi))}ci.fromString=bg;function I(){this.c=[],this.b=0,this.a=new pe,this.h=[]}Be("jspb.BinaryWriter",I,void 0);function Dw(i,e){var t=i.a.end();i.c.push(t),i.c.push(e),i.b+=t.length+e.length}function Ft(i,e){return Ve(i,e,2),e=i.a.end(),i.c.push(e),i.b+=e.length,e.push(i.b),e}function Pt(i,e){var t=e.pop();for(t=i.b+i.a.length()-t,G(0<=t);127<t;)e.push(t&127|128),t>>>=7,i.b++;e.push(t),i.b++}I.prototype.pb=function(i,e,t){Dw(this,i.subarray(e,t))};I.prototype.writeSerializedMessage=I.prototype.pb;I.prototype.Pb=function(i,e,t){i!=null&&e!=null&&t!=null&&this.pb(i,e,t)};I.prototype.maybeWriteSerializedMessage=I.prototype.Pb;I.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]};I.prototype.reset=I.prototype.reset;I.prototype.ab=function(){G(this.h.length==0);for(var i=new Uint8Array(this.b+this.a.length()),e=this.c,t=e.length,r=0,s=0;s<t;s++){var o=e[s];i.set(o,r),r+=o.length}return e=this.a.end(),i.set(e,r),r+=e.length,G(r==i.length),this.c=[i],i};I.prototype.getResultBuffer=I.prototype.ab;I.prototype.Kb=function(i){return pw(this.ab(),i)};I.prototype.getResultBase64String=I.prototype.Kb;I.prototype.Va=function(i){this.h.push(Ft(this,i))};I.prototype.beginSubMessage=I.prototype.Va;I.prototype.Ya=function(){G(0<=this.h.length),Pt(this,this.h.pop())};I.prototype.endSubMessage=I.prototype.Ya;function Ve(i,e,t){G(1<=e&&e==Math.floor(e)),i.a.j(8*e+t)}I.prototype.Nc=function(i,e,t){switch(i){case 1:this.J(e,t);break;case 2:this.L(e,t);break;case 3:this.T(e,t);break;case 4:this.V(e,t);break;case 5:this.S(e,t);break;case 6:this.Qa(e,t);break;case 7:this.Pa(e,t);break;case 8:this.I(e,t);break;case 9:this.U(e,t);break;case 10:si("Group field type not supported in writeAny()");break;case 11:si("Message field type not supported in writeAny()");break;case 12:this.ja(e,t);break;case 13:this.s(e,t);break;case 14:this.R(e,t);break;case 15:this.Ra(e,t);break;case 16:this.Sa(e,t);break;case 17:this.rb(e,t);break;case 18:this.sb(e,t);break;case 30:this.K(e,t);break;case 31:this.N(e,t);break;default:si("Invalid field type in writeAny()")}};I.prototype.writeAny=I.prototype.Nc;function E1(i,e,t){t!=null&&(Ve(i,e,0),i.a.j(t))}function L1(i,e,t){t!=null&&(Ve(i,e,0),i.a.M(t))}I.prototype.S=function(i,e){e!=null&&(G(-2147483648<=e&&2147483648>e),L1(this,i,e))};I.prototype.writeInt32=I.prototype.S;I.prototype.ob=function(i,e){e!=null&&(e=parseInt(e,10),G(-2147483648<=e&&2147483648>e),L1(this,i,e))};I.prototype.writeInt32String=I.prototype.ob;I.prototype.T=function(i,e){e!=null&&(G(-9223372036854776e3<=e&&9223372036854776e3>e),e!=null&&(Ve(this,i,0),this.a.ua(e)))};I.prototype.writeInt64=I.prototype.T;I.prototype.ka=function(i,e){e!=null&&(e=bg(e),Ve(this,i,0),this.a.l(e.lo,e.hi))};I.prototype.writeInt64String=I.prototype.ka;I.prototype.s=function(i,e){e!=null&&(G(0<=e&&4294967296>e),E1(this,i,e))};I.prototype.writeUint32=I.prototype.s;I.prototype.ub=function(i,e){e!=null&&(e=parseInt(e,10),G(0<=e&&4294967296>e),E1(this,i,e))};I.prototype.writeUint32String=I.prototype.ub;I.prototype.V=function(i,e){e!=null&&(G(0<=e&&18446744073709552e3>e),e!=null&&(Ve(this,i,0),this.a.va(e)))};I.prototype.writeUint64=I.prototype.V;I.prototype.vb=function(i,e){e!=null&&(e=Va(e),Ve(this,i,0),this.a.l(e.lo,e.hi))};I.prototype.writeUint64String=I.prototype.vb;I.prototype.rb=function(i,e){e!=null&&(G(-2147483648<=e&&2147483648>e),e!=null&&(Ve(this,i,0),this.a.wa(e)))};I.prototype.writeSint32=I.prototype.rb;I.prototype.sb=function(i,e){e!=null&&(G(-9223372036854776e3<=e&&9223372036854776e3>e),e!=null&&(Ve(this,i,0),this.a.xa(e)))};I.prototype.writeSint64=I.prototype.sb;I.prototype.$d=function(i,e){e!=null&&e!=null&&(Ve(this,i,0),this.a.W(e))};I.prototype.writeSintHash64=I.prototype.$d;I.prototype.Zd=function(i,e){e!=null&&e!=null&&(Ve(this,i,0),this.a.Ta(e))};I.prototype.writeSint64String=I.prototype.Zd;I.prototype.Pa=function(i,e){e!=null&&(G(0<=e&&4294967296>e),Ve(this,i,5),this.a.s(e))};I.prototype.writeFixed32=I.prototype.Pa;I.prototype.Qa=function(i,e){e!=null&&(G(0<=e&&18446744073709552e3>e),Ve(this,i,1),this.a.V(e))};I.prototype.writeFixed64=I.prototype.Qa;I.prototype.nb=function(i,e){e!=null&&(e=Va(e),Ve(this,i,1),this.a.A(e.lo,e.hi))};I.prototype.writeFixed64String=I.prototype.nb;I.prototype.Ra=function(i,e){e!=null&&(G(-2147483648<=e&&2147483648>e),Ve(this,i,5),this.a.S(e))};I.prototype.writeSfixed32=I.prototype.Ra;I.prototype.Sa=function(i,e){e!=null&&(G(-9223372036854776e3<=e&&9223372036854776e3>e),Ve(this,i,1),this.a.T(e))};I.prototype.writeSfixed64=I.prototype.Sa;I.prototype.qb=function(i,e){e!=null&&(e=bg(e),Ve(this,i,1),this.a.A(e.lo,e.hi))};I.prototype.writeSfixed64String=I.prototype.qb;I.prototype.L=function(i,e){e!=null&&(Ve(this,i,5),this.a.L(e))};I.prototype.writeFloat=I.prototype.L;I.prototype.J=function(i,e){e!=null&&(Ve(this,i,1),this.a.J(e))};I.prototype.writeDouble=I.prototype.J;I.prototype.I=function(i,e){e!=null&&(G(typeof e=="boolean"||typeof e=="number"),Ve(this,i,0),this.a.I(e))};I.prototype.writeBool=I.prototype.I;I.prototype.R=function(i,e){e!=null&&(G(-2147483648<=e&&2147483648>e),Ve(this,i,0),this.a.M(e))};I.prototype.writeEnum=I.prototype.R;I.prototype.U=function(i,e){e!=null&&(i=Ft(this,i),this.a.U(e),Pt(this,i))};I.prototype.writeString=I.prototype.U;I.prototype.ja=function(i,e){e!=null&&(e=mg(e),Ve(this,i,2),this.a.j(e.length),Dw(this,e))};I.prototype.writeBytes=I.prototype.ja;I.prototype.Rc=function(i,e,t){e!=null&&(i=Ft(this,i),t(e,this),Pt(this,i))};I.prototype.writeMessage=I.prototype.Rc;I.prototype.Sc=function(i,e,t){e!=null&&(Ve(this,1,3),Ve(this,2,0),this.a.M(i),i=Ft(this,3),t(e,this),Pt(this,i),Ve(this,1,4))};I.prototype.writeMessageSet=I.prototype.Sc;I.prototype.Oc=function(i,e,t){e!=null&&(Ve(this,i,3),t(e,this),Ve(this,i,4))};I.prototype.writeGroup=I.prototype.Oc;I.prototype.K=function(i,e){e!=null&&(G(e.length==8),Ve(this,i,1),this.a.K(e))};I.prototype.writeFixedHash64=I.prototype.K;I.prototype.N=function(i,e){e!=null&&(G(e.length==8),Ve(this,i,0),this.a.N(e))};I.prototype.writeVarintHash64=I.prototype.N;I.prototype.A=function(i,e,t){Ve(this,i,1),this.a.A(e,t)};I.prototype.writeSplitFixed64=I.prototype.A;I.prototype.l=function(i,e,t){Ve(this,i,0),this.a.l(e,t)};I.prototype.writeSplitVarint64=I.prototype.l;I.prototype.tb=function(i,e,t){Ve(this,i,0);var r=this.a;cg(e,t,function(s,o){r.l(s>>>0,o>>>0)})};I.prototype.writeSplitZigzagVarint64=I.prototype.tb;I.prototype.Ed=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)L1(this,i,e[t])};I.prototype.writeRepeatedInt32=I.prototype.Ed;I.prototype.Fd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.ob(i,e[t])};I.prototype.writeRepeatedInt32String=I.prototype.Fd;I.prototype.Gd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var r=e[t];r!=null&&(Ve(this,i,0),this.a.ua(r))}};I.prototype.writeRepeatedInt64=I.prototype.Gd;I.prototype.Qd=function(i,e,t,r){if(e!=null)for(var s=0;s<e.length;s++)this.A(i,t(e[s]),r(e[s]))};I.prototype.writeRepeatedSplitFixed64=I.prototype.Qd;I.prototype.Rd=function(i,e,t,r){if(e!=null)for(var s=0;s<e.length;s++)this.l(i,t(e[s]),r(e[s]))};I.prototype.writeRepeatedSplitVarint64=I.prototype.Rd;I.prototype.Sd=function(i,e,t,r){if(e!=null)for(var s=0;s<e.length;s++)this.tb(i,t(e[s]),r(e[s]))};I.prototype.writeRepeatedSplitZigzagVarint64=I.prototype.Sd;I.prototype.Hd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.ka(i,e[t])};I.prototype.writeRepeatedInt64String=I.prototype.Hd;I.prototype.Ud=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)E1(this,i,e[t])};I.prototype.writeRepeatedUint32=I.prototype.Ud;I.prototype.Vd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.ub(i,e[t])};I.prototype.writeRepeatedUint32String=I.prototype.Vd;I.prototype.Wd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var r=e[t];r!=null&&(Ve(this,i,0),this.a.va(r))}};I.prototype.writeRepeatedUint64=I.prototype.Wd;I.prototype.Xd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.vb(i,e[t])};I.prototype.writeRepeatedUint64String=I.prototype.Xd;I.prototype.Md=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var r=e[t];r!=null&&(Ve(this,i,0),this.a.wa(r))}};I.prototype.writeRepeatedSint32=I.prototype.Md;I.prototype.Nd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var r=e[t];r!=null&&(Ve(this,i,0),this.a.xa(r))}};I.prototype.writeRepeatedSint64=I.prototype.Nd;I.prototype.Od=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var r=e[t];r!=null&&(Ve(this,i,0),this.a.Ta(r))}};I.prototype.writeRepeatedSint64String=I.prototype.Od;I.prototype.Pd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var r=e[t];r!=null&&(Ve(this,i,0),this.a.W(r))}};I.prototype.writeRepeatedSintHash64=I.prototype.Pd;I.prototype.yd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.Pa(i,e[t])};I.prototype.writeRepeatedFixed32=I.prototype.yd;I.prototype.zd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.Qa(i,e[t])};I.prototype.writeRepeatedFixed64=I.prototype.zd;I.prototype.Ad=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.nb(i,e[t])};I.prototype.writeRepeatedFixed64String=I.prototype.Ad;I.prototype.Jd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.Ra(i,e[t])};I.prototype.writeRepeatedSfixed32=I.prototype.Jd;I.prototype.Kd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.Sa(i,e[t])};I.prototype.writeRepeatedSfixed64=I.prototype.Kd;I.prototype.Ld=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.qb(i,e[t])};I.prototype.writeRepeatedSfixed64String=I.prototype.Ld;I.prototype.Cd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.L(i,e[t])};I.prototype.writeRepeatedFloat=I.prototype.Cd;I.prototype.wd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.J(i,e[t])};I.prototype.writeRepeatedDouble=I.prototype.wd;I.prototype.ud=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.I(i,e[t])};I.prototype.writeRepeatedBool=I.prototype.ud;I.prototype.xd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.R(i,e[t])};I.prototype.writeRepeatedEnum=I.prototype.xd;I.prototype.Td=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.U(i,e[t])};I.prototype.writeRepeatedString=I.prototype.Td;I.prototype.vd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.ja(i,e[t])};I.prototype.writeRepeatedBytes=I.prototype.vd;I.prototype.Id=function(i,e,t){if(e!=null)for(var r=0;r<e.length;r++){var s=Ft(this,i);t(e[r],this),Pt(this,s)}};I.prototype.writeRepeatedMessage=I.prototype.Id;I.prototype.Dd=function(i,e,t){if(e!=null)for(var r=0;r<e.length;r++)Ve(this,i,3),t(e[r],this),Ve(this,i,4)};I.prototype.writeRepeatedGroup=I.prototype.Dd;I.prototype.Bd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.K(i,e[t])};I.prototype.writeRepeatedFixedHash64=I.prototype.Bd;I.prototype.Yd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.N(i,e[t])};I.prototype.writeRepeatedVarintHash64=I.prototype.Yd;I.prototype.ad=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.M(e[t]);Pt(this,i)}};I.prototype.writePackedInt32=I.prototype.ad;I.prototype.bd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.M(parseInt(e[t],10));Pt(this,i)}};I.prototype.writePackedInt32String=I.prototype.bd;I.prototype.cd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.ua(e[t]);Pt(this,i)}};I.prototype.writePackedInt64=I.prototype.cd;I.prototype.md=function(i,e,t,r){if(e!=null){i=Ft(this,i);for(var s=0;s<e.length;s++)this.a.A(t(e[s]),r(e[s]));Pt(this,i)}};I.prototype.writePackedSplitFixed64=I.prototype.md;I.prototype.nd=function(i,e,t,r){if(e!=null){i=Ft(this,i);for(var s=0;s<e.length;s++)this.a.l(t(e[s]),r(e[s]));Pt(this,i)}};I.prototype.writePackedSplitVarint64=I.prototype.nd;I.prototype.od=function(i,e,t,r){if(e!=null){i=Ft(this,i);for(var s=this.a,o=0;o<e.length;o++)cg(t(e[o]),r(e[o]),function(l,u){s.l(l>>>0,u>>>0)});Pt(this,i)}};I.prototype.writePackedSplitZigzagVarint64=I.prototype.od;I.prototype.dd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++){var r=bg(e[t]);this.a.l(r.lo,r.hi)}Pt(this,i)}};I.prototype.writePackedInt64String=I.prototype.dd;I.prototype.pd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.j(e[t]);Pt(this,i)}};I.prototype.writePackedUint32=I.prototype.pd;I.prototype.qd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.j(parseInt(e[t],10));Pt(this,i)}};I.prototype.writePackedUint32String=I.prototype.qd;I.prototype.rd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.va(e[t]);Pt(this,i)}};I.prototype.writePackedUint64=I.prototype.rd;I.prototype.sd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++){var r=Va(e[t]);this.a.l(r.lo,r.hi)}Pt(this,i)}};I.prototype.writePackedUint64String=I.prototype.sd;I.prototype.hd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.wa(e[t]);Pt(this,i)}};I.prototype.writePackedSint32=I.prototype.hd;I.prototype.jd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.xa(e[t]);Pt(this,i)}};I.prototype.writePackedSint64=I.prototype.jd;I.prototype.kd=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.W(Du(e[t]));Pt(this,i)}};I.prototype.writePackedSint64String=I.prototype.kd;I.prototype.ld=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.W(e[t]);Pt(this,i)}};I.prototype.writePackedSintHash64=I.prototype.ld;I.prototype.Wc=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(4*e.length),i=0;i<e.length;i++)this.a.s(e[i])};I.prototype.writePackedFixed32=I.prototype.Wc;I.prototype.Xc=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.V(e[i])};I.prototype.writePackedFixed64=I.prototype.Xc;I.prototype.Yc=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++){var t=Va(e[i]);this.a.A(t.lo,t.hi)}};I.prototype.writePackedFixed64String=I.prototype.Yc;I.prototype.ed=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(4*e.length),i=0;i<e.length;i++)this.a.S(e[i])};I.prototype.writePackedSfixed32=I.prototype.ed;I.prototype.fd=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.T(e[i])};I.prototype.writePackedSfixed64=I.prototype.fd;I.prototype.gd=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.ka(e[i])};I.prototype.writePackedSfixed64String=I.prototype.gd;I.prototype.$c=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(4*e.length),i=0;i<e.length;i++)this.a.L(e[i])};I.prototype.writePackedFloat=I.prototype.$c;I.prototype.Uc=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.J(e[i])};I.prototype.writePackedDouble=I.prototype.Uc;I.prototype.Tc=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(e.length),i=0;i<e.length;i++)this.a.I(e[i])};I.prototype.writePackedBool=I.prototype.Tc;I.prototype.Vc=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.R(e[t]);Pt(this,i)}};I.prototype.writePackedEnum=I.prototype.Vc;I.prototype.Zc=function(i,e){if(e!=null&&e.length)for(Ve(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.K(e[i])};I.prototype.writePackedFixedHash64=I.prototype.Zc;I.prototype.td=function(i,e){if(e!=null&&e.length){i=Ft(this,i);for(var t=0;t<e.length;t++)this.a.N(e[t]);Pt(this,i)}};I.prototype.writePackedVarintHash64=I.prototype.td;typeof pi=="object"&&(pi.debug=Ar,pi.Map=We,pi.Message=Se,pi.BinaryReader=T,pi.BinaryWriter=I,pi.ExtensionFieldInfo=Eu,pi.ExtensionFieldBinaryInfo=kw,pi.exportSymbol=xC,pi.inherits=vC,pi.object={extend:IC},pi.typeOf=vn)});var C_=class i extends Laya.EventDispatcher{static getInstance(){return i._instance||(i._instance=new i),i._instance}},k=C_.getInstance();var w=class{};w.MOUSE_HOLDON="MOUSE_HOLDON",w.EVENT_OPEN_MODULE="EVENT_OPEN_MODULE",w.EVENT_MODULE_ADDED="EVENT_MODULE_ADDED",w.EVENT_CLOSE_MODULE="EVENT_CLOSE_MODULE",w.EVENT_CHECK_REMAIN="EVENT_CHECK_REMAIN",w.EVENT_LOADED_COMPLETE="EVENT_LOAD_COMPLETE",w.EVENT_LOADED_SCENE_BG_COM="EVENT_LOADED_SCENE_BG_COM",w.EVENT_LOAD_SKIN_COMPLETE="EVENT_LOAD_SKIN_COMPLETE",w.EVENT_LOAD_HEAD_SKIN_COMPLETE="EVENT_LOAD_HEAD_SKIN_COMPLETE",w.EVENT_LOADING_SUC="EVENT_LOADING_SUC",w.EVENT_BACK_TO_LOGIN="EVENT_BACK_TO_LOGIN",w.EVENT_LOGIN_GAME_END="EVENT_LOGIN_GAME_END",w.EVENT_ENTER_MAIN="EVENT_ENTER_MAIN",w.EVENT_CHANGE_HEAD="EVENT_CHANGE_HEAD",w.EVENT_MODIFY_HEAD="EVENT_MODIFY_HEAD",w.EVENT_ITEM_UPDATE="EVENT_ITEM_UPDATE",w.EVENT_ROLE_UPDATE="EVENT_ROLE_UPDATE",w.STAGE_ON_BLUR="STAGE_ON_BLUR",w.STAGE_ON_FOCUS="STAGE_ON_FOCUS",w.ACCOUNTVO_UPDATE="ACCOUNTVO_UPDATE",w.EVENT_WAIT_PLAYERINFO="EVENT_WAIT_PLAYERINFO",w.EVENT_END_HEROBUY="EVENT_END_HEROBUY",w.EVENT_END_HEROTRANSFER="EVENT_END_HEROTRANSFER",w.EVENT_REFRESH_HEROTRANSFER="EVENT_REFRESH_HEROTRANSFER",w.EVENT_REFRESH_QUAN_STATUS="EVENT_REFRESH_QUAN_STATUS",w.EVENT_REFRESH_ITEM_ONCHAIN_STATUS="EVENT_REFRESH_ITEM_ONCHAIN_STATUS",w.EVENT_REFRESH_RENT_HERO_ONCHAIN_STATUS="EVENT_REFRESH_RENT_HERO_ONCHAIN_STATUS",w.EVENT_REFRESH_NODE_ONCHAIN_STATUS="EVENT_REFRESH_NODE_ONCHAIN_STATUS",w.EVENT_REFRESH_UNIONMEMBER_TRANSFER="EVENT_REFRESH_UNIONMEMBER_TRANSFER",w.EVENT_REFRESH_KNAPSACK="EVENT_REFRESH_KNAPSACK",w.EVENT_ADD_UNIONMEMBER_ADDRESS="EVENT_ADD_UNIONMEMBER_ADDRESS",w.EVENT_ADD_TICKET_ADDRESS="EVENT_ADD_TICKET_ADDRESS",w.EVENT_EMOJI_ICON_SELECT="EVENT_EMOJI_ICON_SELECT",w.EVENT_COLOR_ICON_SELECT="EVENT_COLOR_ICON_SELECT",w.EVENT_CHECK_ICON_SELECT="EVENT_CHECK_ICON_SELECT",w.EVENT_CHECK_PLAYER_NUM_SELECT="EVENT_CHECK_PLAYER_NUM_SELECT",w.EVENT_CHECK_NODE_SELECT="EVENT_CHECK_NODE_SELECT",w.PACKAGE_UPDATE_ITEM="PACKAGE_UPDATE_ITEM",w.IMPROVE_SUCESS_EVENT="IMPROVE_SUCESS_EVENT",w.CHANG_POTRAIT="CHANG_POTRAIT",w.ROLE_INFO_CHANGE="ROLE_INFO_CHANGE",w.ROLE_INFO_UPDATE="ROLE_INFO_UPDATE",w.UPDATE_ASSETS="UPDATE_ASSETS",w.REFRESH_MAIN_TASK="REFRESH_MAIN_TASK",w.RECIVE_SUCESS_SERVICE="RECIVE_SUCESS_SERVICE",w.SCENE_ROLE_COMPELTE="SCENE_ROLE_COMPELTE",w.FITTING_CLOTH_BTN="FITTING_CLOTH_BTN",w.STORE_CLICKBG_EVENT="STORE_CLICKBG_EVENT",w.CLOSE_BG_VIEW="CLOSE_BG_VIEW",w.EVENT_UPDATE_ONLINE="EVENT_UPDATE_ONLINE",w.VIP_INFO_CHANGE="VIP_INFO_CHANGE",w.EVENT_FUNCTION_OPEN_UPDATE="EVENT_FUNCTION_OPEN_UPDATE",w.EVENT_ADD_ACTIVITY="EVENT_ADD_ACTIVITY",w.EVENT_REMOVE_ACTIVITY="EVENT_REMOVE_ACTIVITY",w.UPDATE_CHAO_PIAO="UPDATE_CHAO_PIAO",w.UPDATE_EXCHANGE_INFO="UPDATE_EXCHANGE_INFO",w.UPDATE_RED_STATE_EVENT="UPDATE_RED_STATE_EVENT",w.SYSTEM_OPEN_TIME_INITED="SYSTEM_OPEN_TIME_INITED",w.EVENT_OPEN_SHARE="EVENT_OPEN_SHARE",w.CHANGE_SCENE_BASE_ROLE_LAYER="CHANGE_SCENE_BASE_ROLE_LAYER",w.EVENT_CLICK_NUM="EVENT_CLICK_NUM",w.EVENT_CLICK_SPACE="EVENT_CLICK_SPACE",w.EVENT_HERO_DRAW_BACK="EVENT_HERO_DRAW_BACK",w.EVENT_Close_CreateRoom="EVENT_Close_CreateRoom",w.EVENT_ENTER_MATCH_ROOM="EVENT_ENTER_MATCH_ROOM",w.EVENT_UPDATE_MATCH_ROOM="EVENT_UPDATE_MATCH_ROOM",w.EVENT_CLICK_HERO="EVENT_CLICK_HERO",w.UPDATE_KILL_NUM="UPDATE_KILL_NUM",w.EVENT_PVP_INIT_DATA="EVENT_PVP_INIT_DATA",w.EVENT_PVP_RESTORE_DATA="EVENT_PVP_RESTORE_DATA",w.EVENT_FirstBlood="EVENT_FirstBlood",w.EVENT_MutiKill="EVENT_MutiKill",w.EVENT_GameScene_Gray="EVENT_GameScene_Gray",w.EVENT_Game_Delay="EVENT_Game_Delay",w.EVENT_UPDATE_ITEM_SKILL_COOL="UPDATE_SKILL_COOLTIME",w.EVENT_UPDATE_GLOBAL_COOL="EVENT_UPDATE_GLOBAL_COOL",w.EVENT_UPDATE_REDECE_COOL="EVENT_UPDATE_REDECE_COOL",w.EVENT_REFRESH_BAN_ACCOUNT="EVENT_REFRESH_BAN_ACCOUNT",w.EVENT_SUB_GUILD_UPDATE="EVENT_SUB_GUILD_UPDATE",w.EVENT_UNION_APPLY_MEMBER_UPDATE="EVENT_UNION_APPLY_MEMBER_UPDATE",w.EVENT_WELFARE_CLAIM="EVENT_WELFARE_CLAIM",w.EVENT_RECHARGE_GET="EVENT_RECHARGE_GET",w.CHANGE_WALLET_HERO="CHANGE_WALLET_HERO",w.CHANGE_ASSET_CHAIN="CHANGE_ASSET_CHAIN",w.CHANGE_WALLET_PROP="CHANGE_WALLET_PROP",w.CREATE_SUB_WALLET_SUCCESS="CREATE_SUB_WALLET_SUCCESS",w.REFRESH_ALL_WITHDRAW_DATA="REFRESH_ALL_WITHDRAW_DATA",w.CHANGE_FRIEND_APPLY_LIST="CHANGE_FRIEND_APPLY_LIST",w.CHANGE_FRIEND_LIST="CHANGE_FRIEND_LIST",w.REFRSH_RED="REFRSH_RED",w.REFRSH_APPLY_FRIEND_LIST="REFRSH_APPLY_FRIEND_LIST",w.ADD_AIR_WALLET_ITEM="ADD_AIR_WALLET_ITEM",w.ADD_AIR_SUB_WALLET_NAME="ADD_AIR_SUB_WALLET_NAME",w.AIR_SUB_WALLET_OPENHERO="AIR_SUB_WALLET_OPENHERO",w.CHANGE_WALLET_HERO_AIR="CHANGE_WALLET_HERO_AIR",w.UPDATE_UNION_MEMBER_LIST="UPDATE_UNION_MEMBER_LIST",w.EVENT_ADD_MONEY_ADDRESS="EVENT_ADD_MONEY_ADDRESS",w.REFRESH_MAINSCENE_HEAD_RED="REFRESH_MAINSCENE_HEAD_RED",w.REFRESH_ROLEINFO_RED="REFRESH_ROLEINFO_RED",w.REFRESH_ACTIVITY_RED="REFRESH_ACTIVITY_RED",w.SHOW_EQUIP_TIP="SHOW_EQUIP_TIP",w.REFRESH_RANK_DIALOG_RED="REFRESH_RANK_DIALOG_RED",w.REFRESH_MAIL_RED="REFRESH_MAIL_RED",w.SHOW_EQUIP_SHOP_TIP="SHOW_EQUIP_SHOP_TIP",w.ON_CONNECT_GAME_SERVER="ON_CONNECT_GAME_SERVER",w.LENGTH_CHANGE="LENGTH_CHANGE",w.KILL_SNAKE="KILL_SNAKE",w.UPDATE_LOCAL_WALLET_LIST_EVENT="UPDATE_LOCAL_WALLET_LIST_EVENT",w.UPDATE_TOKEN_BALANCE="UPDATE_TOKEN_BALANCE",w.UPDATE_BAG_INFO="UPDATE_BAG_INFO",w.EVENT_CHANGE_NODE="EVENT_CHANGE_NODE",w.EVENT_NEW_NOTICE="EVENT_NEW_NOTICE",w.EVENT_NEW_NOTICE_ADDED="EVENT_NEW_NOTICE_ADDED",w.EVENT_MARQUEE_EMPTY="EVENT_MARQUEE_EMPTY",w.EVENT_CHANGE_CLUB_RATE="EVENT_CHANGE_CLUB_RATE",w.EVENT_CLUB_INFO_CHANGE="EVENT_CLUB_INFO_CHANGE";var it=class i{constructor(e=0,t=0){this.x=e,this.y=t}static create(e=0,t=0){return new i(e,t)}assign(e){return this.x=e.x,this.y=e.y,this}add(e){return new i(this.x+e.x,this.y+e.y)}sub(e){return new i(this.x-e.x,this.y-e.y)}mul(e){return new i(this.x*e,this.y*e)}getRotation(){let e=Math.atan2(this.y,this.x)*180/Math.PI;return e<0&&(e+=360),e}getRotationTo(e){let t=e.x-this.x,r=e.y-this.y,s=Math.atan2(r,-t)*180/Math.PI;return s<0&&(s+=360),s}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y);return e!==0&&(this.x/=e,this.y/=e),this}rotate(e){let t=e*Math.PI/180,r=Math.sin(t),s=Math.cos(t),o=this.x,l=this.y;this.x=o*s-l*r,this.y=o*r+l*s}dot(e){return this.x*e.x+this.y*e.y}equal(e){return this.x===e.x&&this.y===e.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}init(e=0,t=0){return this.x=e,this.y=t,this}clone(){return new i(this.x,this.y)}clamp(e,t){let r=this.length();return r>t&&this.normalize().mul(t),r<e&&this.normalize().mul(e),this}reset(){return this.x=0,this.y=0,this}toString(){return`(${this.x},${this.y})`}};var me=class me{constructor(){this._touchEnabled=!0;if(me._instance)throw new Error("LayerManager,new.");me._instance=this}get m_sprPanelLayer(){return this._m_sprPanelLayer}set m_sprPanelLayer(e){this._m_sprPanelLayer=e}get m_sprMainUILayer(){return this._m_sprMainUILayer}set m_sprMainUILayer(e){this._m_sprMainUILayer=e}get m_sprTipLayer(){return this._m_sprTipLayer}set m_sprTipLayer(e){this._m_sprTipLayer=e}static get instence(){return me._instance||(me._instance=new me),me._instance}init(){this.m_sprSceneLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprSceneLayer),this.m_sprMainUILayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprMainUILayer),this.m_sprPanelLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprPanelLayer),this.m_sprPopLayer=new Laya.Sprite,this.m_sprPopLayer.mouseThrough=!0,Laya.stage.addChild(this.m_sprPopLayer),this.m_sprTipLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprTipLayer),this.m_sprGuideLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprGuideLayer),this.m_sprTopLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprTopLayer)}get touchEnabled(){return this._touchEnabled}set touchEnabled(e){this._touchEnabled!=e&&(this._touchEnabled=e,this.m_sprSceneLayer.mouseEnabled=this._touchEnabled,this.m_sprMainUILayer.mouseEnabled=this._touchEnabled,this.m_sprPanelLayer.mouseEnabled=this._touchEnabled,this.m_sprPopLayer.mouseEnabled=this._touchEnabled,this.m_sprTipLayer.mouseEnabled=this._touchEnabled,this.m_sprGuideLayer.mouseEnabled=this._touchEnabled,this.m_sprTopLayer.mouseEnabled=this._touchEnabled)}addToLayerAndSet(e,t=me.M_PANEL,r=me.CENTER){this.addToLayer(e,t),this.setPosition(e,r)}getLayerIndex(e,t=me.M_PANEL){let r;switch(t){case me.M_SCENE:r=this.m_sprSceneLayer.getChildIndex(e);break;case me.M_MAINUI:r=this.m_sprMainUILayer.getChildIndex(e);break;case me.M_PANEL:r=this.m_sprPanelLayer.getChildIndex(e);break;case me.M_POP:r=this.m_sprPopLayer.getChildIndex(e);break;case me.M_TIP:r=this.m_sprTipLayer.getChildIndex(e);break;case me.M_GUIDE:r=this.m_sprGuideLayer.getChildIndex(e);break;case me.M_TOP:r=this.m_sprTopLayer.getChildIndex(e);break}return r}addToLayerAt(e,t=me.M_PANEL,r=0){switch(t){case me.M_SCENE:this.m_sprSceneLayer.addChildAt(e,r);break;case me.M_MAINUI:this.m_sprMainUILayer.addChildAt(e,r);break;case me.M_PANEL:this.m_sprPanelLayer.addChildAt(e,r);break;case me.M_POP:this.m_sprPopLayer.addChildAt(e,r);break;case me.M_TIP:this.m_sprTipLayer.addChildAt(e,r);break;case me.M_GUIDE:this.m_sprGuideLayer.addChildAt(e,r);break;case me.M_TOP:this.m_sprTopLayer.addChildAt(e,r);break}}addToLayer(e,t=me.M_PANEL){switch(t){case me.M_SCENE:this.m_sprSceneLayer.addChild(e);break;case me.M_MAINUI:this.m_sprMainUILayer.addChild(e);break;case me.M_PANEL:this.m_sprPanelLayer.addChild(e);break;case me.M_POP:this.m_sprPopLayer.addChild(e);break;case me.M_TIP:this.m_sprTipLayer.addChild(e);break;case me.M_GUIDE:this.m_sprGuideLayer.addChild(e);break;case me.M_TOP:this.m_sprTopLayer.addChild(e);break}}removeFromLayer(e,t){switch(t){case me.M_SCENE:this.m_sprSceneLayer.removeChild(e);break;case me.M_MAINUI:this.m_sprMainUILayer.removeChild(e);break;case me.M_PANEL:this.m_sprPanelLayer.removeChild(e);break;case me.M_POP:this.m_sprPopLayer.removeChild(e);break;case me.M_GUIDE:this.m_sprGuideLayer.removeChild(e);break;case me.M_TOP:this.m_sprTopLayer.removeChild(e);break}}clearLayer(e){switch(e){case me.M_SCENE:this.m_sprSceneLayer.removeChildren();break;case me.M_MAINUI:this.m_sprSceneLayer.removeChildren();break;case me.M_PANEL:this.m_sprSceneLayer.removeChildren();break;case me.M_POP:this.m_sprSceneLayer.removeChildren();break;case me.M_TOP:this.m_sprSceneLayer.removeChildren();break}}get stageWidth(){let e;return e=Laya.stage.width,e}get stageHeight(){let e;return e=Laya.stage.height,e}setPosition(e,t,r=0,s=0,o=!1,l=!1){let u=Laya.stage.width,p=Laya.stage.height;switch(this.m_iStageWidth=u,this.m_iStageHeight=p,t){case me.UP:e.x=o?u/2:(u-e.width*e.scaleX)/2,e.y=0;break;case me.DOWN:e.x=o?u/2:(u-e.width*e.scaleX)/2,e.y=p-e.height*e.scaleY;break;case me.LEFT:e.x=0,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;case me.RIGHT:e.x=u-e.width*e.scaleX,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;case me.LEFTUP:e.x=0,e.y=0;break;case me.RIGHTUP:e.x=u-e.width*e.scaleX,e.y=0;break;case me.LEFTDOWN:e.x=0,e.y=p-e.height*e.scaleY;break;case me.RIGHTDOWN:e.x=u-e.width*e.scaleX,e.y=p-e.height*e.scaleY;break;case me.CENTERLEFT:e.x=u/2-e.width*e.scaleX,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;case me.CENTERRIGHT:e.x=u/2,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;case me.CENTER:e.x=o?u/2:(u-e.width*e.scaleX)/2,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;default:break}e.x+=r,e.y+=s}setLayer(e,t,r){if(!e||!t||e.parent!=t.parent)return;let s=e.parent.getChildIndex(e),o=t.parent.getChildIndex(t);r?s>o&&(e.parent.setChildIndex(e,o),e.parent.setChildIndex(t,s)):s<o&&(e.parent.setChildIndex(e,o),e.parent.setChildIndex(t,s))}};me.M_SCENE=1,me.M_MAINUI=2,me.M_PANEL=3,me.M_POP=4,me.M_TIP=5,me.M_GUIDE=7,me.M_TOP=6,me.UP=1,me.DOWN=16,me.LEFT=256,me.RIGHT=4096,me.CENTER=65536,me.LEFTUP=me.LEFT|me.UP,me.RIGHTUP=me.RIGHT|me.UP,me.LEFTDOWN=me.LEFT|me.DOWN,me.RIGHTDOWN=me.RIGHT|me.DOWN,me.CENTERLEFT=me.CENTER|me.LEFT,me.CENTERRIGHT=me.CENTER|me.RIGHT,me.MOVE=-1;var Z=me;var Ne=class{constructor(e=!1){this._cachedValues=[];this._dirty=!0;this._needCache=!1;this._map=new Map;this.SERIALIZATION_NUM=new Date().getTime(),this._needCache=e}get values(){return this._needCache?(this._dirty&&(this._cachedValues=[...this._map.values()],this._dirty=!1),this._cachedValues):[...this._map.values()]}get keys(){return[...this._map.keys()]}set(e,t){this._map.set(e,t),this._dirty=!0}get(e){return this._map.get(e)}remove(e){return this._dirty=!0,this._map.delete(e)}clear(){this._map.clear(),this._cachedValues.length=0,this._dirty=!0}has(e){return this._map.has(e)}get size(){return this._map.size}getValues(){return this._map.values()}getMap(){return this._map}};var et=class{constructor(){this._keys=[];this.THIS_ID="id"}init(e){for(let t in e){this._keys.push(t);let r=e[t];e[t]instanceof String&&String(e[t]).indexOf("[[")>=0&&(r=JSON.parse(e[t])),this[t]=r}}checkItems(){}};var ln=class extends et{constructor(){super()}};var Mn=class Mn{constructor(){this._list=[];this._isNoticing=!1;this._isListener=!1}static getInstance(){return Mn._instance||(Mn._instance=new Mn),Mn._instance}notice(e){this._isNoticing?this._isListener||(this._isListener=!0,this._list.push(e),Laya.timer.loop(Mn.Tip_Interval,this,this.onInterVal)):(this._list.push(e),this.noticeOne())}noticeOne(){var e=J.m_objModuleViews.TxtNoticeView;let t;Laya.loader.load(e).then(r=>{if(!r){console.log("noticeOne : "+e+"  res is null");return}t=Laya.Pool.getItemByCreateFun("txtNotice",r.create,r);let s=this._list.shift();t.notice(s),Laya.stage.addChild(t),t.x=Z.instence.stageWidth*.5-t.width*.5,t.y=Z.instence.stageHeight*.5-t.height*.5,Laya.Tween.to(t,{y:t.y-250,alpha:.5},1e3,null,Laya.Handler.create(this,this.onFinish,[t]),1e3)})}onFinish(e){e&&(e.visible=!1,e.removeSelf())}onInterVal(){this._list.length>=1?this.noticeOne():(this._isNoticing=!1,this._isListener=!1,Laya.timer.clear(this,this.onInterVal))}};Mn.Tip_Interval=1e3;var A_=Mn,Me=A_.getInstance();var Es=class extends et{};var Ls=class{constructor(){}};Ls.Lan_en=1,Ls.Lan_zh=6,Ls.Lan_tr=7;var Fe=class{constructor(){}};Fe.NO_ALL=-1,Fe.YES=1,Fe.NO=2,Fe.SURE=4,Fe.CANCEL=8,Fe.CLOSE=16,Fe.RETURN_YES=1,Fe.RETURN_NO=2,Fe.RETURN_NONE=3,Fe.BASEALERTVIEW="BaseAlertDialog",Fe.MatchConfimDialog="MatchConfimDialog",Fe.InviteConfimDialog="InviteConfimDialog",Fe.ApplyConfimDialog="ApplyConfimDialog",Fe.BUYCONFIRMVIEW="BuyConfirmView",Fe.GUILDQUITVIEW="GuildQuitView",Fe.BuyItemConfirmView="BuyItemConfirmView",Fe.DOWNLOADALERT="DownLoadAlert";var ge=class{};ge.M_SCENE_MAIN="M_SCENE_MAIN",ge.M_SCENE_SHOP="M_SCENE_SHOP",ge.M_SCENE_AIRDROP="M_SCENE_AIRDROP",ge.M_SCENE_HERO="M_SCENE_HERO",ge.M_SCENE_RANK="M_SCENE_RANK",ge.M_SCENE_CLUB="M_SCENE_CLUB",ge.M_SCENE_PRE_LOAD="M_SCENE_PRE_LOAD",ge.M_SCENE_MATCH_READY="M_SCENE_MATCH_READY",ge.M_SCENE_MATCH="M_SCENE_MATCH",ge.M_SCENE_SNAKE_MATCH="M_SCENE_SNAKE_MATCH",ge.M_SCENE_AI_ARENA="M_SCENE_AI_ARENA",ge.M_SCENE_OPEN_GAME="M_SCENE_OPEN_GAME",ge.M_SCENE_ASSET="M_SCENE_ASSET",ge.M_SCENE_DIG="M_SCENE_DIG",ge.M_SCENE_MAIL="M_SCENE_MAIL",ge.M_SCENE_KNAPSACK="M_SCENE_KNAPSACK",ge.M_SCENE_UNION="M_SCENE_UNION",ge.M_SCENE_MYUNION="M_SCENE_MYUNION",ge.M_SCENE_LCPOOL="M_SCENE_LCPOOL",ge.M_SCENE_ARENA="M_SCENE_ARENA",ge.M_SCENE_FRIEND="M_SCENE_FRIEND",ge.M_SCENE_IGO_PAGE="M_SCENE_IGO_PAGE",ge.M_SCENE_DAILY_TASK="M_SCENE_DAILY_TASK",ge.M_SCENE_PVE="M_SCENE_PVE",ge.M_SCENE_ROLE="M_SCENE_ROLE",ge.M_SCENE_SETTING="M_SCENE_SETTING";var Ye=class{};Ye.TYPE_EXP=3003,Ye.TYPE_GOLD=3005,Ye.TYPE_TOX=3001,Ye.TYPE_USDT=3004,Ye.TYPE_BTC=3006,Ye.TYPE_ETH=3007,Ye.TYPE_BTOX=3011,Ye.TYPE_GALA=3010,Ye.TYPE_BNB=3013,Ye.TYPE_GGG=3017,Ye.TYPE_KLAY=3015,Ye.TYPE_BNRY=3016,Ye.TYPE_LLE=3017,Ye.TYPE_PC=3022,Ye.TYPE_SOL=3023,Ye.TYPE_MNT=3024,Ye.TYPE_PAS=3025,Ye.TYPE_QUAN_PVE=1980,Ye.TYPE_QUAN_MNT=4001,Ye.TYPE_REWARD_TOKEN=-9999;var M_=class i{constructor(){}static getInstance(){return i._instance||(i._instance=new i),i._instance}AlertByType(e,t=null,r=0,s=null,o=null,l=!1,u=null){r==0&&(r=Fe.YES|Fe.NO),this.onLoaded(r,e,t,s,o,l,u)}onLoaded(e,t,r,s=null,o=null,l=!1,u=null){De.intance.openModule(t,{flag:e,okHandler:s,cancelHandler:o,data:r,destroyDoCancel:l,initHandler:u})}},di=M_.getInstance();var ko=class{constructor(e,t){this._valuesObject={};this.sheetObject=e,this.BaseItemClass=t}get keys(){if(this._keys)return this._keys;this._keys=[];for(let e in this.sheetObject)!e||e==""||this._keys.push(e);return this._keys}get values(){if(this._values)return this._values;this._values=[];let e;for(let t in this.sheetObject)this._valuesObject[t]?e=this._valuesObject[t]:(e=new this.BaseItemClass,e.init(this.sheetObject[t]),this._valuesObject[t]=e),this._values.push(e);return this._values}get(e){return this._valuesObject[e]?this._valuesObject[e]:this.sheetObject[e]}get1(e){if(this._valuesObject[e])return this._valuesObject[e];let t=this.sheetObject[e];if(t)return t;let r;this.BaseItemClass&&(r=new this.BaseItemClass,r.init==null&&console.log("ERROR :<BaseItem> SheetDataManager -->initConfig()  class : "+this.BaseItemClass),r.init(t)),this._valuesObject;let s=r||t;return this._valuesObject[e]=s,s}indexOf(e){let t=this._keys.indexOf(e);return t>=0?t:(e=e instanceof String?Number(e):e instanceof Number?e.toString():e,this._keys.indexOf(e))}clear(){this.sheetObject=null}};var R_=class i{constructor(){}static getInstance(){return i._instance||(i._instance=new i),i._instance}initSpotCfgData(){if(this.spotDic==null){let e=J.getResByURL("config/spot.json");this.spotDic=new ko(e.data,ln)}}getSpotById(e){return this.initSpotCfgData(),this.spotDic.get(e)}get getSpotDic(){return this.initSpotCfgData(),this.spotDic}},Em=R_.getInstance();var B_=class i{constructor(){}static getInstance(){return i._instance||(i._instance=new i),i._instance}registerCommCallBack(e=null){Laya.LayaEnv.isConch}sendCustumEvent(e,t=null,r=null){let s;if(r?s=r:s=Em.getSpotById(e),!s||!s.Event)return;let o=new Object;o.id=s.ID,o.eventKey=s.Event,o.type=s.type,this.sendWebEvent(o)}sendWebEvent(e){}dispose(){}reload(){Laya.Browser.window.location.reload()}},Qe=B_.getInstance();var Lm=class extends et{constructor(){super()}};var Ts=class extends et{realIcon(){return"https://cdn.bunnyswap.cc/images/items/"+this.icon}get starArr(){if(this._starArr)return this._starArr;if(this._starArr=[],this.max_quality==0)return this._starArr;let t=this.quality/this.max_quality*5;for(let r=1;r<=5;r++)t>=r?this._starArr.push(0):r-t<=.5?this._starArr.push(2):this._starArr.push(1);return this._starArr}};var Tm=class extends et{};var Cm=class extends et{constructor(){super()}};var Am=class extends et{};var Mm=class extends et{constructor(){super()}};var Rm=class extends et{};var Bm=class extends et{};var Dm=class extends et{};var Om=class extends et{constructor(){super(...arguments);this.dT=1e4}async testUrl(){}getUrl(){var t=this.url;let r=new Date().getTime(),s=this,o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(){if(o.status>=200&&o.status<300)try{let u=o.responseText;var l=new Date().getTime()-r;s.dT=l}catch{console.log("Response is not valid JSON")}else console.error(`Error: ${o.status}`)},o.onerror=function(){console.error("Network error")},o.send()}};var Nm=class extends et{};var Fm=class extends et{};var Pm=class extends et{};var Um=class extends et{};var D_=class i{constructor(){this.IsRelease=!1;this.m_bInstantGame=!1;this.useWebVersion=!1;this.m_strVersionEX="V003";this.m_bIsMobWeb=!1;this.m_strWebTag="";this.Js_Version="1";this.Game_Version="20231227_01";this.App_Version="1.0.0";this.SDK_Version="1.0.0";this.M_strCountry="1";this.M_bAppData=!1;this.bookingId=0;this.teamId=0;this.referral="";this.showHeartLog=!1;this.ignoreLang=!1;this.ignoreSheetNo=!1;this.m_bIsIphoneX=!1;this.Debug=0;this.Res=0;this.isTest=!0;this.Server_URL="";this.IP_User="";this.Plantform_APPID="17";this.ServerId=22310001;this.Login_UID="-1";this._LoginType="gamecenter";this.isInto=!1;this.needDraw=!1;this.isFull=!1;this.justFull=!1;this.Login_UDID="81BC19A8-B49B-47CC-BEFE-193E723B521A";this.Device_Info="";this.FCM_Token="";this.APP_IsRelease=!0;this.User_Lan="en";this.UserAgent="";this.Login_UserName="";this.isWhite=!0;this.APP_RES="";this.COOKIE_CF_LAN="COOKIE_GG_LAN";this.COOKIE_CF_LoginType="COOKIE_CF_LoginType";this.IPHONEX_SCARE=1.22;this.IPHONEX_TOP=44;this.IPHONEX_BUTTOM=34;this.DESIGN_WIDTH=1280;this.DESIGN_HEIGHT=720;this._m_iTimeFrame=0}get LoginType(){return i._instance._LoginType}set LoginType(e){i._instance._LoginType=e,i._instance._LoginType&&i._instance._LoginType!=""&&Laya.LocalStorage.setItem(i._instance.COOKIE_CF_LoginType,i._instance._LoginType)}get isWhiteList(){return!0}static getInstance(){return i._instance||(i._instance=new i),i._instance}static get server(){return getServer()}get vType(){return getVType()}get vaddress(){return getVAddress()}get requestTime(){return 0}get loginTime(){return 0}set m_iTimeFrame(e){if(e>1500){let t=function(){i._instance._m_iTimeFrame=0};i._instance._m_iTimeFrame=e,Laya.timer.clear(Laya.timer,t),Laya.timer.once(500,Laya.timer,t)}}get m_iTimeFrame(){return i._instance._m_iTimeFrame}},re=D_.getInstance();var Hm=class extends et{};var zm=class extends et{};var jm=class extends et{};var O_=class i{constructor(){if(i._instance)throw new Error("SheetDataManager,new.");i._instance=this}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){let e=Laya.Browser.now();this.m_dicItems=this.initConfigObject("item",Ts),this.m_dicShops=new Ne,this.m_dicShopMulDic=this.initConfig("shop",["type","icon"],Tm,!0,Laya.Handler.create(this,this.onSetShopItem,null,!1)),this.m_dicSnakes=this.initConfigObject("snake",Pm),this.m_dicFoods=this.initConfigObject("foods",Fm),this.m_dicClub=this.initConfig("club",["id"],jm),this.m_dicArenaDic=new Ne,this.m_dicArenaNumMulDic=new Ne,this.m_dicArenaMulDic=this.initConfig("arena",["type","lv","coinType"],Am,!0,Laya.Handler.create(this,this.onSetArena,null,!1)),this.m_dicArenaTypes=this.initConfig("arenaType",["id"],Nm),this.m_dicSnakeLengthRules=this.initConfig("snakeLengthRules",["snakeId","segments"],Um);var t=this.initConfig("node",["id"],Om);this.m_dicNodes=this.initNodes(t),this.m_dicHead=this.initConfig("head",["id"],Cm),this.m_dicCountry=this.initConfig("country",["id"],Mm),this.m_dicCurrencyAddressMulDic=new Ne,this.m_dicCurrencyAddress=this.initConfig("currencyAddress",["sn"],Rm,!0,Laya.Handler.create(this,this.onSetCurrencyAddress,null,!1)),this.m_dicLanguage=this.initConfig("language",["id"],Es),this.m_dicCoinAddress=this.initConfig("coinAddress",["id"],Dm),this.m_dicLevel=this.initConfigObject("level",Hm),this.m_dicACoin=this.initConfigObject("aCoin",Bm),this.m_dicGenerate=this.initConfigObject("general",Lm),this.m_dicRoom=this.initConfig("room",["id"],zm),console.log("-----------------------sheetdata-time2:"+(Laya.Browser.now()-e))}getCharacterStars(e){e>4&&(e=4);for(let t of this.m_dicCharacterStars.values)if(t.starLv>e)return t;return null}getArenaTypesInSub(){var e=[];for(let t of this.m_dicArenaTypes.values)t.inSub==1&&e.push(t);return e}getArenaTypesInSubByType(e){for(let t of this.m_dicArenaTypes.values)if(t.arenaType==e)return t;return[]}getArenaTypesInSubByItemId(e,t){for(let r of this.m_dicArenaDic.values)if(r.type==e&&r.item[0]==t)return r}onSetShopItem(e){this.m_dicShops.set(e.id,e)}onSetCurrencyAddress(e){var t=e.token.toLowerCase();this.m_dicCurrencyAddressMulDic.set(this.getCompoundKey([e.isSN,t,e.chainId]),e)}onSetArena(e){this.m_dicArenaDic.set(e.id,e),this.m_dicArenaNumMulDic.set(this.getCompoundKey([e.type,e.lv,e.coinType]),e)}preInit(){}getGeneralValueById(e){return this.m_dicGenerate&&this.m_dicGenerate.get(e)?this.m_dicGenerate.get(e).value:0}initNodes(e){var t=new Ne;for(let s=0;s<e.values.length;s++){var r=e.values[s];r.open==1&&(re.vType==2?r.type==2&&(t.set(r.id,r),r.testUrl()):r.type==1&&(t.set(r.id,r),r.testUrl()))}return t}testNodes(){var e=this.m_dicNodes;for(let r=0;r<e.values.length;r++){var t=e.values[r];t.testUrl()}}getNodeByAddr(e){var t=this.m_dicNodes;for(let s=0;s<t.values.length;s++){var r=t.values[s];if(r&&r.socketUrl==e)return r}return null}getCurrencyAddress(e){let r=i._instance.m_dicCurrencyAddress.values;for(let o=0;o<r.length;o++){var s=r[o];if(re.vType==s.isSN&&e==s.id)return s.token}}getNodeRevenueCurrency(e){let r=i._instance.m_dicCurrencyAddress.values;for(let o=0;o<r.length;o++){var s=r[o];if(re.vType==s.isSN&&e==s.id&&s.nodeRevenueAddress)return s}return null}getNodeCurrencyByTokenAndChainId(e,t){e=e.toLowerCase();var r=i._instance.getSheetDataByMultiKey(i._instance.m_dicCurrencyAddressMulDic,[re.vType,e,t]);return r}getRentCurrency(e){let r=i._instance.m_dicCurrencyAddress.values;for(let o=0;o<r.length;o++){var s=r[o];if(re.vType==s.isSN&&e==s.id&&s.rentNftAddress)return s}return null}getCurrencyByChainType(e,t){let s=i._instance.m_dicCurrencyAddress.values;for(let l=0;l<s.length;l++){var o=s[l];if(re.vType==o.isSN&&e==o.id&&t==o.chainType)return o}}getCurrency(e,t){let s=i._instance.m_dicCurrencyAddress.values;for(let l=0;l<s.length;l++){var o=s[l];if(re.vType==o.isSN&&e==o.id&&t==o.chainId)return o}}getTokensByChainId(e,t){let s=i._instance.m_dicCurrencyAddress.values;var o=[];for(let u=0;u<s.length;u++){var l=s[u];t==1?re.vType==l.isSN&&l.openRecharge==1&&e==l.chainId&&o.push(l):t==2&&re.vType==l.isSN&&l.openExtract==1&&e==l.chainId&&o.push(l)}return o}getNetAddress(e){let r=i._instance.m_dicCoinAddress.values;for(let o=0;o<r.length;o++){var s=r[o];if(re.vType==s.type&&e==s.tokenid)return s.tokenAddress}}getACoin(e,t){let s=i._instance.m_dicACoin.values;for(let l=0;l<s.length;l++){var o=s[l];if(e==o.token&&t==o.currency)return o}}static getArrFromDictionary(e,t,r){let s=[];for(let o=0;o<e.values.length;o++)e.values[o][t]+""==r+""&&s.push(e.values[o]);return s}getArrFromDicItemByKey(e,t){let r=[];for(let s=0;s<this.m_dicItems.values.length;s++)this.m_dicItems.values[s][e]+""==t+""&&r.push(this.m_dicItems.values[s]);return r}initConfigObject(e,t=null,r=null){let s="config/"+e+".json";console.log("initConfigObject url: "+s);let o=J.getResByURL(s).data;return new ko(o,t)}initConfig(e,t,r=null,s=!1,o=null){let l="config/"+e+".json";console.log("initConfig url: "+l);let u=J.getResByURL(l).data,p=new Ne;if(!u)return console.log("ERROR : SheetDataManager -->initConfig()  url:"+l),p;let m;for(let d=0;d<u.length;d++){let f=this.compoundKey(u[d],t);r?(m=new r,m.init==null&&console.log("ERROR :BaseItem> SheetDataManager -->initConfig()  url:"+l),m.init(u[d]),p.set(f,m),o&&o.runWith(m)):(p.set(f,u[d]),o&&o.runWith(u[d]))}if(s){let d=J.setResURL(l);Laya.Loader.clearRes(d)}return p}compoundKey(e,t){let r="",s=t.length;if(s>1)for(let o=0;o<s;o++)r+=e[t[o]],o!=s-1&&(r+="_");else r=e[t[0]];return r}getCompoundKey(e){let t="",r=e.length;if(r>1)for(let s=0;s<r;s++)t+=e[s],s!=r-1&&(t+="_");else t=e[0];return t}initConfig2(e,t,r,s=!0){let o="config/"+e+".json",l=J.getResByURL(o).data,u=new Ne;if(!l)return console.log("ERROR : SheetDataManager -->initConfig2()  url:"+o),u;let p;for(let m=0;m<l.length;m++){let d=l[m][t],f;u.get(d)==null?(f=[],u.set(d,f)):f=u.get(d),p=new r,p.init==null&&console.log("ERROR :<BaseItem> SheetDataManager -->initConfig2()  url:"+o),p.init(l[m]),f.push(p)}if(s&&e!="items"){let m=J.setResURL(o);Laya.Loader.clearRes(m)}return u}getItemsBy(e,t){let r=this.getArrFromDicItemByKey("itm_type",e),s=[];for(let o of r)o.child_type.toString()==t.toString()&&s.push(o);return s}getSheetDataByMultiKey(e,t){let r=this.getCompoundKey(t);return e.get(r)}getLevelById(e){for(let t of this.m_dicLevel.values)if(t.id==e)return t}getClubById(e){for(let t of this.m_dicClub.values)if(t.id==e)return t}},q=O_.getInstance();var N_=class i{constructor(){this.mainSceneX=10086;this.isCloseAll=!0;k.on(w.EVENT_MODULE_ADDED,this,this.onAdded)}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){}setup(){}onAdded(e){}getPreSceneData(){if(this.m_arrFromScenes.length<1)return[ge.M_SCENE_MAIN,!0,1,null];{let e=this.m_arrFromScenes.pop();return console.log("pop-----------route"+this.m_arrFromScenes.join(" | ")),e}}removePreSceneData(){this.m_arrFromScenes=[]}setMainScene(e=1,t=null){this.setCurrentScene(ge.M_SCENE_MAIN,t)}async setCurrentScene(e,t=null){if(console.log("setCurrentScene: ",e,t),this.preSceneName=e,this.m_sceneCurrent&&this.m_sceneCurrent.name==e){console.log("currentScene"+this.m_sceneCurrent.name+"  openScene"+e);return}switch(this.isCloseAll?De.intance.closeAll():this.isCloseAll=!0,this.m_sceneCurrent&&(this.m_arrFromScenes||(this.m_arrFromScenes=[]),console.log("open-----------scene"+this.m_arrFromScenes),this.fromScene=this.m_sceneCurrent.name,console.log("fromSceneName: "+this.fromScene)),e){case ge.M_SCENE_MAIN:this.m_arrFromScenes=[],this.m_sceneCurrent=await Laya.Scene.open("scenes/mainView/MainScene.ls");break;case ge.M_SCENE_SHOP:this.m_sceneCurrent=await Laya.Scene.open("scenes/shop/ShopScene.ls",!0,t);break;case ge.M_SCENE_RANK:this.m_sceneCurrent=await Laya.Scene.open("scenes/rank/RankScene.ls");break;case ge.M_SCENE_CLUB:this.m_sceneCurrent=await Laya.Scene.open("scenes/club/ClubScene.ls");break;case ge.M_SCENE_FRIEND:this.m_sceneCurrent=await Laya.Scene.open("scenes/friend/FriendScene.ls");break;case ge.M_SCENE_KNAPSACK:this.m_sceneCurrent=await Laya.Scene.open("scenes/knapsack/KnapsackScene.ls",!0,t);break;case ge.M_SCENE_MAIL:this.m_sceneCurrent=await Laya.Scene.open("scenes/mail/MailScene.ls");break;case ge.M_SCENE_SNAKE_MATCH:this.m_sceneCurrent=await Laya.Scene.open("scenes/match/SnakeMatch.ls");break;case ge.M_SCENE_AI_ARENA:this.m_sceneCurrent=await Laya.Scene.open("scenes/match/AiArenaScene.ls");break;case ge.M_SCENE_ASSET:this.m_sceneCurrent=await Laya.Scene.open("scenes/asset/AssetNewScene.ls",!0,t);break;case ge.M_SCENE_ROLE:this.m_sceneCurrent=await Laya.Scene.open("scenes/createRole/RoleInfoScene.ls",!1,t);break;case ge.M_SCENE_SETTING:this.m_sceneCurrent=await Laya.Scene.open("scenes/gameSetting/SettingScene.ls",!1,t);break;default:break}ae.logs("======================  Scene: "+e+"  ======================"),this.m_sceneCurrent.name=e}get currSceneName(){return this.m_sceneCurrent?this.m_sceneCurrent.name:""}},qe=N_.getInstance();var He=class He{static getColorText(e,t="#FFFF00"){return'<font color="'+t+'">'+e+"</font>"}static getChildByName(e,t,r="name"){if(e&&e.hasOwnProperty(r)&&e[r]==t)return e;let s=e;if(s){let o=s.numChildren,l;for(let u=0;u<o;++u)if(l=s.getChildAt(u),l instanceof Laya.Sprite&&(l=He.getChildByName(l,t,r)),l&&l.hasOwnProperty(r)&&l[r]==t)return l}return null}static getChildByAttri(e,t){if(e&&e.hasOwnProperty(t)&&e[t])return e[t];let r=e;if(r){let s=r.numChildren,o;for(let l=0;l<s;++l)if(o=r.getChildAt(l),o instanceof Laya.Sprite){if(o=He.getChildByAttri(o,t),o)return o}else if(o&&o.hasOwnProperty(t)&&o[t])return o[t]}return null}static logs(e,t=0,r=!0,s=16777215){if(e=He.GetLogTime+" "+e,r)switch(t){case 0:s=16777215;break;case 1:s=16777215;break;case 2:s=16711680;break;case 3:s=16777215;break;case 4:s=13434777;break;case 5:s=16742399;break}}static get GetLogTime(){let e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()}static get GRAY(){return He._GRAY||(He._GRAY=new Laya.ColorFilter([.3,.59,.11,0,0,.3,.59,.11,0,0,.3,.59,.11,0,0,0,0,0,1,0])),He._GRAY}static get GRAY1(){if(!He._GRAY1){let e=[.3086,.16094,.082,0,0,.2086,.26094,.082,0,0,.1086,.36094,.082,0,0,0,0,0,1,0];He._GRAY1=new Laya.ColorFilter(e)}return He._GRAY1}static get GLOW(){return He._GLOW||(He._GLOW=new Laya.GlowFilter("#ffffff",12,0,0)),He._GLOW}static get YELLOWGLOW(){return He._YELLOWGLOW||(He._YELLOWGLOW=new Laya.GlowFilter("#ffff00",10,0,0)),He._YELLOWGLOW}static get BLUR(){if(!He._BLUR){let e=new Laya.BlurFilter;e.strength=5,He._BLUR=[e]}return He._BLUR}static get isParseWWhiteUser(){return He._isParseWWhiteUser}static get isWhiteName(){return re.isWhiteList}static itemListHandler(e,t){let r=e.dataSource,s=r[0],o=r[1],l=2,u=e.skin;u&&(u.indexOf("xinSmall")!=-1?l=1:u.indexOf("xinBig")!=-1&&(l=3));let p;l==1?p="common/common_clip/clip_xinSmall"+o+".png":l==3?p="common/common_clip/clip_xinBig"+o+".png":p="common/common_clip/clip_xinMiddle"+o+".png",e.skin=p,e.dataSource=s}static setStarList(e,t){e.renderHandler=new Laya.Handler(He,He.itemListHandler),e.dataSource=t}static get BLACK(){return He._BLACK||(He._BLACK=new Laya.ColorFilter,He._BLACK.setColor("#000000")),He._BLACK}static get YELLOW(){return He._YELLOW||(He._YELLOW=new Laya.ColorFilter,He._YELLOW.setColor("#ffe64b")),He._YELLOW}static get YELLOW1(){return He._YELLOW1||(He._YELLOW1=new Laya.ColorFilter,He._YELLOW1.setColor("#fee14e")),He._YELLOW1}static get RED1(){return He._RED1||(He._RED1=new Laya.ColorFilter,He._RED1.setColor("#ff4537")),He._RED1}static get BLUE(){return He._BLUE||(He._BLUE=new Laya.ColorFilter,He._BLUE.setColor("#2f72a7")),He._BLUE}static setColor(e="#13e2cf"){let t=new Laya.ColorFilter;return t.setColor(e),t}static heroNotEnought(e=1286){di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(e),Fe.YES,null)}static popTip(e){di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(e),Fe.YES,null)}static onGetHero(e=-1){qe.setCurrentScene(ge.M_SCENE_SHOP,[1,e])}static popToMain(){var e="network error, back to mainscreen";di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(e),Fe.YES,Laya.Handler.create(this,this.setToMainScene))}static setToMainScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}static isFightHero(e){return U.playerDto.fightHeroPk==e||e==U.playerDto.newFightHeroPk}static titickNotEnought(e=-1){var t=2,r=q.getSheetDataByMultiKey(q.m_dicShopMulDic,[t,e]);if(r)di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(1060),Fe.CANCEL,Laya.Handler.create(this,this.onGetTitck,[e]));else{var s=q.m_dicItems.get(e);s?Me.notice(P.getLanguage(42,P.getLanguage(s.name))):Zt.showErrorWord(18)}}static RemError(){di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(35),Fe.YES,null)}static alertYes(e){di.AlertByType(Fe.BASEALERTVIEW,e,Fe.YES,null)}static TransactionErrorTip(){di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(41),Fe.YES,null)}static alertNoAll(e){di.AlertByType(Fe.BASEALERTVIEW,e,Fe.NO_ALL)}static onGetTitck(e=-1){qe.setCurrentScene(ge.M_SCENE_SHOP,[2,e])}static moneyNotEnought(e=Ye.TYPE_TOX){var t=q.m_dicItems.get(e),r=P.getLanguage(t.name);Me.notice(P.getLanguage(36,r))}static onGetMoney(e){qe.setCurrentScene(ge.M_SCENE_ASSET,[1,e])}static openSquidGame(){di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(6056),Fe.CANCEL,Laya.Handler.create(this,this.onOpenSquidGame))}static onOpenSquidGame(){window.location.href="https://squidgamefi.io/?invitationCode=2oi"}static onOpenSwapView(){window.open("https://swap.phantomarena.ai","_blank")}static otherLogin(){di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(32),Fe.YES,Laya.Handler.create(this,Qe.reload))}static netError(){di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(44),Fe.YES,Laya.Handler.create(this,Qe.reload))}static commTipWithYes(e){di.AlertByType(Fe.BASEALERTVIEW,e,Fe.YES)}static shakeSprs(e,t=2,r=4,s=32){if(He.isShake)return;He.isShake=!0;let o=e.length,l=[];for(let d=0;d<o;d++){let f=e[d];l.push([f.x,f.y])}let u=[0,0],p=0,m=function(){u[p%2]=p++%4<2?0:r,p>t*4+1&&(Laya.timer.clear(Laya.stage,m),p=0,He.isShake=!1);for(let d=0;d<o;d++){let f=e[d];f.x=u[0]+l[d][0],f.y=u[1]+l[d][1]}};Laya.timer.loop(s,Laya.stage,m)}static shake(e,t=2,r=4,s=32){if(He.isShake)return;He.isShake=!0;let o=new Laya.Point(e.x,e.y),l=[0,0],u=0,p=function(){l[u%2]=u++%4<2?0:r,u>t*4+1&&(Laya.timer.clear(Laya.stage,p),u=0,He.isShake=!1),e.x=l[0]+o.x,e.y=l[1]+o.y};Laya.timer.loop(s,Laya.stage,p)}static async getNpcNames(e=1){var t=P.getLanTypeById(U.m_strLanguage);t.indexOf("-")!=-1&&(t=t.split("-")[0]);var r=`https://wss-room-sg.queengame.io/get-names?lang=${t}&count=${e}`,s=await St.requestGet(r);return console.log("getNpcNames: ",s),s}};He._isParseWWhiteUser=!1,He.isWWhiteUser=!1,He.isShake=!1;var ae=He;var jt=class{static initConfig(e){this.configDic=new Ne;for(let t of e){let r=t.sstringvalue;t.sadditional==="JSON"&&(r=JSON.parse(r)),this.configDic.set(t.skey2,r),this[t.skey2]=r}}};jt.ADDRESS0="0x0000000000000000000000000000000000000000",jt.TOKEN_ERC20ABI=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"miner",type:"address"}],name:"addMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_delMinter",type:"address"}],name:"delMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"idx",type:"uint256"}],name:"getMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMinterLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],jt.WITHDRAW_AND_RECHARGE_ADDRESS="",jt.WITHDRAW_AND_RECHARGE_ABI="";var Cg=vx(Ix());var Pr=class{static getInviteUrl(){return window.location.origin+"?invite="+this.encode(Ge.walletAddress)}static encode(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=t.length,s=t.split(""),o="",l,u,p,m,d=0;d<e.length;d++)l=e.charCodeAt(d),u=l%r,l=(l-u)/r,p=l%r,l=(l-p)/r,m=l%r,o+=s[m]+s[p]+s[u];return window.btoa(o)}static decode(e){e=window.atob(e);var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=t.length,s,o,l,u,p=0,m;m=new Array(Math.floor(e.length/3)),s=m.length;for(var d=0;d<s;d++)o=t.indexOf(e.charAt(p)),p++,l=t.indexOf(e.charAt(p)),p++,u=t.indexOf(e.charAt(p)),p++,m[d]=o*r*r+l*r+u;return s=decodeCharCode(m.join(",")),s}static getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=window.location.search.substr(1).match(t);return r!=null?r[2]:""}static getInviteWalletAddress(){let e=this.getQueryString("invite");return e&&(e=this.decode(e)),e}static toWei(e,t){let r=e*10**parseInt(t);return window.web3.utils.toBN("0x"+r.toString(16)).toString()}static fromWei(e,t,r=0){if(!e)return 0;let s=e.length-t+r;if(s<=0)return 0;let o=e.toString().slice(0,s);if(r){let l=o.length-r;if(l<=0){let u="0.";for(let p=0;p<Math.abs(l);p++)u+="0";o=u+o}else o=o.slice(0,o.length-r)+"."+o.slice(o.length-r)}return o}static deepClone(e){let t=new Ne;for(let r in e)typeof e[r]=="function"?t[r]=e[r]:t[r]=JSON.parse(JSON.stringify(e[r]));return t}};function ke(i,e,t){let r=i[e.name];if(typeof r=="function")return r;let s=i[t];return typeof s=="function"?s:o=>e(i,o)}Jt();rt();var kh=class extends H{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}};ai();kr();Vc();Hn();As();Bo();var Rv="/docs/contract/encodeEventTopics";function Vr(i){let{abi:e,eventName:t,args:r}=i,s=e[0];if(t){let p=Gr({abi:e,name:t});if(!p)throw new Nc(t,{docsPath:Rv});s=p}if(s.type!=="event")throw new Nc(void 0,{docsPath:Rv});let o=Ci(s),l=Un(o),u=[];if(r&&"inputs"in s){let p=s.inputs?.filter(d=>"indexed"in d&&d.indexed),m=Array.isArray(r)?r:Object.values(r).length>0?p?.map(d=>r[d.name])??[]:[];m.length>0&&(u=p?.map((d,f)=>Array.isArray(m[f])?m[f].map((g,y)=>Bv({param:d,value:m[f][y]})):typeof m[f]<"u"&&m[f]!==null?Bv({param:d,value:m[f]}):null)??[])}return[l,...u]}function Bv({param:i,value:e}){if(i.type==="string"||i.type==="bytes")return Tt(tr(e));if(i.type==="tuple"||i.type.match(/^(.*)\[(\d+)?\]$/))throw new kh(i.type);return Vi([i],[e])}ze();function zn(i,{method:e}){let t={};return i.transport.type==="fallback"&&i.transport.onResponse?.(({method:r,response:s,status:o,transport:l})=>{o==="success"&&e===r&&(t[s]=l.request)}),r=>t[r]||i.request}async function jh(i,e){let{address:t,abi:r,args:s,eventName:o,fromBlock:l,strict:u,toBlock:p}=e,m=zn(i,{method:"eth_newFilter"}),d=o?Vr({abi:r,args:s,eventName:o}):void 0,f=await i.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof l=="bigint"?we(l):l,toBlock:typeof p=="bigint"?we(p):p,topics:d}]});return{abi:r,args:s,eventName:o,id:f,request:m(f),strict:!!u,type:"event"}}ti();rr();Jt();rt();Gn();Us();Yc();var tL=3;function Wi(i,{abi:e,address:t,args:r,docsPath:s,functionName:o,sender:l}){let u=i instanceof Kr?i:i instanceof H?i.walk(x=>"data"in x)||i.walk():{},{code:p,data:m,details:d,message:f,shortMessage:g}=u,y=(()=>i instanceof er?new ad({functionName:o}):[tL,dn.code].includes(p)&&(m||d||f||g)?new Ps({abi:e,data:typeof m=="object"?m.data:m,functionName:o,message:u instanceof Vn?d:g??f}):i)();return new od(y,{abi:e,args:r,contractAddress:t,docsPath:s,functionName:o,sender:l})}ti();rt();Bs();kr();function Qv(i){let e=Tt(`0x${i.substring(4)}`).substring(26);return mn(`0x${e}`)}br();gi();ze();async function BI({hash:i,signature:e}){let t=Gt(i)?i:Re(i),{secp256k1:r}=await Promise.resolve().then(()=>(wd(),MI));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){let{r:m,s:d,v:f,yParity:g}=e,y=Number(g??f),x=RI(y);return new r.Signature(Rt(m),Rt(d)).addRecoveryBit(x)}let l=Gt(e)?e:Re(e),u=Yt(`0x${l.slice(130)}`),p=RI(u);return r.Signature.fromCompact(l.substring(2,130)).addRecoveryBit(p)})().recoverPublicKey(t.substring(2)).toHex(!1)}`}function RI(i){if(i===0||i===1)return i;if(i===27)return 0;if(i===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ed({hash:i,signature:e}){return Qv(await BI({hash:i,signature:e}))}ir();ai();ze();rt();Kh();ai();ze();function Tr(i,e="hex"){let t=DI(i),r=Oo(new Uint8Array(t.length));return t.encode(r),e==="hex"?ut(r.bytes):r.bytes}function DI(i){return Array.isArray(i)?jL(i.map(e=>DI(e))):GL(i)}function jL(i){let e=i.reduce((s,o)=>s+o.length,0),t=OI(e);return{length:(()=>e<=55?1+e:1+t+e)(),encode(s){e<=55?s.pushByte(192+e):(s.pushByte(192+55+t),t===1?s.pushUint8(e):t===2?s.pushUint16(e):t===3?s.pushUint24(e):s.pushUint32(e));for(let{encode:o}of i)o(s)}}}function GL(i){let e=typeof i=="string"?ei(i):i,t=OI(e.length);return{length:(()=>e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+t+e.length)(),encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(128+55+t),t===1?s.pushUint8(e.length):t===2?s.pushUint16(e.length):t===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function OI(i){if(i<2**8)return 1;if(i<2**16)return 2;if(i<2**24)return 3;if(i<2**32)return 4;throw new H("Length is too large.")}kr();function NI(i){let{chainId:e,nonce:t,to:r}=i,s=i.contractAddress??i.address,o=Tt(bi(["0x05",Tr([e?we(e):"0x",s,t?we(t):"0x"])]));return r==="bytes"?ei(o):o}async function Ld(i){let{authorization:e,signature:t}=i;return Ed({hash:NI(e),signature:t??e})}ze();Qh();Po();rt();wr();var Td=class extends H{constructor(e,{account:t,docsPath:r,chain:s,data:o,gas:l,gasPrice:u,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:d,to:f,value:g}){let y=Ns({from:t?.address,to:f,value:typeof g<"u"&&`${Fo(g)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:typeof u<"u"&&`${ii(u)} gwei`,maxFeePerGas:typeof p<"u"&&`${ii(p)} gwei`,maxPriorityFeePerGas:typeof m<"u"&&`${ii(m)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",y].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}};es();ru();function FI(i,{docsPath:e,...t}){let r=(()=>{let s=ts(i,t);return s instanceof ar?i:s})();return new Td(r,{docsPath:e,...t})}nu();Ys();Ad();rs();ti();Po();rt();var Md=class extends H{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},ns=class extends H{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},Rd=class extends H{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ii(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}};gi();rt();var ha=class extends H{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}};ze();Cd();gi();Cd();var F0={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Qs(i){let e={...i,blockHash:i.blockHash?i.blockHash:null,blockNumber:i.blockNumber?BigInt(i.blockNumber):null,chainId:i.chainId?Yt(i.chainId):void 0,gas:i.gas?BigInt(i.gas):void 0,gasPrice:i.gasPrice?BigInt(i.gasPrice):void 0,maxFeePerBlobGas:i.maxFeePerBlobGas?BigInt(i.maxFeePerBlobGas):void 0,maxFeePerGas:i.maxFeePerGas?BigInt(i.maxFeePerGas):void 0,maxPriorityFeePerGas:i.maxPriorityFeePerGas?BigInt(i.maxPriorityFeePerGas):void 0,nonce:i.nonce?Yt(i.nonce):void 0,to:i.to?i.to:null,transactionIndex:i.transactionIndex?Number(i.transactionIndex):null,type:i.type?F0[i.type]:void 0,typeHex:i.type?i.type:void 0,value:i.value?BigInt(i.value):void 0,v:i.v?BigInt(i.v):void 0};return i.authorizationList&&(e.authorizationList=$L(i.authorizationList)),e.yParity=(()=>{if(i.yParity)return Number(i.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}var UI=ua("transaction",Qs);function $L(i){return i.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function su(i){let e=(i.transactions??[]).map(t=>typeof t=="string"?t:Qs(t));return{...i,baseFeePerGas:i.baseFeePerGas?BigInt(i.baseFeePerGas):null,blobGasUsed:i.blobGasUsed?BigInt(i.blobGasUsed):void 0,difficulty:i.difficulty?BigInt(i.difficulty):void 0,excessBlobGas:i.excessBlobGas?BigInt(i.excessBlobGas):void 0,gasLimit:i.gasLimit?BigInt(i.gasLimit):void 0,gasUsed:i.gasUsed?BigInt(i.gasUsed):void 0,hash:i.hash?i.hash:null,logsBloom:i.logsBloom?i.logsBloom:null,nonce:i.nonce?i.nonce:null,number:i.number?BigInt(i.number):null,size:i.size?BigInt(i.size):void 0,timestamp:i.timestamp?BigInt(i.timestamp):void 0,transactions:e,totalDifficulty:i.totalDifficulty?BigInt(i.totalDifficulty):null}}var HI=ua("block",su);async function xi(i,{blockHash:e,blockNumber:t,blockTag:r,includeTransactions:s}={}){let o=r??"latest",l=s??!1,u=t!==void 0?we(t):void 0,p=null;if(e?p=await i.request({method:"eth_getBlockByHash",params:[e,l]},{dedupe:!0}):p=await i.request({method:"eth_getBlockByNumber",params:[u||o,l]},{dedupe:!!u}),!p)throw new ha({blockHash:e,blockNumber:t});return(i.chain?.formatters?.block?.format||su)(p)}async function da(i){let e=await i.request({method:"eth_gasPrice"});return BigInt(e)}async function zI(i,e){return P0(i,e)}async function P0(i,e){let{block:t,chain:r=i.chain,request:s}=e||{};try{let o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){let u=t||await ke(i,xi,"getBlock")({}),p=await o({block:u,client:i,request:s});if(p===null)throw new Error;return p}if(typeof o<"u")return o;let l=await i.request({method:"eth_maxPriorityFeePerGas"});return Rt(l)}catch{let[o,l]=await Promise.all([t?Promise.resolve(t):ke(i,xi,"getBlock")({}),ke(i,da,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new ns;let u=l-o.baseFeePerGas;return u<0n?0n:u}}async function jI(i,e){return Bd(i,e)}async function Bd(i,e){let{block:t,chain:r=i.chain,request:s,type:o="eip1559"}=e||{},l=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:t,client:i,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(l<1)throw new Md;let p=10**(l.toString().split(".")[1]?.length??0),m=g=>g*BigInt(Math.ceil(l*p))/BigInt(p),d=t||await ke(i,xi,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){let g=await r.fees.estimateFeesPerGas({block:t,client:i,multiply:m,request:s,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new ns;let g=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await P0(i,{block:d,chain:r,request:s}),y=m(d.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??y+g,maxPriorityFeePerGas:g}}return{gasPrice:s?.gasPrice??m(await ke(i,da,"getGasPrice")({}))}}gi();ze();async function fa(i,{address:e,blockTag:t="latest",blockNumber:r}){let s=await i.request({method:"eth_getTransactionCount",params:[e,r?we(r):t]},{dedupe:!!r});return Yt(s)}ai();ze();function ga(i){let{kzg:e}=i,t=i.to??(typeof i.blobs[0]=="string"?"hex":"bytes"),r=typeof i.blobs[0]=="string"?i.blobs.map(o=>ei(o)):i.blobs,s=[];for(let o of r)s.push(Uint8Array.from(e.blobToKzgCommitment(o)));return t==="bytes"?s:s.map(o=>ut(o))}ai();ze();function ba(i){let{kzg:e}=i,t=i.to??(typeof i.blobs[0]=="string"?"hex":"bytes"),r=typeof i.blobs[0]=="string"?i.blobs.map(l=>ei(l)):i.blobs,s=typeof i.commitments[0]=="string"?i.commitments.map(l=>ei(l)):i.commitments,o=[];for(let l=0;l<r.length;l++){let u=r[l],p=s[l];o.push(Uint8Array.from(e.computeBlobKzgProof(u,p)))}return t==="bytes"?o:o.map(l=>ut(l))}ze();h0();br();ai();ze();function GI(i,e){let t=e||"hex",r=js(Gt(i,{strict:!1})?tr(i):i);return t==="bytes"?r:Re(r)}function VI(i){let{commitment:e,version:t=1}=i,r=i.to??(typeof e=="string"?"hex":"bytes"),s=GI(e,"bytes");return s.set([t],0),r==="bytes"?s:ut(s)}function Dd(i){let{commitments:e,version:t}=i,r=i.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(let o of e)s.push(VI({commitment:o,to:r,version:t}));return s}rt();var Od=class extends H{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}},ya=class extends H{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}},Nd=class extends H{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}},Fd=class extends H{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${1}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}};Kh();yr();ai();ze();function WI(i){let e=i.to??(typeof i.data=="string"?"hex":"bytes"),t=typeof i.data=="string"?ei(i.data):i.data,r=dt(t);if(!r)throw new ya;if(r>761855)throw new Od({maxSize:761855,size:r});let s=[],o=!0,l=0;for(;o;){let u=Oo(new Uint8Array(131072)),p=0;for(;p<4096;){let m=t.slice(l,l+(32-1));if(u.pushByte(0),u.pushBytes(m),m.length<31){u.pushByte(128),o=!1;break}p++,l+=31}s.push(u)}return e==="bytes"?s.map(u=>u.bytes):s.map(u=>ut(u.bytes))}function Pd(i){let{data:e,kzg:t,to:r}=i,s=i.blobs??WI({data:e,to:r}),o=i.commitments??ga({blobs:s,kzg:t,to:r}),l=i.proofs??ba({blobs:s,commitments:o,kzg:t,to:r}),u=[];for(let p=0;p<s.length;p++)u.push({blob:s[p],commitment:o[p],proof:l[p]});return u}rs();wr();function Ud(i){if(i.type)return i.type;if(typeof i.authorizationList<"u")return"eip7702";if(typeof i.blobs<"u"||typeof i.blobVersionedHashes<"u"||typeof i.maxFeePerBlobGas<"u"||typeof i.sidecars<"u")return"eip4844";if(typeof i.maxFeePerGas<"u"||typeof i.maxPriorityFeePerGas<"u")return"eip1559";if(typeof i.gasPrice<"u")return typeof i.accessList<"u"?"eip2930":"legacy";throw new td({transaction:i})}gi();async function cr(i){let e=await i.request({method:"eth_chainId"},{dedupe:!0});return Yt(e)}var U0=["blobVersionedHashes","chainId","fees","gas","nonce","type"],KI=new Map;async function ss(i,e){let{account:t=i.account,blobs:r,chain:s,gas:o,kzg:l,nonce:u,nonceManager:p,parameters:m=U0,type:d}=e,f=t&&at(t),g={...e,...f?{from:f?.address}:{}},y;async function x(){return y||(y=await ke(i,xi,"getBlock")({blockTag:"latest"}),y)}let E;async function _(){return E||(s?s.id:typeof e.chainId<"u"?e.chainId:(E=await ke(i,cr,"getChainId")({}),E))}if(m.includes("nonce")&&typeof u>"u"&&f)if(p){let S=await _();g.nonce=await p.consume({address:f.address,chainId:S,client:i})}else g.nonce=await ke(i,fa,"getTransactionCount")({address:f.address,blockTag:"pending"});if((m.includes("blobVersionedHashes")||m.includes("sidecars"))&&r&&l){let S=ga({blobs:r,kzg:l});if(m.includes("blobVersionedHashes")){let M=Dd({commitments:S,to:"hex"});g.blobVersionedHashes=M}if(m.includes("sidecars")){let M=ba({blobs:r,commitments:S,kzg:l}),O=Pd({blobs:r,commitments:S,proofs:M,to:"hex"});g.sidecars=O}}if(m.includes("chainId")&&(g.chainId=await _()),(m.includes("fees")||m.includes("type"))&&typeof d>"u")try{g.type=Ud(g)}catch{let S=KI.get(i.uid);typeof S>"u"&&(S=typeof(await x())?.baseFeePerGas=="bigint",KI.set(i.uid,S)),g.type=S?"eip1559":"legacy"}if(m.includes("fees"))if(g.type!=="legacy"&&g.type!=="eip2930"){if(typeof g.maxFeePerGas>"u"||typeof g.maxPriorityFeePerGas>"u"){let S=await x(),{maxFeePerGas:M,maxPriorityFeePerGas:O}=await Bd(i,{block:S,chain:s,request:g});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<O)throw new Rd({maxPriorityFeePerGas:O});g.maxPriorityFeePerGas=O,g.maxFeePerGas=M}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new ns;if(typeof e.gasPrice>"u"){let S=await x(),{gasPrice:M}=await Bd(i,{block:S,chain:s,request:g,type:"legacy"});g.gasPrice=M}}return m.includes("gas")&&typeof o>"u"&&(g.gas=await ke(i,_a,"estimateGas")({...g,account:f&&{address:f.address,type:"json-rpc"}})),Fi(g),delete g.parameters,g}ze();async function Hd(i,{address:e,blockNumber:t,blockTag:r="latest"}){let s=t?we(t):void 0,o=await i.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(o)}async function _a(i,e){let{account:t=i.account}=e,r=t?at(t):void 0;try{let oe=function(he){let{block:Ae,request:Le,rpcStateOverride:R}=he;return i.request({method:"eth_estimateGas",params:R?[Le,Ae??"latest",R]:Ae?[Le,Ae]:[Le]})};var s=oe;let{accessList:o,authorizationList:l,blobs:u,blobVersionedHashes:p,blockNumber:m,blockTag:d,data:f,gas:g,gasPrice:y,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:S,value:M,stateOverride:O,...j}=await ss(i,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),V=(m?we(m):void 0)||d,K=pa(O),W=await(async()=>{if(j.to)return j.to;if(l&&l.length>0)return await Ld({authorization:l[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`")})})();Fi(e);let ne=i.chain?.formatters?.transactionRequest?.format,ce=(ne||lr)({...is(j,{format:ne}),from:r?.address,accessList:o,authorizationList:l,blobs:u,blobVersionedHashes:p,data:f,gas:g,gasPrice:y,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:S,to:W,value:M}),Je=BigInt(await oe({block:V,request:ce,rpcStateOverride:K}));if(l){let he=await Hd(i,{address:ce.from}),Ae=await Promise.all(l.map(async Le=>{let{address:R}=Le,$e=await oe({block:V,request:{authorizationList:void 0,data:f,from:r?.address,to:R,value:we(he)},rpcStateOverride:K}).catch(()=>100000n);return 2n*BigInt($e)}));Je+=Ae.reduce((Le,R)=>Le+R,0n)}return Je}catch(o){throw FI(o,{...e,account:r,chain:i.chain})}}async function $I(i,e){let{abi:t,address:r,args:s,functionName:o,dataSuffix:l,...u}=e,p=Bt({abi:t,args:s,functionName:o});try{return await ke(i,_a,"estimateGas")({data:`${p}${l?l.replace("0x",""):""}`,to:r,...u})}catch(m){let d=u.account?at(u.account):void 0;throw Wi(m,{abi:t,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d?.address})}}Bo();Jt();xa();ai();kr();Vc();Jt();yr();Vc();o0();$h();As();var qI="/docs/contract/decodeEventLog";function va(i){let{abi:e,data:t,strict:r,topics:s}=i,o=r??!0,[l,...u]=s;if(!l)throw new gh({docsPath:qI});let p=(()=>e.length===1?e[0]:e.find(E=>E.type==="event"&&l===Un(Ci(E))))();if(!(p&&"name"in p)||p.type!=="event")throw new Co(l,{docsPath:qI});let{name:m,inputs:d}=p,f=d?.some(E=>!("name"in E&&E.name)),g=f?[]:{},y=d.filter(E=>"indexed"in E&&E.indexed);for(let E=0;E<y.length;E++){let _=y[E],S=u[E];if(!S)throw new Hr({abiItem:p,param:_});g[f?E:_.name||E]=QL({param:_,value:S})}let x=d.filter(E=>!("indexed"in E&&E.indexed));if(x.length>0){if(t&&t!=="0x")try{let E=Os(x,t);if(E)if(f)g=[...g,...E];else for(let _=0;_<x.length;_++)g[x[_].name]=E[_]}catch(E){if(o)throw E instanceof Lo||E instanceof Do?new _r({abiItem:p,data:t,params:x,size:dt(t)}):E}else if(o)throw new _r({abiItem:p,data:"0x",params:x,size:0})}return{eventName:m,args:Object.values(g).length>0?g:void 0}}function QL({param:i,value:e}){return i.type==="string"||i.type==="bytes"||i.type==="tuple"||i.type.match(/^(.*)\[(\d+)?\]$/)?e:(Os([i],e)||[])[0]}function Ia(i){let{abi:e,args:t,logs:r,strict:s=!0}=i,o=(()=>{if(i.eventName)return Array.isArray(i.eventName)?i.eventName:[i.eventName]})();return r.map(l=>{try{let u=e.find(m=>m.type==="event"&&l.topics[0]===Un(m));if(!u)return null;let p=va({...l,abi:[u],strict:s});return o&&!o.includes(p.eventName)||!XL({args:p.args,inputs:u.inputs,matchArgs:t})?null:{...p,...l}}catch(u){let p,m;if(u instanceof Co)return null;if(u instanceof _r||u instanceof Hr){if(s)return null;p=u.abiItem.name,m=u.abiItem.inputs?.some(d=>!("name"in d&&d.name))}return{...l,args:m?[]:{},eventName:p}}}).filter(Boolean)}function XL(i){let{args:e,inputs:t,matchArgs:r}=i;if(!r)return!0;if(!e)return!1;function s(o,l,u){try{return o.type==="address"?Xr(l,u):o.type==="string"||o.type==="bytes"?Tt(tr(l))===u:l===u}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((o,l)=>{if(o==null)return!0;let u=t[l];return u?(Array.isArray(o)?o:[o]).some(m=>s(u,m,e[l])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,l])=>{if(l==null)return!0;let u=t.find(m=>m.name===o);return u?(Array.isArray(l)?l:[l]).some(m=>s(u,m,e[o])):!1}):!1}ze();function vi(i,{args:e,eventName:t}={}){return{...i,blockHash:i.blockHash?i.blockHash:null,blockNumber:i.blockNumber?BigInt(i.blockNumber):null,logIndex:i.logIndex?Number(i.logIndex):null,transactionHash:i.transactionHash?i.transactionHash:null,transactionIndex:i.transactionIndex?Number(i.transactionIndex):null,...t?{args:e,eventName:t}:{}}}async function ka(i,{address:e,blockHash:t,fromBlock:r,toBlock:s,event:o,events:l,args:u,strict:p}={}){let m=p??!1,d=l??(o?[o]:void 0),f=[];d&&(f=[d.flatMap(E=>Vr({abi:[E],eventName:E.name,args:l?void 0:u}))],o&&(f=f[0]));let g;t?g=await i.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:t}]}):g=await i.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof r=="bigint"?we(r):r,toBlock:typeof s=="bigint"?we(s):s}]});let y=g.map(x=>vi(x));return d?Ia({abi:d,args:u,logs:y,strict:m}):y}async function zd(i,e){let{abi:t,address:r,args:s,blockHash:o,eventName:l,fromBlock:u,toBlock:p,strict:m}=e,d=l?Gr({abi:t,name:l}):void 0,f=d?void 0:t.filter(g=>g.type==="event");return ke(i,ka,"getLogs")({address:r,args:s,blockHash:o,event:d,events:f,fromBlock:u,toBlock:p,strict:m})}os();rr();Sa();async function ui(i,e){let{abi:t,address:r,args:s,functionName:o,...l}=e,u=Bt({abi:t,args:s,functionName:o});try{let{data:p}=await ke(i,Zr,"call")({...l,data:u,to:r});return Pi({abi:t,args:s,functionName:o,data:p||"0x"})}catch(p){throw Wi(p,{abi:t,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}ti();os();rr();Sa();async function ok(i,e){let{abi:t,address:r,args:s,dataSuffix:o,functionName:l,...u}=e,p=u.account?at(u.account):i.account,m=Bt({abi:t,args:s,functionName:l});try{let{data:d}=await ke(i,Zr,"call")({batch:!1,data:`${m}${o?o.replace("0x",""):""}`,to:r,...u,account:p}),f=Pi({abi:t,args:s,functionName:l,data:d||"0x"}),g=t.filter(y=>"name"in y&&y.name===e.functionName);return{result:f,request:{abi:g,address:r,args:s,dataSuffix:o,functionName:l,...u,account:p}}}catch(d){throw Wi(d,{abi:t,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:l,sender:p?.address})}}Jt();Yc();var Y0=new Map,ak=new Map,sT=0;function Ui(i,e,t){let r=++sT,s=()=>Y0.get(i)||[],o=()=>{let d=s();Y0.set(i,d.filter(f=>f.id!==r))},l=()=>{let d=s();if(!d.some(g=>g.id===r))return;let f=ak.get(i);d.length===1&&f&&f(),o()},u=s();if(Y0.set(i,[...u,{id:r,fns:e}]),u&&u.length>0)return l;let p={};for(let d in e)p[d]=(...f)=>{let g=s();if(g.length!==0)for(let y of g)y.fns[d]?.(...f)};let m=t(p);return typeof m=="function"&&ak.set(i,m),l}async function cu(i){return new Promise(e=>setTimeout(e,i))}function Jr(i,{emitOnBegin:e,initialWaitTime:t,interval:r}){let s=!0,o=()=>s=!1;return(async()=>{let u;e&&(u=await i({unpoll:o}));let p=await t?.(u)??r;await cu(p);let m=async()=>{s&&(await i({unpoll:o}),await cu(r),m())};m()})(),o}Mi();var oT=new Map,aT=new Map;function lk(i){let e=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:l=>o.set(s,l)}),t=e(i,oT),r=e(i,aT);return{clear:()=>{t.clear(),r.clear()},promise:t,response:r}}async function ck(i,{cacheKey:e,cacheTime:t=Number.POSITIVE_INFINITY}){let r=lk(e),s=r.response.get();if(s&&t>0&&new Date().getTime()-s.created.getTime()<t)return s.data;let o=r.promise.get();o||(o=i(),r.promise.set(o));try{let l=await o;return r.response.set({created:new Date,data:l}),l}finally{r.promise.clear()}}var lT=i=>`blockNumber.${i}`;async function en(i,{cacheTime:e=i.cacheTime}={}){let t=await ck(()=>i.request({method:"eth_blockNumber"}),{cacheKey:lT(i.uid),cacheTime:e});return BigInt(t)}async function as(i,{filter:e}){let t="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;let s=r.map(o=>vi(o));return!("abi"in e)||!e.abi?s:Ia({abi:e.abi,logs:s,strict:t})}async function ls(i,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function uk(i,e){let{abi:t,address:r,args:s,batch:o=!0,eventName:l,fromBlock:u,onError:p,onLogs:m,poll:d,pollingInterval:f=i.pollingInterval,strict:g}=e;return(()=>typeof d<"u"?d:typeof u=="bigint"?!0:!(i.transport.type==="webSocket"||i.transport.type==="fallback"&&i.transport.transports[0].config.type==="webSocket"))()?(()=>{let _=g??!1,S=pt(["watchContractEvent",r,s,o,i.uid,l,f,_,u]);return Ui(S,{onLogs:m,onError:p},M=>{let O;u!==void 0&&(O=u-1n);let j,Q=!1,V=Jr(async()=>{if(!Q){try{j=await ke(i,jh,"createContractEventFilter")({abi:t,address:r,args:s,eventName:l,strict:_,fromBlock:u})}catch{}Q=!0;return}try{let K;if(j)K=await ke(i,as,"getFilterChanges")({filter:j});else{let W=await ke(i,en,"getBlockNumber")({});O&&O<W?K=await ke(i,zd,"getContractEvents")({abi:t,address:r,args:s,eventName:l,fromBlock:O+1n,toBlock:W,strict:_}):K=[],O=W}if(K.length===0)return;if(o)M.onLogs(K);else for(let W of K)M.onLogs([W])}catch(K){j&&K instanceof $r&&(Q=!1),M.onError?.(K)}},{emitOnBegin:!0,interval:f});return async()=>{j&&await ke(i,ls,"uninstallFilter")({filter:j}),V()}})})():(()=>{let _=g??!1,S=pt(["watchContractEvent",r,s,o,i.uid,l,f,_]),M=!0,O=()=>M=!1;return Ui(S,{onLogs:m,onError:p},j=>((async()=>{try{let Q=(()=>{if(i.transport.type==="fallback"){let W=i.transport.transports.find(ne=>ne.config.type==="webSocket");return W?W.value:i.transport}return i.transport})(),V=l?Vr({abi:t,eventName:l,args:s}):[],{unsubscribe:K}=await Q.subscribe({params:["logs",{address:r,topics:V}],onData(W){if(!M)return;let ne=W.result;try{let{eventName:se,args:ce}=va({abi:t,data:ne.data,topics:ne.topics,strict:g}),oe=vi(ne,{args:ce,eventName:se});j.onLogs([oe])}catch(se){let ce,oe;if(se instanceof _r||se instanceof Hr){if(g)return;ce=se.abiItem.name,oe=se.abiItem.inputs?.some(he=>!("name"in he&&he.name))}let Je=vi(ne,{args:oe?[]:{},eventName:ce});j.onLogs([Je])}},onError(W){j.onError?.(W)}});O=K,M||O()}catch(Q){p?.(Q)}})(),()=>O()))})()}ti();rt();var Ii=class extends H{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}},cs=class extends H{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}};rr();ti();rt();lu();function ef({chain:i,currentChainId:e}){if(!i)throw new Kd;if(e!==i.id)throw new Wd({chain:i,currentChainId:e})}es();wr();ru();function pk(i,{docsPath:e,...t}){let r=(()=>{let s=ts(i,t);return s instanceof ar?i:s})();return new rd(r,{docsPath:e,...t})}nu();Ys();Wc();rs();async function wa(i,{serializedTransaction:e}){return i.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}var Q0=new jr(128);async function Ea(i,e){let{account:t=i.account,chain:r=i.chain,accessList:s,authorizationList:o,blobs:l,data:u,gas:p,gasPrice:m,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:y,value:x,...E}=e;if(typeof t>"u")throw new Ii({docsPath:"/docs/actions/wallet/sendTransaction"});let _=t?at(t):null;try{Fi(e);let S=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await Ld({authorization:o[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`.")})})();if(_?.type==="json-rpc"||_===null){let M;r!==null&&(M=await ke(i,cr,"getChainId")({}),ef({currentChainId:M,chain:r}));let O=i.chain?.formatters?.transactionRequest?.format,Q=(O||lr)({...is(E,{format:O}),accessList:s,authorizationList:o,blobs:l,chainId:M,data:u,from:_?.address,gas:p,gasPrice:m,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:y,to:S,value:x}),V=Q0.get(i.uid),K=V?"wallet_sendTransaction":"eth_sendTransaction";try{return await i.request({method:K,params:[Q]},{retryCount:0})}catch(W){if(V===!1)throw W;let ne=W;if(ne.name==="InvalidInputRpcError"||ne.name==="InvalidParamsRpcError"||ne.name==="MethodNotFoundRpcError"||ne.name==="MethodNotSupportedRpcError")return await i.request({method:"wallet_sendTransaction",params:[Q]},{retryCount:0}).then(se=>(Q0.set(i.uid,!0),se)).catch(se=>{let ce=se;throw ce.name==="MethodNotFoundRpcError"||ce.name==="MethodNotSupportedRpcError"?(Q0.set(i.uid,!1),ne):ce});throw ne}}if(_?.type==="local"){let M=await ke(i,ss,"prepareTransactionRequest")({account:_,accessList:s,authorizationList:o,blobs:l,chain:r,data:u,gas:p,gasPrice:m,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:y,nonceManager:_.nonceManager,parameters:[...U0,"sidecars"],value:x,...E,to:S}),O=r?.serializers?.transaction,j=await _.signTransaction(M,{serializer:O});return await ke(i,wa,"sendRawTransaction")({serializedTransaction:j})}throw _?.type==="smart"?new cs({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new cs({docsPath:"/docs/actions/wallet/sendTransaction",type:_?.type})}catch(S){throw S instanceof cs?S:pk(S,{...e,account:_,chain:e.chain||void 0})}}async function mk(i,e){let{abi:t,account:r=i.account,address:s,args:o,dataSuffix:l,functionName:u,...p}=e;if(typeof r>"u")throw new Ii({docsPath:"/docs/contract/writeContract"});let m=r?at(r):null,d=Bt({abi:t,args:o,functionName:u});try{return await ke(i,Ea,"sendTransaction")({data:`${d}${l?l.replace("0x",""):""}`,to:s,account:m,...p})}catch(f){throw Wi(f,{abi:t,address:s,args:o,docsPath:"/docs/contract/writeContract",functionName:u,sender:m?.address})}}rt();var tf=class extends H{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}};async function hk(i,e){let{address:t,factory:r,factoryData:s}=e;try{let[o,l,u,p,m,d,f]=await ke(i,ui,"readContract")({abi:cT,address:t,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:l,version:u,chainId:Number(p),verifyingContract:m,salt:d},extensions:f,fields:o}}catch(o){let l=o;throw l.name==="ContractFunctionExecutionError"&&l.cause.name==="ContractFunctionZeroDataError"?new tf({address:t}):l}}var cT=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];ze();async function dk(i,{chain:e}){let{id:t,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:l}=e;await i.request({method:"wallet_addEthereumChain",params:[{chainId:we(t),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:l?Object.values(l).map(({url:u})=>u):void 0}]},{dedupe:!0,retryCount:0})}ti();var rf=256,nf;function sf(i=11){if(!nf||rf+i>256*2){nf="",rf=0;for(let e=0;e<256;e++)nf+=(256+Math.random()*256|0).toString(16).substring(1)}return nf.substring(rf,rf+++i)}function of(i){let{batch:e,cacheTime:t=i.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:l=4e3,type:u="base"}=i,p=i.chain,m=i.account?at(i.account):void 0,{config:d,request:f,value:g}=i.transport({chain:p,pollingInterval:l}),y={...d,...g},x={account:m,batch:e,cacheTime:t,ccipRead:r,chain:p,key:s,name:o,pollingInterval:l,request:f,transport:y,type:u,uid:sf()};function E(_){return S=>{let M=S(_);for(let j in x)delete M[j];let O={..._,...M};return Object.assign(O,{extend:E(O)})}}return Object.assign(x,{extend:E(x)})}rt();Us();Yc();ze();Wc();var af=new jr(8192);function fk(i,{enabled:e=!0,id:t}){if(!e||!t)return i();if(af.get(t))return af.get(t);let r=i().finally(()=>af.delete(t));return af.set(t,r),r}function uu(i,{delay:e=100,retryCount:t=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{let l=async({count:u=0}={})=>{let p=async({error:m})=>{let d=typeof e=="function"?e({count:u,error:m}):e;d&&await cu(d),l({count:u+1})};try{let m=await i();s(m)}catch(m){if(u<t&&await r({count:u,error:m}))return p({error:m});o(m)}};l()})}Mi();function gk(i,e={}){return async(t,r={})=>{let{dedupe:s=!1,methods:o,retryDelay:l=150,retryCount:u=3,uid:p}={...e,...r},{method:m}=t;if(o?.exclude?.includes(m))throw new Kn(new Error("method not supported"),{method:m});if(o?.include&&!o.include.includes(m))throw new Kn(new Error("method not supported"),{method:m});let d=s?xr(`${p}.${pt(t)}`):void 0;return fk(()=>uu(async()=>{try{return await i(t)}catch(f){let g=f;switch(g.code){case jo.code:throw new jo(g);case Go.code:throw new Go(g);case Vo.code:throw new Vo(g,{method:t.method});case Wo.code:throw new Wo(g);case dn.code:throw new dn(g);case $r.code:throw new $r(g);case Ko.code:throw new Ko(g);case $o.code:throw new $o(g);case qo.code:throw new qo(g);case Kn.code:throw new Kn(g,{method:t.method});case Hs.code:throw new Hs(g);case Yo.code:throw new Yo(g);case zs.code:throw new zs(g);case Qo.code:throw new Qo(g);case Xo.code:throw new Xo(g);case Zo.code:throw new Zo(g);case Jo.code:throw new Jo(g);case ea.code:throw new ea(g);case 5e3:throw new zs(g);default:throw f instanceof H?f:new cd(g)}}},{delay:({count:f,error:g})=>{if(g&&g instanceof nr){let y=g?.headers?.get("Retry-After");if(y?.match(/\d/))return Number.parseInt(y)*1e3}return~~(1<<f)*l},retryCount:u,shouldRetry:({error:f})=>uT(f)}),{enabled:s,id:d})}}function uT(i){return"code"in i&&typeof i.code=="number"?i.code===-1||i.code===Hs.code||i.code===dn.code:i instanceof nr&&i.status?i.status===403||i.status===408||i.status===413||i.status===429||i.status===500||i.status===502||i.status===503||i.status===504:!0}function lf({key:i,methods:e,name:t,request:r,retryCount:s=3,retryDelay:o=150,timeout:l,type:u},p){let m=sf();return{config:{key:i,methods:e,name:t,request:r,retryCount:s,retryDelay:o,timeout:l,type:u},request:gk(r,{methods:e,retryCount:s,retryDelay:o,uid:m}),value:p}}function La(i,e={}){let{key:t="custom",methods:r,name:s="Custom Provider",retryDelay:o}=e;return({retryCount:l})=>lf({key:t,methods:r,name:s,request:i.request.bind(i),retryCount:e.retryCount??l,retryDelay:o,type:"custom"})}Us();rt();var cf=class extends H{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}};q0();Us();function bk(i,{errorInstance:e=new Error("timed out"),timeout:t,signal:r}){return new Promise((s,o)=>{(async()=>{let l;try{let u=new AbortController;t>0&&(l=setTimeout(()=>{r?u.abort():o(e)},t)),s(await i({signal:u?.signal||null}))}catch(u){u?.name==="AbortError"&&o(e),o(u)}finally{clearTimeout(l)}})()})}Mi();function pT(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var X0=pT();function yk(i,e={}){return{async request(t){let{body:r,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:l=e.timeout??1e4}=t,u={...e.fetchOptions??{},...t.fetchOptions??{}},{headers:p,method:m,signal:d}=u;try{let f=await bk(async({signal:y})=>{let x={...u,body:Array.isArray(r)?pt(r.map(M=>({jsonrpc:"2.0",id:M.id??X0.take(),...M}))):pt({jsonrpc:"2.0",id:r.id??X0.take(),...r}),headers:{"Content-Type":"application/json",...p},method:m||"POST",signal:d||(l>0?y:null)},E=new Request(i,x),_=await s?.(E,x)??{...x,url:i};return await fetch(_.url??i,_)},{errorInstance:new qc({body:r,url:i}),timeout:l,signal:!0});o&&await o(f);let g;if(f.headers.get("Content-Type")?.startsWith("application/json"))g=await f.json();else{g=await f.text();try{g=JSON.parse(g||"{}")}catch(y){if(f.ok)throw y;g={error:g}}}if(!f.ok)throw new nr({body:r,details:pt(g.error)||f.statusText,headers:f.headers,status:f.status,url:i});return g}catch(f){throw f instanceof nr||f instanceof qc?f:new nr({body:r,cause:f,url:i})}}}}function pu(i,e={}){let{batch:t,fetchOptions:r,key:s="http",methods:o,name:l="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:p,retryDelay:m,raw:d}=e;return({chain:f,retryCount:g,timeout:y})=>{let{batchSize:x=1e3,wait:E=0}=typeof t=="object"?t:{},_=e.retryCount??g,S=y??e.timeout??1e4,M=i||f?.rpcUrls.default.http[0];if(!M)throw new cf;let O=yk(M,{fetchOptions:r,onRequest:u,onResponse:p,timeout:S});return lf({key:s,methods:o,name:l,async request({method:j,params:Q}){let V={method:j,params:Q},{schedule:K}=Qd({id:M,wait:E,shouldSplitBatch(ce){return ce.length>x},fn:ce=>O.request({body:ce}),sort:(ce,oe)=>ce.id-oe.id}),W=async ce=>t?K(ce):[await O.request({body:ce})],[{error:ne,result:se}]=await W(V);if(d)return{error:ne,result:se};if(ne)throw new Vn({body:V,error:ne,url:M});return se},retryCount:_,retryDelay:m,timeout:S,type:"http"},{fetchOptions:r,url:M})}}Xs();os();rr();to();Mo();ze();Vh();rt();Gn();function Ta(i,e){if(!(i instanceof H))return!1;let t=i.walk(r=>r instanceof Ps);return t instanceof Ps?!!(t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ResolverWildcardNotSupported"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverError"||t.data?.errorName==="HttpError"||t.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&t.reason===Gh[50]):!1}ir();ai();ze();kr();br();function uf(i){if(i.length!==66||i.indexOf("[")!==0||i.indexOf("]")!==65)return null;let e=`0x${i.slice(1,65)}`;return Gt(e)?e:null}function Ca(i){let e=new Uint8Array(32).fill(0);if(!i)return ut(e);let t=i.split(".");for(let r=t.length-1;r>=0;r-=1){let s=uf(t[r]),o=s?tr(s):Tt(vr(t[r]),"bytes");e=Tt(Ai([e,o]),"bytes")}return ut(e)}ai();function _k(i){return`[${i.slice(2)}]`}ai();ze();kr();function xk(i){let e=new Uint8Array(32).fill(0);return i?uf(i)||Tt(vr(i)):ut(e)}function us(i){let e=i.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);let t=new Uint8Array(vr(e).byteLength+2),r=0,s=e.split(".");for(let o=0;o<s.length;o++){let l=vr(s[o]);l.byteLength>255&&(l=vr(_k(xk(s[o])))),t[r]=l.length,t.set(l,r+1),r+=l.length+1}return t.byteLength!==r+1?t.slice(0,r+1):t}async function vk(i,e){let{blockNumber:t,blockTag:r,coinType:s,name:o,gatewayUrls:l,strict:u}=e,{chain:p}=i,m=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!p)throw new Error("client chain not configured. universalResolverAddress is required.");return ur({blockNumber:t,chain:p,contract:"ensUniversalResolver"})})(),d=p?.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;try{let f=Bt({abi:j0,functionName:"addr",...s!=null?{args:[Ca(o),BigInt(s)]}:{args:[Ca(o)]}}),g={address:m,abi:jd,functionName:"resolve",args:[Re(us(o)),f],blockNumber:t,blockTag:r},y=ke(i,ui,"readContract"),x=l?await y({...g,args:[...g.args,l]}):await y(g);if(x[0]==="0x")return null;let E=Pi({abi:j0,args:s!=null?[Ca(o),BigInt(s)]:void 0,functionName:"addr",data:x[0]});return E==="0x"||fi(E)==="0x00"?null:E}catch(f){if(u)throw f;if(Ta(f,"resolve"))return null;throw f}}rt();var pf=class extends H{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}},ps=class extends H{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}},Aa=class extends H{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},mf=class extends H{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}};var mT=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,hT=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,dT=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,fT=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function gT(i){try{let e=await fetch(i,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=i})}}function Ik(i,e){return i?i.endsWith("/")?i.slice(0,-1):i:e}function Z0({uri:i,gatewayUrls:e}){let t=dT.test(i);if(t)return{uri:i,isOnChain:!0,isEncoded:t};let r=Ik(e?.ipfs,"https://ipfs.io"),s=Ik(e?.arweave,"https://arweave.net"),o=i.match(mT),{protocol:l,subpath:u,target:p,subtarget:m=""}=o?.groups||{},d=l==="ipns:/"||u==="ipns/",f=l==="ipfs:/"||u==="ipfs/"||hT.test(i);if(i.startsWith("http")&&!d&&!f){let y=i;return e?.arweave&&(y=i.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:y,isOnChain:!1,isEncoded:!1}}if((d||f)&&p)return{uri:`${r}/${d?"ipns":"ipfs"}/${p}${m}`,isOnChain:!1,isEncoded:!1};if(l==="ar:/"&&p)return{uri:`${s}/${p}${m||""}`,isOnChain:!1,isEncoded:!1};let g=i.replace(fT,"");if(g.startsWith("<svg")&&(g=`data:image/svg+xml;base64,${btoa(g)}`),g.startsWith("data:")||g.startsWith("{"))return{uri:g,isOnChain:!0,isEncoded:!1};throw new Aa({uri:i})}function J0(i){if(typeof i!="object"||!("image"in i)&&!("image_url"in i)&&!("image_data"in i))throw new pf({data:i});return i.image||i.image_url||i.image_data}async function kk({gatewayUrls:i,uri:e}){try{let t=await fetch(e).then(s=>s.json());return await hf({gatewayUrls:i,uri:J0(t)})}catch{throw new Aa({uri:e})}}async function hf({gatewayUrls:i,uri:e}){let{uri:t,isOnChain:r}=Z0({uri:e,gatewayUrls:i});if(r||await gT(t))return t;throw new Aa({uri:e})}function Sk(i){let e=i;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));let[t,r,s]=e.split("/"),[o,l]=t.split(":"),[u,p]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new ps({reason:"Only EIP-155 supported"});if(!l)throw new ps({reason:"Chain ID not found"});if(!p)throw new ps({reason:"Contract address not found"});if(!s)throw new ps({reason:"Token ID not found"});if(!u)throw new ps({reason:"ERC namespace not found"});return{chainID:Number.parseInt(l),namespace:u.toLowerCase(),contractAddress:p,tokenID:s}}async function wk(i,{nft:e}){if(e.namespace==="erc721")return ui(i,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ui(i,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new mf({namespace:e.namespace})}async function Ek(i,{gatewayUrls:e,record:t}){return/eip155:/i.test(t)?bT(i,{gatewayUrls:e,record:t}):hf({uri:t,gatewayUrls:e})}async function bT(i,{gatewayUrls:e,record:t}){let r=Sk(t),s=await wk(i,{nft:r}),{uri:o,isOnChain:l,isEncoded:u}=Z0({uri:s,gatewayUrls:e});if(l&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){let m=u?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(m);return hf({uri:J0(d),gatewayUrls:e})}let p=r.tokenID;return r.namespace==="erc1155"&&(p=p.replace("0x","").padStart(64,"0")),kk({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,p)})}Xs();os();rr();to();ze();async function df(i,e){let{blockNumber:t,blockTag:r,key:s,name:o,gatewayUrls:l,strict:u}=e,{chain:p}=i,m=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!p)throw new Error("client chain not configured. universalResolverAddress is required.");return ur({blockNumber:t,chain:p,contract:"ensUniversalResolver"})})(),d=p?.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;try{let f={address:m,abi:jd,functionName:"resolve",args:[Re(us(o)),Bt({abi:z0,functionName:"text",args:[Ca(o),s]})],blockNumber:t,blockTag:r},g=ke(i,ui,"readContract"),y=l?await g({...f,args:[...f.args,l]}):await g(f);if(y[0]==="0x")return null;let x=Pi({abi:z0,functionName:"text",data:y[0]});return x===""?null:x}catch(f){if(u)throw f;if(Ta(f,"resolve"))return null;throw f}}async function Lk(i,{blockNumber:e,blockTag:t,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:l,universalResolverAddress:u}){let p=await ke(i,df,"getEnsText")({blockNumber:e,blockTag:t,key:"avatar",name:s,universalResolverAddress:u,gatewayUrls:o,strict:l});if(!p)return null;try{return await Ek(i,{record:p,gatewayUrls:r})}catch{return null}}Xs();to();ze();async function Tk(i,{address:e,blockNumber:t,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:l}){let u=l;if(!u){if(!i.chain)throw new Error("client chain not configured. universalResolverAddress is required.");u=ur({blockNumber:t,chain:i.chain,contract:"ensUniversalResolver"})}let p=`${e.toLowerCase().substring(2)}.addr.reverse`;try{let m={address:u,abi:QI,functionName:"reverse",args:[Re(us(p))],blockNumber:t,blockTag:r},d=ke(i,ui,"readContract"),[f,g]=s?await d({...m,args:[...m.args,s]}):await d(m);return e.toLowerCase()!==g.toLowerCase()?null:f}catch(m){if(o)throw m;if(Ta(m,"reverse"))return null;throw m}}to();ze();async function Ck(i,e){let{blockNumber:t,blockTag:r,name:s}=e,{chain:o}=i,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return ur({blockNumber:t,chain:o,contract:"ensUniversalResolver"})})(),u=o?.ensTlds;if(u&&!u.some(m=>s.endsWith(m)))throw new Error(`${s} is not a valid ENS TLD (${u?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);let[p]=await ke(i,ui,"readContract")({address:l,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Re(us(s))],blockNumber:t,blockTag:r});return p}Sa();ti();ze();W0();nu();Ys();rs();async function ff(i,e){let{account:t=i.account,blockNumber:r,blockTag:s="latest",blobs:o,data:l,gas:u,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:d,maxPriorityFeePerGas:f,to:g,value:y,...x}=e,E=t?at(t):void 0;try{Fi(e);let S=(r?we(r):void 0)||s,M=i.chain?.formatters?.transactionRequest?.format,j=(M||lr)({...is(x,{format:M}),from:E?.address,blobs:o,data:l,gas:u,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:d,maxPriorityFeePerGas:f,to:g,value:y}),Q=await i.request({method:"eth_createAccessList",params:[j,S]});return{accessList:Q.accessList,gasUsed:BigInt(Q.gasUsed)}}catch(_){throw qd(_,{...e,account:E,chain:i.chain})}}async function Ak(i){let e=zn(i,{method:"eth_newBlockFilter"}),t=await i.request({method:"eth_newBlockFilter"});return{id:t,request:e(t),type:"block"}}ze();async function gf(i,{address:e,args:t,event:r,events:s,fromBlock:o,strict:l,toBlock:u}={}){let p=s??(r?[r]:void 0),m=zn(i,{method:"eth_newFilter"}),d=[];p&&(d=[p.flatMap(y=>Vr({abi:[y],eventName:y.name,args:t}))],r&&(d=d[0]));let f=await i.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?we(o):o,toBlock:typeof u=="bigint"?we(u):u,...d.length?{topics:d}:{}}]});return{abi:p,args:t,eventName:r?r.name:void 0,fromBlock:o,id:f,request:m(f),strict:!!l,toBlock:u,type:"event"}}async function bf(i){let e=zn(i,{method:"eth_newPendingTransactionFilter"}),t=await i.request({method:"eth_newPendingTransactionFilter"});return{id:t,request:e(t),type:"transaction"}}async function Mk(i){let e=await i.request({method:"eth_blobBaseFee"});return BigInt(e)}gi();ze();async function Rk(i,{blockHash:e,blockNumber:t,blockTag:r="latest"}={}){let s=t!==void 0?we(t):void 0,o;return e?o=await i.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await i.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Yt(o)}ze();async function e1(i,{address:e,blockNumber:t,blockTag:r="latest"}){let s=t!==void 0?we(t):void 0,o=await i.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(o!=="0x")return o}ze();function Bk(i){return{baseFeePerGas:i.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:i.gasUsedRatio,oldestBlock:BigInt(i.oldestBlock),reward:i.reward?.map(e=>e.map(t=>BigInt(t)))}}async function Dk(i,{blockCount:e,blockNumber:t,blockTag:r="latest",rewardPercentiles:s}){let o=t?we(t):void 0,l=await i.request({method:"eth_feeHistory",params:[we(e),o||r,s]},{dedupe:!!o});return Bk(l)}async function Ok(i,{filter:e}){let t=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>vi(o));return e.abi?Ia({abi:e.abi,logs:s,strict:t}):s}ze();function Nt(i){return{formatters:void 0,fees:void 0,serializers:void 0,...i}}Jt();zr();Mi();rt();var yf=class extends H{constructor({domain:e}){super(`Invalid domain "${pt(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},_f=class extends H{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},xf=class extends H{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}};Sr();yr();ze();i0();Hn();ir();ze();kr();function Nk(i){let{domain:e={},message:t,primaryType:r}=i,s={EIP712Domain:If({domain:e}),...i.types};vf({domain:e,message:t,primaryType:r,types:s});let o=["0x1901"];return e&&o.push(yT({domain:e,types:s})),r!=="EIP712Domain"&&o.push(Fk({data:t,primaryType:r,types:s})),Tt(Ai(o))}function yT({domain:i,types:e}){return Fk({data:i,primaryType:"EIP712Domain",types:e})}function Fk({data:i,primaryType:e,types:t}){let r=Pk({data:i,primaryType:e,types:t});return Tt(r)}function Pk({data:i,primaryType:e,types:t}){let r=[{type:"bytes32"}],s=[_T({primaryType:e,types:t})];for(let o of t[e]){let[l,u]=Hk({types:t,name:o.name,type:o.type,value:i[o.name]});r.push(l),s.push(u)}return Vi(r,s)}function _T({primaryType:i,types:e}){let t=Re(xT({primaryType:i,types:e}));return Tt(t)}function xT({primaryType:i,types:e}){let t="",r=Uk({primaryType:i,types:e});r.delete(i);let s=[i,...Array.from(r).sort()];for(let o of s)t+=`${o}(${e[o].map(({name:l,type:u})=>`${u} ${l}`).join(",")})`;return t}function Uk({primaryType:i,types:e},t=new Set){let s=i.match(/^\w*/u)?.[0];if(t.has(s)||e[s]===void 0)return t;t.add(s);for(let o of e[s])Uk({primaryType:o.type,types:e},t);return t}function Hk({types:i,name:e,type:t,value:r}){if(i[t]!==void 0)return[{type:"bytes32"},Tt(Pk({data:r,primaryType:t,types:i}))];if(t==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Tt(r)];if(t==="string")return[{type:"bytes32"},Tt(Re(r))];if(t.lastIndexOf("]")===t.length-1){let s=t.slice(0,t.lastIndexOf("[")),o=r.map(l=>Hk({name:e,type:s,types:i,value:l}));return[{type:"bytes32"},Tt(Vi(o.map(([l])=>l),o.map(([,l])=>l)))]}return[{type:t},r]}Mi();function zk(i){let{domain:e,message:t,primaryType:r,types:s}=i,o=(p,m)=>{let d={...m};for(let f of p){let{name:g,type:y}=f;y==="address"&&(d[g]=d[g].toLowerCase())}return d},l=(()=>s.EIP712Domain?e?o(s.EIP712Domain,e):{}:{})(),u=(()=>{if(r!=="EIP712Domain")return o(s[r],t)})();return pt({domain:l,message:u,primaryType:r,types:s})}function vf(i){let{domain:e,message:t,primaryType:r,types:s}=i,o=(l,u)=>{for(let p of l){let{name:m,type:d}=p,f=u[m],g=d.match(Uh);if(g&&(typeof f=="number"||typeof f=="bigint")){let[E,_,S]=g;we(f,{signed:_==="int",size:Number.parseInt(S)/8})}if(d==="address"&&typeof f=="string"&&!wt(f))throw new Mt({address:f});let y=d.match(Av);if(y){let[E,_]=y;if(_&&dt(f)!==Number.parseInt(_))throw new _h({expectedSize:Number.parseInt(_),givenSize:dt(f)})}let x=s[d];x&&(vT(d),o(x,f))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new yf({domain:e});o(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])o(s[r],t);else throw new _f({primaryType:r,types:s})}function If({domain:i}){return[typeof i?.name=="string"&&{name:"name",type:"string"},i?.version&&{name:"version",type:"string"},(typeof i?.chainId=="number"||typeof i?.chainId=="bigint")&&{name:"chainId",type:"uint256"},i?.verifyingContract&&{name:"verifyingContract",type:"address"},i?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function vT(i){if(i==="address"||i==="bool"||i==="string"||i.startsWith("bytes")||i.startsWith("uint")||i.startsWith("int"))throw new xf({type:i})}rr();ze();wr();ir();Mo();ze();N0();zr();rt();lu();es();Sr();yr();Ds();gi();function jk(i){let{authorizationList:e}=i;if(e)for(let t of e){let{chainId:r}=t,s=t.address;if(!wt(s))throw new Mt({address:s});if(r<0)throw new Js({chainId:r})}kf(i)}function Gk(i){let{blobVersionedHashes:e}=i;if(e){if(e.length===0)throw new ya;for(let t of e){let r=dt(t),s=Yt(hn(t,0,1));if(r!==32)throw new Nd({hash:t,size:r});if(s!==1)throw new Fd({hash:t,version:s})}}kf(i)}function kf(i){let{chainId:e,maxPriorityFeePerGas:t,maxFeePerGas:r,to:s}=i;if(e<=0)throw new Js({chainId:e});if(s&&!wt(s))throw new Mt({address:s});if(r&&r>ma)throw new or({maxFeePerGas:r});if(t&&r&&t>r)throw new Qr({maxFeePerGas:r,maxPriorityFeePerGas:t})}function Vk(i){let{chainId:e,maxPriorityFeePerGas:t,gasPrice:r,maxFeePerGas:s,to:o}=i;if(e<=0)throw new Js({chainId:e});if(o&&!wt(o))throw new Mt({address:o});if(t||s)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>ma)throw new or({maxFeePerGas:r})}function Wk(i){let{chainId:e,maxPriorityFeePerGas:t,gasPrice:r,maxFeePerGas:s,to:o}=i;if(o&&!wt(o))throw new Mt({address:o});if(typeof e<"u"&&e<=0)throw new Js({chainId:e});if(t||s)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>ma)throw new or({maxFeePerGas:r})}zr();wr();Sr();function mu(i){if(!i||i.length===0)return[];let e=[];for(let t=0;t<i.length;t++){let{address:r,storageKeys:s}=i[t];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new id({storageKey:s[o]});if(!wt(r,{strict:!1}))throw new Mt({address:r});e.push([r,s])}return e}function Kk(i,e){let t=Ud(i);return t==="eip1559"?ST(i,e):t==="eip2930"?wT(i,e):t==="eip4844"?kT(i,e):t==="eip7702"?IT(i,e):ET(i,e)}function IT(i,e){let{authorizationList:t,chainId:r,gas:s,nonce:o,to:l,value:u,maxFeePerGas:p,maxPriorityFeePerGas:m,accessList:d,data:f}=i;jk(i);let g=mu(d),y=$k(t);return bi(["0x04",Tr([Re(r),o?Re(o):"0x",m?Re(m):"0x",p?Re(p):"0x",s?Re(s):"0x",l??"0x",u?Re(u):"0x",f??"0x",g,y,...Ma(i,e)])])}function kT(i,e){let{chainId:t,gas:r,nonce:s,to:o,value:l,maxFeePerBlobGas:u,maxFeePerGas:p,maxPriorityFeePerGas:m,accessList:d,data:f}=i;Gk(i);let g=i.blobVersionedHashes,y=i.sidecars;if(i.blobs&&(typeof g>"u"||typeof y>"u")){let O=typeof i.blobs[0]=="string"?i.blobs:i.blobs.map(V=>ut(V)),j=i.kzg,Q=ga({blobs:O,kzg:j});if(typeof g>"u"&&(g=Dd({commitments:Q})),typeof y>"u"){let V=ba({blobs:O,commitments:Q,kzg:j});y=Pd({blobs:O,commitments:Q,proofs:V})}}let x=mu(d),E=[Re(t),s?Re(s):"0x",m?Re(m):"0x",p?Re(p):"0x",r?Re(r):"0x",o??"0x",l?Re(l):"0x",f??"0x",x,u?Re(u):"0x",g??[],...Ma(i,e)],_=[],S=[],M=[];if(y)for(let O=0;O<y.length;O++){let{blob:j,commitment:Q,proof:V}=y[O];_.push(j),S.push(Q),M.push(V)}return bi(["0x03",y?Tr([E,_,S,M]):Tr(E)])}function ST(i,e){let{chainId:t,gas:r,nonce:s,to:o,value:l,maxFeePerGas:u,maxPriorityFeePerGas:p,accessList:m,data:d}=i;kf(i);let f=mu(m),g=[Re(t),s?Re(s):"0x",p?Re(p):"0x",u?Re(u):"0x",r?Re(r):"0x",o??"0x",l?Re(l):"0x",d??"0x",f,...Ma(i,e)];return bi(["0x02",Tr(g)])}function wT(i,e){let{chainId:t,gas:r,data:s,nonce:o,to:l,value:u,accessList:p,gasPrice:m}=i;Vk(i);let d=mu(p),f=[Re(t),o?Re(o):"0x",m?Re(m):"0x",r?Re(r):"0x",l??"0x",u?Re(u):"0x",s??"0x",d,...Ma(i,e)];return bi(["0x01",Tr(f)])}function ET(i,e){let{chainId:t=0,gas:r,data:s,nonce:o,to:l,value:u,gasPrice:p}=i;Wk(i);let m=[o?Re(o):"0x",p?Re(p):"0x",r?Re(r):"0x",l??"0x",u?Re(u):"0x",s??"0x"];if(e){let d=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(t>0)return BigInt(t*2)+BigInt(35n+e.v-27n);let y=27n+(e.v===27n?0n:1n);if(e.v!==y)throw new ed({v:e.v});return y})(),f=fi(e.r),g=fi(e.s);m=[...m,Re(d),f==="0x00"?"0x":f,g==="0x00"?"0x":g]}else t>0&&(m=[...m,Re(t),"0x","0x"]);return Tr(m)}function Ma(i,e){let t=e??i,{v:r,yParity:s}=t;if(typeof t.r>"u")return[];if(typeof t.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];let o=fi(t.r),l=fi(t.s);return[(()=>typeof s=="number"?s?Re(1):"0x":r===0n?"0x":r===1n?Re(1):r===27n?"0x":Re(1))(),o==="0x00"?"0x":o,l==="0x00"?"0x":l]}function $k(i){if(!i||i.length===0)return[];let e=[];for(let t of i){let{chainId:r,nonce:s,...o}=t,l=t.address;e.push([r?Re(r):"0x",l,s?Re(s):"0x",...Ma({},o)])}return e}gi();Cd();var LT={"0x0":"reverted","0x1":"success"};function t1(i){let e={...i,blockNumber:i.blockNumber?BigInt(i.blockNumber):null,contractAddress:i.contractAddress?i.contractAddress:null,cumulativeGasUsed:i.cumulativeGasUsed?BigInt(i.cumulativeGasUsed):null,effectiveGasPrice:i.effectiveGasPrice?BigInt(i.effectiveGasPrice):null,gasUsed:i.gasUsed?BigInt(i.gasUsed):null,logs:i.logs?i.logs.map(t=>vi(t)):null,to:i.to?i.to:null,transactionIndex:i.transactionIndex?Yt(i.transactionIndex):null,status:i.status?LT[i.status]:null,type:i.type?F0[i.type]||i.type:null};return i.blobGasPrice&&(e.blobGasPrice=BigInt(i.blobGasPrice)),i.blobGasUsed&&(e.blobGasUsed=BigInt(i.blobGasUsed)),e}var qk=ua("transactionReceipt",t1);gi();kr();var Yk=`Ethereum Signed Message:
`;ir();yr();ze();function Qk(i){let e=(()=>typeof i=="string"?xr(i):typeof i.raw=="string"?i.raw:ut(i.raw))(),t=xr(`${Yk}${dt(e)}`);return Ai([t,e])}function Sf(i,e){return Tt(Qk(i),e)}var wf="0x6492649264926492649264926492649264926492649264926492649264926492";Ds();function Xk(i){return t0(i,-32)===wf}Hn();ir();ai();function Zk(i){let{address:e,data:t,signature:r,to:s="hex"}=i,o=bi([Vi([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,t,r]),wf]);return s==="hex"?o:ei(o)}rt();var Ef=class extends H{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}};function i1(i,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(i))throw new Ef({value:i});let[t,r="0"]=i.split("."),s=t.startsWith("-");if(s&&(t=t.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(t=`${BigInt(t)+1n}`),r="";else if(r.length>e){let[o,l,u]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],p=Math.round(+`${l}.${u}`);p>9?r=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):r=`${o}${p}`,r.length>e&&(r=r.slice(1),t=`${BigInt(t)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${t}${r}`)}function TT(i){return i.map(e=>({...e,value:BigInt(e.value)}))}function Jk(i){return{...i,balance:i.balance?BigInt(i.balance):void 0,nonce:i.nonce?Yt(i.nonce):void 0,storageProof:i.storageProof?TT(i.storageProof):void 0}}async function eS(i,{address:e,blockNumber:t,blockTag:r,storageKeys:s}){let o=r??"latest",l=t!==void 0?we(t):void 0,u=await i.request({method:"eth_getProof",params:[e,s,l||o]});return Jk(u)}ze();async function tS(i,{address:e,blockNumber:t,blockTag:r="latest",slot:s}){let o=t!==void 0?we(t):void 0;return await i.request({method:"eth_getStorageAt",params:[e,s,o||r]})}wr();ze();async function Ra(i,{blockHash:e,blockNumber:t,blockTag:r,hash:s,index:o}){let l=r||"latest",u=t!==void 0?we(t):void 0,p=null;if(s?p=await i.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?p=await i.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,we(o)]},{dedupe:!0}):(u||l)&&(p=await i.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||l,we(o)]},{dedupe:!!u})),!p)throw new Uo({blockHash:e,blockNumber:t,blockTag:l,hash:s,index:o});return(i.chain?.formatters?.transaction?.format||Qs)(p)}async function iS(i,{hash:e,transactionReceipt:t}){let[r,s]=await Promise.all([ke(i,en,"getBlockNumber")({}),e?ke(i,Ra,"getTransaction")({hash:e}):void 0]),o=t?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}wr();async function hu(i,{hash:e}){let t=await i.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!t)throw new Ho({hash:e});return(i.chain?.formatters?.transactionReceipt?.format||t1)(t)}Xs();Jt();rt();Gn();os();rr();to();async function rS(i,e){let{allowFailure:t=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:l,stateOverride:u}=e,p=e.contracts,m=r??(typeof i.batch?.multicall=="object"&&i.batch.multicall.batchSize||1024),d=l;if(!d){if(!i.chain)throw new Error("client chain not configured. multicallAddress is required.");d=ur({blockNumber:s,chain:i.chain,contract:"multicall3"})}let f=[[]],g=0,y=0;for(let _=0;_<p.length;_++){let{abi:S,address:M,args:O,functionName:j}=p[_];try{let Q=Bt({abi:S,args:O,functionName:j});y+=(Q.length-2)/2,m>0&&y>m&&f[g].length>0&&(g++,y=(Q.length-2)/2,f[g]=[]),f[g]=[...f[g],{allowFailure:!0,callData:Q,target:M}]}catch(Q){let V=Wi(Q,{abi:S,address:M,args:O,docsPath:"/docs/contract/multicall",functionName:j});if(!t)throw V;f[g]=[...f[g],{allowFailure:!0,callData:"0x",target:M}]}}let x=await Promise.allSettled(f.map(_=>ke(i,ui,"readContract")({abi:ou,address:d,args:[_],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:u}))),E=[];for(let _=0;_<x.length;_++){let S=x[_];if(S.status==="rejected"){if(!t)throw S.reason;for(let O=0;O<f[_].length;O++)E.push({status:"failure",error:S.reason,result:void 0});continue}let M=S.value;for(let O=0;O<M.length;O++){let{returnData:j,success:Q}=M[O],{callData:V}=f[_][O],{abi:K,address:W,functionName:ne,args:se}=p[E.length];try{if(V==="0x")throw new er;if(!Q)throw new Kr({data:j});let ce=Pi({abi:K,args:se,data:j,functionName:ne});E.push(t?{result:ce,status:"success"}:ce)}catch(ce){let oe=Wi(ce,{abi:K,address:W,args:se,docsPath:"/docs/contract/multicall",functionName:ne});if(!t)throw oe;E.push({error:oe,result:void 0,status:"failure"})}}}if(E.length!==p.length)throw new H("multicall results mismatch");return E}var nS="0.1.1";function sS(){return nS}var _t=class i extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof i){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),s=(()=>t.cause instanceof i&&t.cause.docsPath||t.docsPath)(),l=`https://oxlib.sh${s??""}`,u=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${l}`:void 0]:[]].filter(p=>typeof p=="string").join(`
`);super(u,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${sS()}`}),this.cause=t.cause,this.details=r,this.docs=l,this.docsPath=s,this.shortMessage=e}walk(e){return oS(this,e)}};function oS(i,e){return e?.(i)?i:i&&typeof i=="object"&&"cause"in i&&i.cause?oS(i.cause,e):e?null:i}var CT="#__bigint";function aS(i,e,t){return JSON.stringify(i,(r,s)=>typeof e=="function"?e(r,s):typeof s=="bigint"?s.toString()+CT:s,t)}function lS(i,e){if(r1(i)>e)throw new Lf({givenSize:r1(i),maxSize:e})}var _n={zero:48,nine:57,A:65,F:70,a:97,f:102};function n1(i){if(i>=_n.zero&&i<=_n.nine)return i-_n.zero;if(i>=_n.A&&i<=_n.F)return i-(_n.A-10);if(i>=_n.a&&i<=_n.f)return i-(_n.a-10)}function cS(i,e={}){let{dir:t,size:r=32}=e;if(r===0)return i;if(i.length>r)throw new Tf({size:i.length,targetSize:r,type:"Bytes"});let s=new Uint8Array(r);for(let o=0;o<r;o++){let l=t==="right";s[l?o:r-o-1]=i[l?o:i.length-o-1]}return s}function du(i,e){if(li(i)>e)throw new Cf({givenSize:li(i),maxSize:e})}function uS(i,e){if(typeof e=="number"&&e>0&&e>li(i)-1)throw new fu({offset:e,position:"start",size:li(i)})}function pS(i,e,t){if(typeof e=="number"&&typeof t=="number"&&li(i)!==t-e)throw new fu({offset:t,position:"end",size:li(i)})}function o1(i,e={}){let{dir:t,size:r=32}=e;if(r===0)return i;let s=i.replace("0x","");if(s.length>r*2)throw new Af({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[t==="right"?"padEnd":"padStart"](r*2,"0")}`}var RT=new TextEncoder;function hS(i){return i instanceof Uint8Array?i:typeof i=="string"?DT(i):BT(i)}function BT(i){return i instanceof Uint8Array?i:new Uint8Array(i)}function DT(i,e={}){let{size:t}=e,r=i;t&&(du(i,t),r=rn(i,t));let s=r.slice(2);s.length%2&&(s=`0${s}`);let o=s.length/2,l=new Uint8Array(o);for(let u=0,p=0;u<o;u++){let m=n1(s.charCodeAt(p++)),d=n1(s.charCodeAt(p++));if(m===void 0||d===void 0)throw new _t(`Invalid byte sequence ("${s[p-2]}${s[p-1]}" in "${s}").`);l[u]=m*16+d}return l}function dS(i,e={}){let{size:t}=e,r=RT.encode(i);return typeof t=="number"?(lS(r,t),OT(r,t)):r}function OT(i,e){return cS(i,{dir:"right",size:e})}function r1(i){return i.length}var Lf=class extends _t{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}};var Tf=class extends _t{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};var NT=new TextEncoder,FT=Array.from({length:256},(i,e)=>e.toString(16).padStart(2,"0"));function PT(i,e={}){let{strict:t=!1}=e;if(!i)throw new Mf(i);if(typeof i!="string")throw new Mf(i);if(t&&!/^0x[0-9a-fA-F]*$/.test(i))throw new Rf(i);if(!i.startsWith("0x"))throw new Rf(i)}function Hi(...i){return`0x${i.reduce((e,t)=>e+t.replace("0x",""),"")}`}function Bf(i,e={}){let t=`0x${Number(i)}`;return typeof e.size=="number"?(du(t,e.size),xn(t,e.size)):t}function Ba(i,e={}){let t="";for(let s=0;s<i.length;s++)t+=FT[i[s]];let r=`0x${t}`;return typeof e.size=="number"?(du(r,e.size),rn(r,e.size)):r}function Qt(i,e={}){let{signed:t,size:r}=e,s=BigInt(i),o;r?t?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof i=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let l=typeof o=="bigint"&&t?-o-1n:0;if(o&&s>o||s<l){let m=typeof i=="bigint"?"n":"";throw new gu({max:o?`${o}${m}`:void 0,min:`${l}${m}`,signed:t,size:r,value:`${i}${m}`})}let p=`0x${(t&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?xn(p,r):p}function Da(i,e={}){return Ba(NT.encode(i),e)}function xn(i,e){return o1(i,{dir:"left",size:e})}function rn(i,e){return o1(i,{dir:"right",size:e})}function Oa(i,e,t,r={}){let{strict:s}=r;uS(i,e);let o=`0x${i.replace("0x","").slice((e??0)*2,(t??i.length)*2)}`;return s&&pS(o,e,t),o}function li(i){return Math.ceil((i.length-2)/2)}function a1(i,e={}){let{strict:t=!1}=e;try{return PT(i,{strict:t}),!0}catch{return!1}}var gu=class extends _t{constructor({max:e,min:t,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};var Mf=class extends _t{constructor(e){super(`Value \`${typeof e=="object"?aS(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},Rf=class extends _t{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}};var Cf=class extends _t{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},fu=class extends _t{constructor({offset:e,position:t,size:r}){super(`Slice ${t==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Af=class extends _t{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function fS(i){return{address:i.address,amount:Qt(i.amount),index:Qt(i.index),validatorIndex:Qt(i.validatorIndex)}}function gS(i){return{...typeof i.baseFeePerGas=="bigint"&&{baseFeePerGas:Qt(i.baseFeePerGas)},...typeof i.blobBaseFee=="bigint"&&{blobBaseFee:Qt(i.blobBaseFee)},...typeof i.feeRecipient=="string"&&{feeRecipient:i.feeRecipient},...typeof i.gasLimit=="bigint"&&{gasLimit:Qt(i.gasLimit)},...typeof i.number=="bigint"&&{number:Qt(i.number)},...typeof i.prevRandao=="bigint"&&{prevRandao:Qt(i.prevRandao)},...typeof i.time=="bigint"&&{time:Qt(i.time)},...i.withdrawals&&{withdrawals:i.withdrawals.map(fS)}}}ti();Jt();Gn();es();os();rr();ze();ru();Ys();Ad();rs();async function bu(i,e){let{blockNumber:t,blockTag:r="latest",blocks:s,returnFullTransactions:o,traceTransfers:l,validation:u}=e;try{let p=[];for(let g of s){let y=g.blockOverrides?gS(g.blockOverrides):void 0,x=g.calls.map(_=>{let S=_,M=S.account?at(S.account):void 0,O={...S,data:S.abi?Bt(S):S.data,from:S.from??M?.address};return Fi(O),lr(O)}),E=g.stateOverrides?pa(g.stateOverrides):void 0;p.push({blockOverrides:y,calls:x,stateOverrides:E})}let d=(t?we(t):void 0)||r;return(await i.request({method:"eth_simulateV1",params:[{blockStateCalls:p,returnFullTransactions:o,traceTransfers:l,validation:u},d]})).map((g,y)=>({...su(g),calls:g.calls.map((x,E)=>{let{abi:_,args:S,functionName:M,to:O}=s[y].calls[E],j=x.error?.data??x.returnData,Q=BigInt(x.gasUsed),V=x.logs?.map(se=>vi(se)),K=x.status==="0x1"?"success":"failure",W=_&&K==="success"&&j!=="0x"?Pi({abi:_,data:j,functionName:M}):null,ne=(()=>{if(K==="success")return;let se;if(x.error?.data==="0x"?se=new er:x.error&&(se=new Kr(x.error)),!!se)return Wi(se,{abi:_??[],address:O,args:S,functionName:M??"<unknown>"})})();return{data:j,gasUsed:Q,logs:V,status:K,...K==="success"?{result:W}:{error:ne}}})}))}catch(p){let m=p,d=ts(m,{});throw d instanceof ar?m:d}}uh();Q_();function Df(i,e={}){let{as:t=typeof i=="string"?"Hex":"Bytes"}=e,r=Nh(hS(i));return t==="Bytes"?r:Ba(r)}var Of=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let r=this.keys().next().value;r&&this.delete(r)}return this}};var zT={checksum:new Of(8192)},Nf=zT.checksum;var GT=/^0x[a-fA-F0-9]{40}$/;function Na(i,e={}){let{strict:t=!0}=e;if(!GT.test(i))throw new Ff({address:i,cause:new l1});if(t){if(i.toLowerCase()===i)return;if(yS(i)!==i)throw new Ff({address:i,cause:new c1})}}function yS(i){if(Nf.has(i))return Nf.get(i);Na(i,{strict:!1});let e=i.substring(2).toLowerCase(),t=Df(dS(e),{as:"Bytes"}),r=e.split("");for(let o=0;o<40;o+=2)t[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(t[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());let s=`0x${r.join("")}`;return Nf.set(i,s),s}function Pf(i,e={}){let{strict:t=!0}=e??{};try{return Na(i,{strict:t}),!0}catch{return!1}}var Ff=class extends _t{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},l1=class extends _t{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},c1=class extends _t{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};function Hf(i){let e=!0,t="",r=0,s="",o=!1;for(let l=0;l<i.length;l++){let u=i[l];if(["(",")",","].includes(u)&&(e=!0),u==="("&&r++,u===")"&&r--,!!e){if(r===0){if(u===" "&&["event","function","error",""].includes(s))s="";else if(s+=u,u===")"){o=!0;break}continue}if(u===" "){i[l-1]!==","&&t!==","&&t!==",("&&(t="",e=!1);continue}s+=u,t+=u}}if(!o)throw new _t("Unable to normalize signature.");return s}function Uf(i,e){let t=typeof i,r=e.type;switch(r){case"address":return Pf(i,{strict:!1});case"bool":return t==="boolean";case"function":return t==="string";case"string":return t==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,o)=>Uf(Object.values(i)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?t==="number"||t==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?t==="string"||i instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(i)&&i.every(s=>Uf(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function p1(i,e,t){for(let r in i){let s=i[r],o=e[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return p1(s.components,o.components,t[r]);let l=[s.type,o.type];if((()=>l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?Pf(t[r],{strict:!1}):l.includes("address")&&l.includes("bytes")?Pf(t[r],{strict:!1}):!1)())return l}}function zf(i,e={}){let{prepare:t=!0}=e,r=(()=>Array.isArray(i)?ch(i):typeof i=="string"?ch(i):i)();return{...r,...t?{hash:Fa(r)}:{}}}function _S(i,e,t){let{args:r=[],prepare:s=!0}=t??{},o=a1(e,{strict:!1}),l=i.filter(m=>o?m.type==="function"||m.type==="error"?h1(m)===Oa(e,0,4):m.type==="event"?Fa(m)===e:!1:"name"in m&&m.name===e);if(l.length===0)throw new ro({name:e});if(l.length===1)return{...l[0],...s?{hash:Fa(l[0])}:{}};let u;for(let m of l){if(!("inputs"in m))continue;if(!r||r.length===0){if(!m.inputs||m.inputs.length===0)return{...m,...s?{hash:Fa(m)}:{}};continue}if(!m.inputs||m.inputs.length===0||m.inputs.length!==r.length)continue;if(r.every((f,g)=>{let y="inputs"in m&&m.inputs[g];return y?Uf(f,y):!1})){if(u&&"inputs"in u&&u.inputs){let f=p1(m.inputs,u.inputs,r);if(f)throw new m1({abiItem:m,type:f[0]},{abiItem:u,type:f[1]})}u=m}}let p=(()=>{if(u)return u;let[m,...d]=l;return{...m,overloads:d}})();if(!p)throw new ro({name:e});return{...p,...s?{hash:Fa(p)}:{}}}function h1(i){return Oa(Fa(i),0,4)}function WT(i){let e=(()=>typeof i=="string"?i:Cs(i))();return Hf(e)}function Fa(i){return typeof i!="string"&&"hash"in i&&i.hash?i.hash:Df(Da(WT(i)))}var m1=class extends _t{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${Hf(Cs(e.abiItem))}\`, and`,`\`${t.type}\` in \`${Hf(Cs(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},ro=class extends _t{constructor({name:e,data:t,type:r="item"}){let s=(()=>e?` with name "${e}"`:t?` with data "${t}"`:"")();super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}};var vS=/^(.*)\[([0-9]*)\]$/,IS=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,jf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,S9=2n**(8n-1n)-1n,w9=2n**(16n-1n)-1n,E9=2n**(24n-1n)-1n,L9=2n**(32n-1n)-1n,T9=2n**(40n-1n)-1n,C9=2n**(48n-1n)-1n,A9=2n**(56n-1n)-1n,M9=2n**(64n-1n)-1n,R9=2n**(72n-1n)-1n,B9=2n**(80n-1n)-1n,D9=2n**(88n-1n)-1n,O9=2n**(96n-1n)-1n,N9=2n**(104n-1n)-1n,F9=2n**(112n-1n)-1n,P9=2n**(120n-1n)-1n,U9=2n**(128n-1n)-1n,H9=2n**(136n-1n)-1n,z9=2n**(144n-1n)-1n,j9=2n**(152n-1n)-1n,G9=2n**(160n-1n)-1n,V9=2n**(168n-1n)-1n,W9=2n**(176n-1n)-1n,K9=2n**(184n-1n)-1n,$9=2n**(192n-1n)-1n,q9=2n**(200n-1n)-1n,Y9=2n**(208n-1n)-1n,Q9=2n**(216n-1n)-1n,X9=2n**(224n-1n)-1n,Z9=2n**(232n-1n)-1n,J9=2n**(240n-1n)-1n,eW=2n**(248n-1n)-1n,tW=2n**(256n-1n)-1n,iW=-(2n**(8n-1n)),rW=-(2n**(16n-1n)),nW=-(2n**(24n-1n)),sW=-(2n**(32n-1n)),oW=-(2n**(40n-1n)),aW=-(2n**(48n-1n)),lW=-(2n**(56n-1n)),cW=-(2n**(64n-1n)),uW=-(2n**(72n-1n)),pW=-(2n**(80n-1n)),mW=-(2n**(88n-1n)),hW=-(2n**(96n-1n)),dW=-(2n**(104n-1n)),fW=-(2n**(112n-1n)),gW=-(2n**(120n-1n)),bW=-(2n**(128n-1n)),yW=-(2n**(136n-1n)),_W=-(2n**(144n-1n)),xW=-(2n**(152n-1n)),vW=-(2n**(160n-1n)),IW=-(2n**(168n-1n)),kW=-(2n**(176n-1n)),SW=-(2n**(184n-1n)),wW=-(2n**(192n-1n)),EW=-(2n**(200n-1n)),LW=-(2n**(208n-1n)),TW=-(2n**(216n-1n)),CW=-(2n**(224n-1n)),AW=-(2n**(232n-1n)),MW=-(2n**(240n-1n)),RW=-(2n**(248n-1n)),BW=-(2n**(256n-1n)),DW=2n**8n-1n,OW=2n**16n-1n,NW=2n**24n-1n,FW=2n**32n-1n,PW=2n**40n-1n,UW=2n**48n-1n,HW=2n**56n-1n,zW=2n**64n-1n,jW=2n**72n-1n,GW=2n**80n-1n,VW=2n**88n-1n,WW=2n**96n-1n,KW=2n**104n-1n,$W=2n**112n-1n,qW=2n**120n-1n,YW=2n**128n-1n,QW=2n**136n-1n,XW=2n**144n-1n,ZW=2n**152n-1n,JW=2n**160n-1n,e7=2n**168n-1n,t7=2n**176n-1n,i7=2n**184n-1n,r7=2n**192n-1n,n7=2n**200n-1n,s7=2n**208n-1n,o7=2n**216n-1n,a7=2n**224n-1n,l7=2n**232n-1n,c7=2n**240n-1n,u7=2n**248n-1n,p7=2n**256n-1n;function kS({checksumAddress:i,parameters:e,values:t}){let r=[];for(let s=0;s<e.length;s++)r.push(d1({checksumAddress:i,parameter:e[s],value:t[s]}));return r}function d1({checksumAddress:i=!1,parameter:e,value:t}){let r=e,s=eC(r.type);if(s){let[o,l]=s;return qT(t,{checksumAddress:i,length:o,parameter:{...r,type:l}})}if(r.type==="tuple")return JT(t,{checksumAddress:i,parameter:r});if(r.type==="address")return $T(t,{checksum:i});if(r.type==="bool")return QT(t);if(r.type.startsWith("uint")||r.type.startsWith("int")){let o=r.type.startsWith("int"),[,,l="256"]=jf.exec(r.type)??[];return XT(t,{signed:o,size:Number(l)})}if(r.type.startsWith("bytes"))return YT(t,{type:r.type});if(r.type==="string")return ZT(t);throw new _u(r.type)}function Gf(i){let e=0;for(let o=0;o<i.length;o++){let{dynamic:l,encoded:u}=i[o];l?e+=32:e+=li(u)}let t=[],r=[],s=0;for(let o=0;o<i.length;o++){let{dynamic:l,encoded:u}=i[o];l?(t.push(Qt(e+s,{size:32})),r.push(u),s+=li(u)):t.push(u)}return Hi(...t,...r)}function $T(i,e){let{checksum:t=!1}=e;return Na(i,{strict:t}),{dynamic:!1,encoded:xn(i.toLowerCase())}}function qT(i,e){let{checksumAddress:t,length:r,parameter:s}=e,o=r===null;if(!Array.isArray(i))throw new Wf(i);if(!o&&i.length!==r)throw new Vf({expectedLength:r,givenLength:i.length,type:`${s.type}[${r}]`});let l=!1,u=[];for(let p=0;p<i.length;p++){let m=d1({checksumAddress:t,parameter:s,value:i[p]});m.dynamic&&(l=!0),u.push(m)}if(o||l){let p=Gf(u);if(o){let m=Qt(u.length,{size:32});return{dynamic:!0,encoded:u.length>0?Hi(m,p):m}}if(l)return{dynamic:!0,encoded:p}}return{dynamic:!1,encoded:Hi(...u.map(({encoded:p})=>p))}}function YT(i,{type:e}){let[,t]=e.split("bytes"),r=li(i);if(!t){let s=i;return r%32!==0&&(s=rn(s,Math.ceil((i.length-2)/2/32)*32)),{dynamic:!0,encoded:Hi(xn(Qt(r,{size:32})),s)}}if(r!==Number.parseInt(t))throw new yu({expectedSize:Number.parseInt(t),value:i});return{dynamic:!1,encoded:rn(i)}}function QT(i){if(typeof i!="boolean")throw new _t(`Invalid boolean value: "${i}" (type: ${typeof i}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:xn(Bf(i))}}function XT(i,{signed:e,size:t}){if(typeof t=="number"){let r=2n**(BigInt(t)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(i>r||i<s)throw new gu({max:r.toString(),min:s.toString(),signed:e,size:t/8,value:i.toString()})}return{dynamic:!1,encoded:Qt(i,{size:32,signed:e})}}function ZT(i){let e=Da(i),t=Math.ceil(li(e)/32),r=[];for(let s=0;s<t;s++)r.push(rn(Oa(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:Hi(rn(Qt(li(e),{size:32})),...r)}}function JT(i,e){let{checksumAddress:t,parameter:r}=e,s=!1,o=[];for(let l=0;l<r.components.length;l++){let u=r.components[l],p=Array.isArray(i)?l:u.name,m=d1({checksumAddress:t,parameter:u,value:i[p]});o.push(m),m.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Gf(o):Hi(...o.map(({encoded:l})=>l))}}function eC(i){let e=i.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function $f(i,e,t){let{checksumAddress:r=!1}=t??{};if(i.length!==e.length)throw new Kf({expectedLength:i.length,givenLength:e.length});let s=kS({checksumAddress:r,parameters:i,values:e}),o=Gf(s);return o.length===0?"0x":o}function g1(i,e){if(i.length!==e.length)throw new Kf({expectedLength:i.length,givenLength:e.length});let t=[];for(let r=0;r<i.length;r++){let s=i[r],o=e[r];t.push(g1.encode(s,o))}return Hi(...t)}(function(i){function e(t,r,s=!1){if(t==="address"){let p=r;return Na(p),xn(p.toLowerCase(),s?32:0)}if(t==="string")return Da(r);if(t==="bytes")return r;if(t==="bool")return xn(Bf(r),s?32:1);let o=t.match(jf);if(o){let[p,m,d="256"]=o,f=Number.parseInt(d)/8;return Qt(r,{size:s?32:f,signed:m==="int"})}let l=t.match(IS);if(l){let[p,m]=l;if(Number.parseInt(m)!==(r.length-2)/2)throw new yu({expectedSize:Number.parseInt(m),value:r});return rn(r,s?32:0)}let u=t.match(vS);if(u&&Array.isArray(r)){let[p,m]=u,d=[];for(let f=0;f<r.length;f++)d.push(e(m,r[f],!0));return d.length===0?"0x":Hi(...d)}throw new _u(t)}i.encode=e})(g1||(g1={}));var Vf=class extends _t{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},yu=class extends _t{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${li(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},Kf=class extends _t{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},Wf=class extends _t{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},_u=class extends _t{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}};function SS(i,e){let{bytecode:t,args:r}=e;return Hi(t,i.inputs?.length&&r?.length?$f(i.inputs,r):"0x")}function wS(i){return zf(i)}function ES(i,...e){let{overloads:t}=i,r=t?nC([i,...t],i.name,{args:e[0]}):i,s=sC(r),o=e.length>0?$f(r.inputs,e[0]):void 0;return o?Hi(s,o):s}function no(i,e={}){return zf(i,e)}function nC(i,e,t){let r=_S(i,e,t);if(r.type!=="function")throw new ro({name:e,type:"function"});return r}function sC(i){return h1(i)}ti();var LS="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Cr="0x0000000000000000000000000000000000000000";Vd();rt();rr();var aC="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function TS(i,e){let{blockNumber:t,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:l,traceTransfers:u,validation:p}=e,m=e.account?at(e.account):void 0;if(l&&!m)throw new H("`account` is required when `traceAssetChanges` is true");let d=m?SS(wS("constructor(bytes, bytes)"),{bytecode:Gd,args:[aC,ES(no("function getBalance(address)"),[m.address])]}):void 0,f=l?await Promise.all(e.calls.map(async Ie=>{if(!Ie.data&&!Ie.abi)return;let{accessList:nt}=await ff(i,{account:m.address,...Ie,data:Ie.abi?Bt(Ie):Ie.data});return nt.map(({address:At,storageKeys:Xt})=>Xt.length>0?At:null)})).then(Ie=>Ie.flat().filter(Boolean)):[],g=o?.map(Ie=>Ie.address===m?.address?{...Ie,nonce:0}:Ie),y=await bu(i,{blockNumber:t,blockTag:r,blocks:[...l?[{calls:[{data:d}],stateOverrides:o},{calls:f.map((Ie,nt)=>({abi:[no("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[m.address],to:Ie,from:Cr,nonce:nt})),stateOverrides:[{address:Cr,nonce:0}]}]:[],{calls:[...s,{}].map((Ie,nt)=>({...Ie,from:m?.address,nonce:nt})),stateOverrides:g},...l?[{calls:[{data:d}]},{calls:f.map((Ie,nt)=>({abi:[no("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[m.address],to:Ie,from:Cr,nonce:nt})),stateOverrides:[{address:Cr,nonce:0}]},{calls:f.map((Ie,nt)=>({to:Ie,abi:[no("function decimals() returns (uint256)")],functionName:"decimals",from:Cr,nonce:nt})),stateOverrides:[{address:Cr,nonce:0}]},{calls:f.map((Ie,nt)=>({to:Ie,abi:[no("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Cr,nonce:nt})),stateOverrides:[{address:Cr,nonce:0}]},{calls:f.map((Ie,nt)=>({to:Ie,abi:[no("function symbol() returns (string)")],functionName:"symbol",from:Cr,nonce:nt})),stateOverrides:[{address:Cr,nonce:0}]}]:[]],traceTransfers:u,validation:p}),x=l?y[2]:y[0],[E,_,,S,M,O,j,Q]=l?y:[],{calls:V,...K}=x,W=V.slice(0,-1)??[],ne=E?.calls??[],se=_?.calls??[],ce=[...ne,...se].map(Ie=>Ie.status==="success"?Rt(Ie.data):null),oe=S?.calls??[],Je=M?.calls??[],he=[...oe,...Je].map(Ie=>Ie.status==="success"?Rt(Ie.data):null),Ae=(O?.calls??[]).map(Ie=>Ie.status==="success"?Ie.result:null),Le=(Q?.calls??[]).map(Ie=>Ie.status==="success"?Ie.result:null),R=(j?.calls??[]).map(Ie=>Ie.status==="success"?Ie.result:null),$e=[];for(let[Ie,nt]of he.entries()){let At=ce[Ie];if(typeof nt!="bigint"||typeof At!="bigint")continue;let Xt=Ae[Ie-1],oi=Le[Ie-1],bt=R[Ie-1],Bi=(()=>Ie===0?{address:LS,decimals:18,symbol:"ETH"}:{address:f[Ie-1],decimals:bt||Xt?Number(Xt??1):void 0,symbol:oi??void 0})();$e.some(Ti=>Ti.token.address===Bi.address)||$e.push({token:Bi,value:{pre:At,post:nt,diff:nt-At}})}return{assetChanges:$e,block:K,results:W}}Xs();Vd();Gn();$d();Bs();xa();br();ze();wd();gi();ai();function CS({r:i,s:e,to:t="hex",v:r,yParity:s}){let o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),l=`0x${new bn.Signature(Rt(i),Rt(e)).toCompactHex()}${o===0?"1b":"1c"}`;return t==="hex"?l:ei(l)}Sa();async function Pa(i,e){let{address:t,factory:r,factoryData:s,hash:o,signature:l,universalSignatureVerifierAddress:u=i.chain?.contracts?.universalSignatureVerifier?.address,...p}=e,m=(()=>Gt(l)?l:typeof l=="object"&&"r"in l&&"s"in l?CS(l):ut(l))(),d=await(async()=>!r&&!s||Xk(m)?m:Zk({address:r,data:s,signature:m}))();try{let f=u?{to:u,data:Bt({abi:G0,functionName:"isValidSig",args:[t,o,d]}),...p}:{data:eo({abi:G0,args:[t,o,d],bytecode:ek}),...p},{data:g}=await ke(i,Zr,"call")(f);return $_(g??"0x0")}catch(f){try{if(Xr(Ph(t),await Ed({hash:o,signature:l})))return!0}catch{}if(f instanceof zo)return!1;throw f}}async function AS(i,{address:e,message:t,factory:r,factoryData:s,signature:o,...l}){let u=Sf(t);return Pa(i,{address:e,factory:r,factoryData:s,hash:u,signature:o,...l})}async function MS(i,e){let{address:t,factory:r,factoryData:s,signature:o,message:l,primaryType:u,types:p,domain:m,...d}=e,f=Nk({message:l,primaryType:u,types:p,domain:m});return Pa(i,{address:t,factory:r,factoryData:s,hash:f,signature:o,...d})}wr();K0();Mi();gi();Mi();function qf(i,{emitOnBegin:e=!1,emitMissed:t=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:l=i.pollingInterval}){let u=(()=>typeof o<"u"?o:!(i.transport.type==="webSocket"||i.transport.type==="fallback"&&i.transport.transports[0].config.type==="webSocket"))(),p;return u?(()=>{let f=pt(["watchBlockNumber",i.uid,e,t,l]);return Ui(f,{onBlockNumber:r,onError:s},g=>Jr(async()=>{try{let y=await ke(i,en,"getBlockNumber")({cacheTime:0});if(p){if(y===p)return;if(y-p>1&&t)for(let x=p+1n;x<y;x++)g.onBlockNumber(x,p),p=x}(!p||y>p)&&(g.onBlockNumber(y,p),p=y)}catch(y){g.onError?.(y)}},{emitOnBegin:e,interval:l}))})():(()=>{let f=pt(["watchBlockNumber",i.uid,e,t]);return Ui(f,{onBlockNumber:r,onError:s},g=>{let y=!0,x=()=>y=!1;return(async()=>{try{let E=(()=>{if(i.transport.type==="fallback"){let S=i.transport.transports.find(M=>M.config.type==="webSocket");return S?S.value:i.transport}return i.transport})(),{unsubscribe:_}=await E.subscribe({params:["newHeads"],onData(S){if(!y)return;let M=Rt(S.result?.number);g.onBlockNumber(M,p),p=M},onError(S){g.onError?.(S)}});x=_,y||x()}catch(E){s?.(E)}})(),()=>x()})})()}async function RS(i,{confirmations:e=1,hash:t,onReplaced:r,pollingInterval:s=i.pollingInterval,retryCount:o=6,retryDelay:l=({count:p})=>~~(1<<p)*200,timeout:u=18e4}){let p=pt(["waitForTransactionReceipt",i.uid,t]),m,d,f,g=!1,{promise:y,resolve:x,reject:E}=Yd(),_=u?setTimeout(()=>E(new nd({hash:t})),u):void 0,S=Ui(p,{onReplaced:r,resolve:x,reject:E},M=>{let O=ke(i,qf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(j){let Q=K=>{clearTimeout(_),O(),K(),S()},V=j;if(!g)try{if(f){if(e>1&&(!f.blockNumber||V-f.blockNumber+1n<e))return;Q(()=>M.resolve(f));return}if(m||(g=!0,await uu(async()=>{m=await ke(i,Ra,"getTransaction")({hash:t}),m.blockNumber&&(V=m.blockNumber)},{delay:l,retryCount:o}),g=!1),f=await ke(i,hu,"getTransactionReceipt")({hash:t}),e>1&&(!f.blockNumber||V-f.blockNumber+1n<e))return;Q(()=>M.resolve(f))}catch(K){if(K instanceof Uo||K instanceof Ho){if(!m){g=!1;return}try{d=m,g=!0;let W=await uu(()=>ke(i,xi,"getBlock")({blockNumber:V,includeTransactions:!0}),{delay:l,retryCount:o,shouldRetry:({error:ce})=>ce instanceof ha});g=!1;let ne=W.transactions.find(({from:ce,nonce:oe})=>ce===d.from&&oe===d.nonce);if(!ne||(f=await ke(i,hu,"getTransactionReceipt")({hash:ne.hash}),e>1&&(!f.blockNumber||V-f.blockNumber+1n<e)))return;let se="replaced";ne.to===d.to&&ne.value===d.value&&ne.input===d.input?se="repriced":ne.from===ne.to&&ne.value===0n&&(se="cancelled"),Q(()=>{M.onReplaced?.({reason:se,replacedTransaction:d,transaction:ne,transactionReceipt:f}),M.resolve(f)})}catch(W){Q(()=>M.reject(W))}}else Q(()=>M.reject(K))}}})});return y}Mi();function BS(i,{blockTag:e="latest",emitMissed:t=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:l,poll:u,pollingInterval:p=i.pollingInterval}){let m=(()=>typeof u<"u"?u:!(i.transport.type==="webSocket"||i.transport.type==="fallback"&&i.transport.transports[0].config.type==="webSocket"))(),d=l??!1,f;return m?(()=>{let x=pt(["watchBlocks",i.uid,e,t,r,d,p]);return Ui(x,{onBlock:s,onError:o},E=>Jr(async()=>{try{let _=await ke(i,xi,"getBlock")({blockTag:e,includeTransactions:d});if(_.number&&f?.number){if(_.number===f.number)return;if(_.number-f.number>1&&t)for(let S=f?.number+1n;S<_.number;S++){let M=await ke(i,xi,"getBlock")({blockNumber:S,includeTransactions:d});E.onBlock(M,f),f=M}}(!f?.number||e==="pending"&&!_?.number||_.number&&_.number>f.number)&&(E.onBlock(_,f),f=_)}catch(_){E.onError?.(_)}},{emitOnBegin:r,interval:p}))})():(()=>{let x=!0,E=!0,_=()=>x=!1;return(async()=>{try{r&&ke(i,xi,"getBlock")({blockTag:e,includeTransactions:d}).then(O=>{x&&E&&(s(O,void 0),E=!1)});let S=(()=>{if(i.transport.type==="fallback"){let O=i.transport.transports.find(j=>j.config.type==="webSocket");return O?O.value:i.transport}return i.transport})(),{unsubscribe:M}=await S.subscribe({params:["newHeads"],async onData(O){if(!x)return;let j=await ke(i,xi,"getBlock")({blockNumber:O.blockNumber,includeTransactions:d}).catch(()=>{});x&&(s(j,f),E=!1,f=j)},onError(O){o?.(O)}});_=M,x||_()}catch(S){o?.(S)}})(),()=>_()})()}Mi();Jt();Yc();function DS(i,{address:e,args:t,batch:r=!0,event:s,events:o,fromBlock:l,onError:u,onLogs:p,poll:m,pollingInterval:d=i.pollingInterval,strict:f}){let g=(()=>typeof m<"u"?m:typeof l=="bigint"?!0:!(i.transport.type==="webSocket"||i.transport.type==="fallback"&&i.transport.transports[0].config.type==="webSocket"))(),y=f??!1;return g?(()=>{let _=pt(["watchEvent",e,t,r,i.uid,s,d,l]);return Ui(_,{onLogs:p,onError:u},S=>{let M;l!==void 0&&(M=l-1n);let O,j=!1,Q=Jr(async()=>{if(!j){try{O=await ke(i,gf,"createEventFilter")({address:e,args:t,event:s,events:o,strict:y,fromBlock:l})}catch{}j=!0;return}try{let V;if(O)V=await ke(i,as,"getFilterChanges")({filter:O});else{let K=await ke(i,en,"getBlockNumber")({});M&&M!==K?V=await ke(i,ka,"getLogs")({address:e,args:t,event:s,events:o,fromBlock:M+1n,toBlock:K}):V=[],M=K}if(V.length===0)return;if(r)S.onLogs(V);else for(let K of V)S.onLogs([K])}catch(V){O&&V instanceof $r&&(j=!1),S.onError?.(V)}},{emitOnBegin:!0,interval:d});return async()=>{O&&await ke(i,ls,"uninstallFilter")({filter:O}),Q()}})})():(()=>{let _=!0,S=()=>_=!1;return(async()=>{try{let M=(()=>{if(i.transport.type==="fallback"){let V=i.transport.transports.find(K=>K.config.type==="webSocket");return V?V.value:i.transport}return i.transport})(),O=o??(s?[s]:void 0),j=[];O&&(j=[O.flatMap(K=>Vr({abi:[K],eventName:K.name,args:t}))],s&&(j=j[0]));let{unsubscribe:Q}=await M.subscribe({params:["logs",{address:e,topics:j}],onData(V){if(!_)return;let K=V.result;try{let{eventName:W,args:ne}=va({abi:O??[],data:K.data,topics:K.topics,strict:y}),se=vi(K,{args:ne,eventName:W});p([se])}catch(W){let ne,se;if(W instanceof _r||W instanceof Hr){if(f)return;ne=W.abiItem.name,se=W.abiItem.inputs?.some(oe=>!("name"in oe&&oe.name))}let ce=vi(K,{args:se?[]:{},eventName:ne});p([ce])}},onError(V){u?.(V)}});S=Q,_||S()}catch(M){u?.(M)}})(),()=>S()})()}Mi();function OS(i,{batch:e=!0,onError:t,onTransactions:r,poll:s,pollingInterval:o=i.pollingInterval}){return(typeof s<"u"?s:i.transport.type!=="webSocket")?(()=>{let m=pt(["watchPendingTransactions",i.uid,e,o]);return Ui(m,{onTransactions:r,onError:t},d=>{let f,g=Jr(async()=>{try{if(!f)try{f=await ke(i,bf,"createPendingTransactionFilter")({});return}catch(x){throw g(),x}let y=await ke(i,as,"getFilterChanges")({filter:f});if(y.length===0)return;if(e)d.onTransactions(y);else for(let x of y)d.onTransactions([x])}catch(y){d.onError?.(y)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await ke(i,ls,"uninstallFilter")({filter:f}),g()}})})():(()=>{let m=!0,d=()=>m=!1;return(async()=>{try{let{unsubscribe:f}=await i.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!m)return;let y=g.result;r([y])},onError(g){t?.(g)}});d=f,m||d()}catch(f){t?.(f)}})(),()=>d()})()}function NS(i){let{scheme:e,statement:t,...r}=i.match(lC)?.groups??{},{chainId:s,expirationTime:o,issuedAt:l,notBefore:u,requestId:p,...m}=i.match(cC)?.groups??{},d=i.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...m,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...l?{issuedAt:new Date(l)}:{},...u?{notBefore:new Date(u)}:{},...p?{requestId:p}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...t?{statement:t}:{}}}var lC=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,cC=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;xa();function FS(i){let{address:e,domain:t,message:r,nonce:s,scheme:o,time:l=new Date}=i;if(t&&r.domain!==t||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&l>=r.expirationTime||r.notBefore&&l<r.notBefore)return!1;try{if(!r.address||e&&!Xr(r.address,e))return!1}catch{return!1}return!0}async function PS(i,e){let{address:t,domain:r,message:s,nonce:o,scheme:l,signature:u,time:p=new Date,...m}=e,d=NS(s);if(!d.address||!FS({address:t,domain:r,message:d,nonce:o,scheme:l,time:p}))return!1;let g=Sf(s);return Pa(i,{address:d.address,hash:g,signature:u,...m})}function US(i){return{call:e=>Zr(i,e),createAccessList:e=>ff(i,e),createBlockFilter:()=>Ak(i),createContractEventFilter:e=>jh(i,e),createEventFilter:e=>gf(i,e),createPendingTransactionFilter:()=>bf(i),estimateContractGas:e=>$I(i,e),estimateGas:e=>_a(i,e),getBalance:e=>Hd(i,e),getBlobBaseFee:()=>Mk(i),getBlock:e=>xi(i,e),getBlockNumber:e=>en(i,e),getBlockTransactionCount:e=>Rk(i,e),getBytecode:e=>e1(i,e),getChainId:()=>cr(i),getCode:e=>e1(i,e),getContractEvents:e=>zd(i,e),getEip712Domain:e=>hk(i,e),getEnsAddress:e=>vk(i,e),getEnsAvatar:e=>Lk(i,e),getEnsName:e=>Tk(i,e),getEnsResolver:e=>Ck(i,e),getEnsText:e=>df(i,e),getFeeHistory:e=>Dk(i,e),estimateFeesPerGas:e=>jI(i,e),getFilterChanges:e=>as(i,e),getFilterLogs:e=>Ok(i,e),getGasPrice:()=>da(i),getLogs:e=>ka(i,e),getProof:e=>eS(i,e),estimateMaxPriorityFeePerGas:e=>zI(i,e),getStorageAt:e=>tS(i,e),getTransaction:e=>Ra(i,e),getTransactionConfirmations:e=>iS(i,e),getTransactionCount:e=>fa(i,e),getTransactionReceipt:e=>hu(i,e),multicall:e=>rS(i,e),prepareTransactionRequest:e=>ss(i,e),readContract:e=>ui(i,e),sendRawTransaction:e=>wa(i,e),simulate:e=>bu(i,e),simulateBlocks:e=>bu(i,e),simulateCalls:e=>TS(i,e),simulateContract:e=>ok(i,e),verifyMessage:e=>AS(i,e),verifySiweMessage:e=>PS(i,e),verifyTypedData:e=>MS(i,e),uninstallFilter:e=>ls(i,e),waitForTransactionReceipt:e=>RS(i,e),watchBlocks:e=>BS(i,e),watchBlockNumber:e=>qf(i,e),watchContractEvent:e=>uk(i,e),watchEvent:e=>DS(i,e),watchPendingTransactions:e=>OS(i,e)}}function xu(i){let{key:e="public",name:t="Public Client"}=i;return of({...i,key:e,name:t,type:"publicClient"}).extend(US)}$d();function HS(i,e){let{abi:t,args:r,bytecode:s,...o}=e,l=eo({abi:t,args:r,bytecode:s});return Ea(i,{...o,...o.authorizationList?{to:null}:{},data:l})}Bs();async function zS(i){return i.account?.type==="local"?[i.account.address]:(await i.request({method:"eth_accounts"},{dedupe:!0})).map(t=>mn(t))}async function jS(i){return await i.request({method:"wallet_getPermissions"},{dedupe:!0})}ti();xa();async function Yf(i,e){let{account:t=i.account,chainId:r,nonce:s}=e;if(!t)throw new Ii({docsPath:"/docs/eip7702/prepareAuthorization"});let o=at(t),l=(()=>{if(e.executor)return e.executor==="self"?e.executor:at(e.executor)})(),u={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof u.chainId>"u"&&(u.chainId=i.chain?.id??await ke(i,cr,"getChainId")({})),typeof u.nonce>"u"&&(u.nonce=await ke(i,fa,"getTransactionCount")({address:o.address,blockTag:"pending"}),(l==="self"||l?.address&&Xr(l.address,o.address))&&(u.nonce+=1)),u}Bs();async function GS(i){return(await i.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(t=>Ph(t))}async function VS(i,e){return i.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}ti();async function WS(i,e){let{account:t=i.account}=e;if(!t)throw new Ii({docsPath:"/docs/eip7702/signAuthorization"});let r=at(t);if(!r.signAuthorization)throw new cs({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});let s=await Yf(i,e);return r.signAuthorization(s)}ti();ze();async function KS(i,{account:e=i.account,message:t}){if(!e)throw new Ii({docsPath:"/docs/actions/wallet/signMessage"});let r=at(e);if(r.signMessage)return r.signMessage({message:t});let s=(()=>typeof t=="string"?xr(t):t.raw instanceof Uint8Array?Re(t.raw):t.raw)();return i.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}ti();ze();Ys();rs();async function $S(i,e){let{account:t=i.account,chain:r=i.chain,...s}=e;if(!t)throw new Ii({docsPath:"/docs/actions/wallet/signTransaction"});let o=at(t);Fi({account:o,...e});let l=await ke(i,cr,"getChainId")({});r!==null&&ef({currentChainId:l,chain:r});let p=(r?.formatters||i.chain?.formatters)?.transactionRequest?.format||lr;return o.signTransaction?o.signTransaction({...s,chainId:l},{serializer:i.chain?.serializers?.transaction}):await i.request({method:"eth_signTransaction",params:[{...p(s),chainId:we(l),from:o.address}]},{retryCount:0})}ti();async function qS(i,e){let{account:t=i.account,domain:r,message:s,primaryType:o}=e;if(!t)throw new Ii({docsPath:"/docs/actions/wallet/signTypedData"});let l=at(t),u={EIP712Domain:If({domain:r}),...e.types};if(vf({domain:r,message:s,primaryType:o,types:u}),l.signTypedData)return l.signTypedData({domain:r,message:s,primaryType:o,types:u});let p=zk({domain:r,message:s,primaryType:o,types:u});return i.request({method:"eth_signTypedData_v4",params:[l.address,p]},{retryCount:0})}ze();async function YS(i,{id:e}){await i.request({method:"wallet_switchEthereumChain",params:[{chainId:we(e)}]},{retryCount:0})}async function QS(i,e){return await i.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function XS(i){return{addChain:e=>dk(i,e),deployContract:e=>HS(i,e),getAddresses:()=>zS(i),getChainId:()=>cr(i),getPermissions:()=>jS(i),prepareAuthorization:e=>Yf(i,e),prepareTransactionRequest:e=>ss(i,e),requestAddresses:()=>GS(i),requestPermissions:e=>VS(i,e),sendRawTransaction:e=>wa(i,e),sendTransaction:e=>Ea(i,e),signAuthorization:e=>WS(i,e),signMessage:e=>KS(i,e),signTransaction:e=>$S(i,e),signTypedData:e=>qS(i,e),switchChain:e=>YS(i,e),watchAsset:e=>QS(i,e),writeContract:e=>mk(i,e)}}function Ua(i){let{key:e="wallet",name:t="Wallet Client",transport:r}=i;return of({...i,key:e,name:t,transport:r,type:"walletClient"}).extend(XS)}ze();Yh();wd();ze();function vu(){return Re(bn.utils.randomPrivateKey())}var ZS={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}};gi();var JS={block:HI({format(i){return{transactions:i.transactions?.map(t=>{if(typeof t=="string")return t;let r=Qs(t);return r.typeHex==="0x7e"&&(r.isSystemTx=t.isSystemTx,r.mint=t.mint?Rt(t.mint):void 0,r.sourceHash=t.sourceHash,r.type="deposit"),r}),stateRoot:i.stateRoot}}}),transaction:UI({format(i){let e={};return i.type==="0x7e"&&(e.isSystemTx=i.isSystemTx,e.mint=i.mint?Rt(i.mint):void 0,e.sourceHash=i.sourceHash,e.type="deposit"),e}}),transactionReceipt:qk({format(i){return{l1GasPrice:i.l1GasPrice?Rt(i.l1GasPrice):null,l1GasUsed:i.l1GasUsed?Rt(i.l1GasUsed):null,l1Fee:i.l1Fee?Rt(i.l1Fee):null,l1FeeScalar:i.l1FeeScalar?Number(i.l1FeeScalar):null}}})};zr();Sr();ir();ze();function uC(i,e){return mC(i)?pC(i):Kk(i,e)}var ew={transaction:uC};function pC(i){hC(i);let{sourceHash:e,data:t,from:r,gas:s,isSystemTx:o,mint:l,to:u,value:p}=i,m=[e,r,u??"0x",l?Re(l):"0x",p?Re(p):"0x",s?Re(s):"0x",o?"0x1":"0x",t??"0x"];return bi(["0x7e",Tr(m)])}function mC(i){return i.type==="deposit"||typeof i.sourceHash<"u"}function hC(i){let{from:e,to:t}=i;if(e&&!wt(e))throw new Mt({address:e});if(t&&!wt(t))throw new Mt({address:t})}var so={contracts:ZS,formatters:JS,serializers:ew};var Iu=Nt({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}});var Qf=Nt({id:97,name:"Binance Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0});var Xf=Nt({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}});var Zf=Nt({id:1890,name:"LightLink Phoenix Mainnet",network:"lightlink-phoenix",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://replicator.phoenix.lightlink.io/rpc/v1"]}},blockExplorers:{default:{name:"LightLink Phoenix Explorer",url:"https://phoenix.lightlink.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:125499184}},testnet:!1});var Ha=Nt({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});var Jf=Nt({id:5e3,name:"Mantle",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Explorer",url:"https://mantlescan.xyz/",apiUrl:"https://api.mantlescan.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:304717}}});var eg=Nt({id:5003,name:"Mantle Sepolia Testnet",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.sepolia.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Testnet Explorer",url:"https://explorer.sepolia.mantle.xyz/",apiUrl:"https://explorer.sepolia.mantle.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4584012}},testnet:!0});var tg=56,ig=Nt({id:204,name:"opBNB",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://opbnb-mainnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opBNB (BSCScan)",url:"https://opbnb.bscscan.com",apiUrl:"https://api-opbnb.bscscan.com/api"}},contracts:{...so.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:512881},l2OutputOracle:{[tg]:{address:"0x153CAB79f4767E2ff862C94aa49573294B13D169"}},portal:{[tg]:{address:"0x1876EA7702C0ad0C6A2ae6036DE7733edfBca519"}},l1StandardBridge:{[tg]:{address:"0xF05F0e4362859c3331Cb9395CBC201E3Fa6757Ea"}}},sourceId:tg});var rg=97,ng=Nt({id:5611,name:"opBNB Testnet",nativeCurrency:{decimals:18,name:"tBNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://opbnb-testnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opbnbscan",url:"https://testnet.opbnbscan.com"}},contracts:{...so.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3705108},l2OutputOracle:{[rg]:{address:"0xFf2394Bb843012562f4349C6632a0EcB92fC8810"}},portal:{[rg]:{address:"0x4386C8ABf2009aC0c263462Da568DD9d46e52a31"}},l1StandardBridge:{[rg]:{address:"0x677311Fd2cCc511Bbc0f581E8d9a07B033D5E840"}}},testnet:!0,sourceId:rg});var ku=1,sg=Nt({...so,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...so.contracts,disputeGameFactory:{[ku]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[ku]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[ku]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[ku]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:ku});var og=Nt({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});var b1=class i{constructor(){this._isLoading=!1}static getInstance(){return i._instance||(i._instance=new i),i._instance}get isLoading(){return this._isLoading}init(){if(!this.txtLoadingView){var e=Laya.loader.getRes("scenes/notice/TxtLoadingView.lh");this.txtLoadingView=e.create()}}showLoading(e=!1){if(console.log("showLoading..."+e),this.txtLoadingView)e?(this._isLoading=!0,this.showMaskLoading(),this.showLazyLoading(),this._isLoading=!1):(this._isLoading=!0,this.showMaskLoading(),Laya.timer.once(3e3,this,this.showLazyLoading)),this.txtLoadingView.m_txtLabel&&(this.txtLoadingView.m_txtLabel.visible=!1);else return}showLoadingByInfo(e=""){console.log("showLoadingByInfo..."+e),this._isLoading=!0,this.showMaskLoading(),this.showLazyLoading(),this.txtLoadingView.zOrder=1000001,this.txtLoadingView.m_txtLabel.text=e,this.txtLoadingView.m_txtLabel.visible=!0}showMaskLoading(){this._isLoading&&(this.txtLoadingView.backLayer.name="backLayer",this.txtLoadingView.backLayer.mouseEnabled=!0,this.txtLoadingView.backLayer.mouseThrough=!1,this.txtLoadingView.backLayer.visible=!0)}showLazyLoading(){this._isLoading&&(console.log("showLazyLoading..."),this.txtLoadingView.visible=!0,this.txtLoadingView.zOrder=1000001,Laya.stage.addChild(this.txtLoadingView),this.txtLoadingView.x=(Laya.stage.width-this.txtLoadingView.width)/2,this.txtLoadingView.y=(Laya.stage.height-this.txtLoadingView.height)/2),Laya.timer.clear(this,this.showLazyLoading)}hideLoading(){if(console.log("hideLoading..."),this._isLoading=!1,this.txtLoadingView)this.txtLoadingView.removeSelf();else return}dispose(){this.txtLoadingView&&(this.txtLoadingView.destroy(),this.txtLoadingView.removeSelf(),this.txtLoadingView=null),this.txtLoadingView.backLayer&&(this.txtLoadingView.backLayer.destroy(),this.txtLoadingView.backLayer.removeSelf(),this.txtLoadingView.backLayer=null)}},lt=b1.getInstance();var tt=class extends Laya.Event{constructor(){super()}};tt.EVENT_GLOBAL_ERROR_CODE="EVENT_GLOBAL_ERROR_CODE",tt.EVENT_HALL_SOCKET_OPEN="EVENT_HALL_SOCKET_OPEN",tt.EVENT_HALL_SOCKET_ERROR="EVENT_HALL_SOCKET_ERROR",tt.EVENT_HALL_SOCKET_CLOSE="EVENT_HALL_SOCKET_CLOSE",tt.EVENT_HALL_STOP_HEART="EVENT_HALL_STOP_HEART",tt.EVENT_HALL_SHOW_TIP_DELAY="EVENT_HALL_SHOW_TIP_DELAY",tt.EVENT_ROOM_SOCKET_OPEN="EVENT_ROOM_SOCKET_OPEN",tt.EVENT_ROOM_SOCKET_ERROR="EVENT_ROOM_SOCKET_ERROR",tt.EVENT_ROOM_SOCKET_CLOSE="EVENT_ROOM_SOCKET_CLOSE",tt.EVENT_ROOM_STOP_HEART="EVENT_ROOM_STOP_HEART",tt.EVENT_ROOM_SHOW_TIP_DELAY="EVENT_ROOM_SHOW_TIP_DELAY";var L=class{};L.FindView="FindView",L.FindEndView="FindEndView",L.FindAskDialog="FindAskDialog",L.FindRankUpDialog="FindRankUpDialog",L.QuickTipDialog="QuickTipDialog",L.QuickEndView="QuickEndView",L.QuickShareView="QuickShareView",L.QuickOperatorDialog="QuickOperatorDialog",L.MainView="MainView",L.RoleDialog="RoleDialog",L.RemGetDialog="RemGetDialog",L.QuickRechargeDialog="QuickRechargeDialog",L.CreateNameDialog="CreateNameDialog",L.DailyTaskDialog="DailyTaskDialog",L.ActivityTaskDialog="ActivityTaskDialog",L.ShareDialog="ShareDialog",L.InvitationCenterDialog="InvitationCenterDialog",L.DailyTaskDrawDialog="DailyTaskDrawDialog",L.GuideView="GuideView",L.GuideDialogView="GuideDialogView",L.ShareView="ShareView",L.MainTopView="MainTopView",L.GetMoreDialog="GetMoreDialog",L.ShopView="ShopView",L.ItemGetDialog="ItemGetDialog",L.EquipStarUpDialog="EquipStarUpDialog",L.RewardGetDialog="RewardGetDialog",L.AssetNewView="AssetNewView",L.GetTitleDialog="GetTitleDialog",L.NewFunUnLockDialog="NewFunUnLockDialog",L.DialogView="DialogView",L.MallView="MallView",L.MallCardView="MallCardView",L.MallBuyDialog="MallBuyDialog",L.FittingUiView="FittingUiView",L.TaskDialog="TaskDialog",L.CommentDialog="CommentDialog",L.PotraitChangDialog="PotraitChangDialog",L.ClothespressView="ClothespressView",L.ItemSellDialog="ItemSellDialog",L.ItemInfoDialog="ItemInfoDialog",L.OnlineAward="OnlineAward",L.MaillView="MailView",L.MailSendView="MailSendView",L.GameSettingDialog="GameSettingDialog",L.GamesettingSoundView="GamesettingSoundView",L.GameSettingLanguageDialog="GameSettingLanguageDialog",L.GameSettingVersionDialog="GameSettingVersionDialog",L.FriendMainView="FriendMainView",L.FriendSearchView="FriendSearchView",L.FriendGetRewardDialog="FriendGetRewardDialog",L.FriendRewardDialog="FriendRewardDialog",L.PreLoadingView="PreLoadingView",L.RechargeDialog="RechargeDialog",L.WalletChooseHeroDialog="WalletChooseHeroDialog",L.EmployInfoDialog="EmployInfoDialog",L.WalletChoosePropsDialog="WalletChoosePropsDialog",L.FirstRechargeDialog="FirstRechargeDialog",L.FirstWeekRechargeView="FirstWeekRechargeView",L.ClientErrView="ClientErrView",L.RoleUpgradeView="RoleUpgradeView",L.ActiveRechargeView="ActiveRechargeView",L.SmallSaleView="SmallSaleView",L.RechargeSelectDialog="RechargeSelectDialog",L.FBLikeView="FBLikeView",L.TurnSuitPreView="TurnSuitPreView",L.SlotMachineView="SlotMachineView",L.SlotMachineRewardPreDialog="SlotMachineRewardPreDialog",L.SlotMachineResultDialog="SlotMachineResultDialog",L.GashaponView="GashaponView",L.GashaponRewardView="GashaponRewardView",L.ActivityRankRewardView="ActivityRankRewardView",L.AddRechargeView="AddRechargeView",L.CupMatchStartDialog="CupMatchStartDialog",L.CupMatchEndDialog="CupMatchEndDialog",L.CreateLoginView="CreateLoginView",L.SelectHeadDialog="SelectHeadDialog",L.RoleInfoDialog="RoleInfoDialog",L.SelectHeroDialog="SelectHeroDialog",L.CreateSubWalletDialog="CreateSubWalletDialog",L.WalletDialog="WalletDialog",L.WalletTransferDialog="WalletTransferDialog",L.CardPayView="CardPayView",L.SwapView="SwapView",L.GamesettingView="GamesettingView",L.GameSettingGameAccountView="GameSettingGameAccountView",L.NoticeDialog="NoticeDialog",L.HelpDialog="HelpDialog",L.ImgDialog="ImgDialog",L.ChampDetailDialog="ChampDetailDialog",L.ChampRecordDialog="ChampRecordDialog",L.GuildInfoDialog="GuildInfoDialog",L.CreateUnionDialog="CreateUnionDialog",L.UnionInfoView="UnionInfoView",L.UnionEarningView="UnionEarningView",L.UnionRevenueDetailDialog="UnionRevenueDetailDialog",L.UnionSetRevenueDialog="UnionSetRevenueDialog",L.UnionBattleRecordDialog="UnionBattleRecordDialog",L.UnionRevenueRecordDialog="UnionRevenueRecordDialog",L.LoadDialog="LoadDialog",L.ChangeHeadDialog="ChangeHeadDialog",L.CreateRoomDialog="CreateRoomDialog",L.CreateRentalDialog="CreateRentalDialog",L.MyLeasedDialog="MyLeasedDialog",L.MyRentedDialog="MyRentedDialog",L.MyRentalBuyDialog="MyRentalBuyDialog",L.BuyTicketDialog="BuyTicketDialog",L.EnterRoomView="EnterRoomView",L.MatchEndRankView="MatchEndRankView",L.MatchEndTeamRankView="MatchEndTeamRankView",L.MatchReadyView="MatchReadyView",L.MatchEndView="MatchEndView",L.MatchEndRewardTokensDialog="MatchEndRewardTokensDialog",L.HeroGetDialog="HeroGetDialog",L.InputPwdDialog="InputPwdDialog",L.RoomInfoDialog="RoomInfoDialog",L.MailDialog="MailDialog",L.TeamCreateShareDialog="TeamCreateShareDialog",L.TeamShareDialog="TeamShareDialog",L.TeamJoinUsingDialog="TeamJoinUsingDialog",L.MyTeamDialog="MyTeamDialog",L.TeamInfoDialog="TeamInfoDialog",L.MyFriendDialog="MyFriendDialog",L.BuyPropDialog="BuyPropDialog",L.UnionAttrView="UnionAttrView",L.UnionAttrLvUpDialog="UnionAttrLvUpDialog",L.UnionAttributeDetailsDialog="UnionAttributeDetailsDialog",L.NoServerView="NoServerView",L.UnionMemberMoreDialog="UnionMemberMoreDialog",L.HeroUpgradeDialog="HeroUpgradeDialog",L.HeroDetailDialog="HeroDetailDialog",L.SkillTipDialog="SkillTipDialog",L.TransferRecordDialog="TransferRecordDialog",L.JoinRoomDialog="JoinRoomDialog",L.SnakeUpgradeDialog="SnakeUpgradeDialog",L.SnakeUpgradeSuccessDialog="SnakeUpgradeSuccessDialog",L.PlayerUpgradeSuccessDialog="PlayerUpgradeSuccessDialog",L.Knapsack="Knapsack",L.KnapsackTipDialog="KnapsackTipDialog",L.HeroFormationDialog="HeroFormationDialog",L.SignInDialog="SignInDialog",L.InviteRewardDialog="InviteRewardDialog",L.ChallengLoseDialog="ChallengLoseDialog",L.ChallengWinDialog="ChallengWinDialog",L.ChallengBossDialog="ChallengBossDialog",L.ThirbleDropDialog="ThirbleDropDialog",L.LevelDropDialog="LevelDropDialog",L.UseCardDialog="UseCardDialog",L.ArenaView="ArenaView",L.MyBookingView="MyBookingView",L.ArenaLoseDialog="ArenaLoseDialog",L.ArenaBattleDialog="ArenaBattleDialog",L.ArenaWinDialog="ArenaWinDialog",L.ArenaWarNotesView="ArenaWarNotesView",L.ArenaRuleDialog="ArenaRuleDialog",L.EquipSelectDialog="EquipSelectDialog",L.EquipDetailDialog="EquipDetailDialog",L.HireDetailDialog="HireDetailDialog",L.ProxyDetailDialog="ProxyDetailDialog",L.WithDrawRecordDialog="WithDrawRecordDialog",L.NodeRevenueRecordDialog="NodeRevenueRecordDialog",L.RentalRecordDialog="RentalRecordDialog",L.PrivateChatDialog="PrivateChatDialog",L.AirdropRecordDialog="AirdropRecordDialog",L.ActivityInfoDialog="ActivityInfoDialog",L.CharacterStarDialog="CharacterStarDialog",L.LastDrawDialog="LastDrawDialog",L.IgoPageView="IgoPageView",L.IgoJoinDialog="IgoJoinDialog",L.IgoRecordDialog="IgoRecordDialog",L.PveChoosePropsDialog="PveChoosePropsDialog",L.ReferralDialog="ReferralDialog",L.ReferralL2Dialog="ReferralL2Dialog",L.TotalBattlesDialog="TotalBattlesDialog",L.DepositDialog="DepositDialog",L.WithdrawDialog="WithdrawDialog",L.CreateClubDialog="CreateClubDialog",L.CreateClubRoomDialog="CreateClubRoomDialog",L.SettingRateDialog="SettingRateDialog",L.ChangeClubHeadDialog="ChangeClubHeadDialog",L.JoinClubRoomDialog="JoinClubRoomDialog";var c=vx(Ow());var b;(e=>{let i;(r=>{let t;(Ku=>{var $u,qu,Yu,Qu,Xu,Zu,Ju,ep,tp,ip,rp,np,sp,op,ap,lp,cp,up,pp,mp,hp,dp,fp,gp,bp,yp,_p,xp,vp,Ip,kp,Sp,wp,Ep,Lp,Tp,Cp,Ap,Mp,Rp,Bp,Dp,Op,Np,Fp,Pp,Up,Hp,zp,jp,Gp,Vp,Wp,Kp,$p,qp,Yp,Qp,Xp,Zp,Jp,em,tm,im,rm,nm,sm,om,am,lm,cm,um,pm,mm,hm,dm,fm,gm,bm,ym,_m,xm,vm,Im,km,Sm;let s;($t=>($t[$t.SYS_NORMAL=1]="SYS_NORMAL",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.USER_NOT_EXIST=3]="USER_NOT_EXIST",$t[$t.SYS_DATA_ERROR=4]="SYS_DATA_ERROR",$t[$t.WALLET_ADDRESS_ERROR=5]="WALLET_ADDRESS_ERROR",$t[$t.NOT_ENOUGH_ITEM=6]="NOT_ENOUGH_ITEM",$t[$t.NOT_ENOUGH_TOKEN=7]="NOT_ENOUGH_TOKEN",$t[$t.MAX_INVITE=8]="MAX_INVITE",$t[$t.CREATE_ROOM_MAX=9]="CREATE_ROOM_MAX",$t[$t.USER_BAN=10]="USER_BAN"))(s=Ku.MessageCode||(Ku.MessageCode={}));let o;($=>($[$.MSG_HEART_BEAT=10001]="MSG_HEART_BEAT",$[$.MSG_REG_HALL=10002]="MSG_REG_HALL",$[$.MSG_REG_ROOM=10003]="MSG_REG_ROOM",$[$.MSG_REMOVE_HALL=11002]="MSG_REMOVE_HALL",$[$.MSG_REMOVE_ROOM=11003]="MSG_REMOVE_ROOM",$[$.MSG_USER_REGISTER=101]="MSG_USER_REGISTER",$[$.MSG_USER_LOGIN=102]="MSG_USER_LOGIN",$[$.MSG_REPEAT_LOGIN_NOTICE=103]="MSG_REPEAT_LOGIN_NOTICE",$[$.MSG_REQUEST_ROOM_ADDR=104]="MSG_REQUEST_ROOM_ADDR",$[$.MSG_ENTER_ROOM=105]="MSG_ENTER_ROOM",$[$.MSG_PLAYER_OPR=106]="MSG_PLAYER_OPR",$[$.MSG_PLAYER_STATE=107]="MSG_PLAYER_STATE",$[$.MSG_GEN_FOOD=108]="MSG_GEN_FOOD",$[$.MSG_UPDATE_ROLE=109]="MSG_UPDATE_ROLE",$[$.MSG_NOTICE_ENTER=110]="MSG_NOTICE_ENTER",$[$.MSG_BATTLE_END=111]="MSG_BATTLE_END",$[$.MSG_EAT_FOOD=112]="MSG_EAT_FOOD",$[$.MSG_PLAYER_COLLISION=113]="MSG_PLAYER_COLLISION",$[$.MSG_REQUEST_SERVER_TIME=114]="MSG_REQUEST_SERVER_TIME",$[$.MSG_REQUEST_ROOM_DATA=115]="MSG_REQUEST_ROOM_DATA",$[$.MSG_INVITE_LIST=116]="MSG_INVITE_LIST",$[$.MSG_REQUEST_INFO=117]="MSG_REQUEST_INFO",$[$.MSG_SHOP_BUY=118]="MSG_SHOP_BUY",$[$.MSG_PUSH=119]="MSG_PUSH",$[$.MSG_QUERY_TOKEN=120]="MSG_QUERY_TOKEN",$[$.MSG_PLAYER_OUT=121]="MSG_PLAYER_OUT",$[$.MSG_CHARGE=122]="MSG_CHARGE",$[$.MSG_WITHDRAW=123]="MSG_WITHDRAW",$[$.MSG_PACK_INFO=124]="MSG_PACK_INFO",$[$.MSG_TRANSFER=125]="MSG_TRANSFER",$[$.MSG_WITHDRAW_INFO=126]="MSG_WITHDRAW_INFO",$[$.MSG_CHARGE_RECORD=127]="MSG_CHARGE_RECORD",$[$.MSG_WITHDRAW_RECORD=128]="MSG_WITHDRAW_RECORD",$[$.MSG_SNAKE_UPGRADE=129]="MSG_SNAKE_UPGRADE",$[$.MSG_SNAKE_FIGHT=130]="MSG_SNAKE_FIGHT",$[$.MSG_MAIL_CHECK=131]="MSG_MAIL_CHECK",$[$.MSG_MAIL_LIST=132]="MSG_MAIL_LIST",$[$.MSG_MAIL_GET=133]="MSG_MAIL_GET",$[$.MSG_MAIL_DELETE=134]="MSG_MAIL_DELETE",$[$.MSG_NEW_MAIL=135]="MSG_NEW_MAIL",$[$.MSG_SYS_NOTICE=136]="MSG_SYS_NOTICE",$[$.MSG_CHANGE_INFO=137]="MSG_CHANGE_INFO",$[$.MSG_AI_ENTER=138]="MSG_AI_ENTER",$[$.MSG_AI_END=139]="MSG_AI_END",$[$.MSG_OPEN_BOX=140]="MSG_OPEN_BOX",$[$.MSG_REQUEST_PRICE=141]="MSG_REQUEST_PRICE",$[$.MSG_REQUEST_RANK=142]="MSG_REQUEST_RANK",$[$.MSG_LVUP_NOTICE=143]="MSG_LVUP_NOTICE",$[$.MSG_CREATE_CLUB=144]="MSG_CREATE_CLUB",$[$.MSG_CLUB_INFO=145]="MSG_CLUB_INFO",$[$.MSG_SET_COMMISSION=146]="MSG_SET_COMMISSION",$[$.MSG_CLUB_CHANGE_INFO=147]="MSG_CLUB_CHANGE_INFO",$[$.MSG_CREATE_CUSTOM_ROOM=148]="MSG_CREATE_CUSTOM_ROOM",$[$.MSG_CLUB_ROOM=149]="MSG_CLUB_ROOM",$[$.MSG_REQUEST_PROFIT=150]="MSG_REQUEST_PROFIT",$[$.GM_SEND_SYS_NOTICE=2e3]="GM_SEND_SYS_NOTICE",$[$.GM_SEND_SYS_MAIL=2001]="GM_SEND_SYS_MAIL",$[$.GM_QUERY_ROLE=2002]="GM_QUERY_ROLE",$[$.GM_BAN_ROLE=2003]="GM_BAN_ROLE"))(o=Ku.MessageType||(Ku.MessageType={}));let Ja=class Ja extends c.Message{constructor(n){super();fe(this,$u,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,$u)),!Array.isArray(n)&&typeof n=="object"&&(this.msghead=n.msghead,"msgbody"in n&&n.msgbody!=null&&(this.msgbody=n.msgbody))}get msghead(){return c.Message.getWrapperField(this,u,1)}set msghead(n){c.Message.setWrapperField(this,1,n)}get has_msghead(){return c.Message.getField(this,1)!=null}get msgbody(){return c.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set msgbody(n){c.Message.setField(this,2,n)}get has_msgbody(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new Ja({msghead:u.fromObject(n.msghead)});return n.msgbody!=null&&(a.msgbody=n.msgbody),a}toObject(){let n={};return this.msghead!=null&&(n.msghead=this.msghead.toObject()),this.msgbody!=null&&(n.msgbody=this.msgbody),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_msghead&&a.writeMessage(1,this.msghead,()=>this.msghead.serialize(a)),this.has_msgbody&&this.msgbody.length&&a.writeBytes(2,this.msgbody),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Ja;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.msghead,()=>h.msghead=u.deserialize(a));break;case 2:h.msgbody=a.readBytes();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Ja.deserialize(n)}};$u=new WeakMap;let l=Ja;Ku.CMsgBase=Ja;let el=class el extends c.Message{constructor(n){super();fe(this,qu,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,qu)),!Array.isArray(n)&&typeof n=="object"&&(this.msgtype=n.msgtype,this.msgcode=n.msgcode,"roleId"in n&&n.roleId!=null&&(this.roleId=n.roleId))}get msgtype(){return c.Message.getField(this,1)}set msgtype(n){c.Message.setField(this,1,n)}get has_msgtype(){return c.Message.getField(this,1)!=null}get msgcode(){return c.Message.getField(this,2)}set msgcode(n){c.Message.setField(this,2,n)}get has_msgcode(){return c.Message.getField(this,2)!=null}get roleId(){return c.Message.getFieldWithDefault(this,3,"")}set roleId(n){c.Message.setField(this,3,n)}get has_roleId(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new el({msgtype:n.msgtype,msgcode:n.msgcode});return n.roleId!=null&&(a.roleId=n.roleId),a}toObject(){let n={};return this.msgtype!=null&&(n.msgtype=this.msgtype),this.msgcode!=null&&(n.msgcode=this.msgcode),this.roleId!=null&&(n.roleId=this.roleId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_msgtype&&a.writeInt32(1,this.msgtype),this.has_msgcode&&a.writeInt32(2,this.msgcode),this.has_roleId&&this.roleId.length&&a.writeString(3,this.roleId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new el;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.msgtype=a.readInt32();break;case 2:h.msgcode=a.readInt32();break;case 3:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return el.deserialize(n)}};qu=new WeakMap;let u=el;Ku.CMsgHead=el;let tl=class tl extends c.Message{constructor(n){super();fe(this,Yu,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Yu)),!Array.isArray(n)&&typeof n=="object"&&(this.roleId=n.roleId)}get roleId(){return c.Message.getField(this,1)}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}static fromObject(n){return new tl({roleId:n.roleId})}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new tl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return tl.deserialize(n)}};Yu=new WeakMap;let p=tl;Ku.CS_BAN_ROLE=tl;let il=class il extends c.Message{constructor(n){super();fe(this,Qu,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Qu)),!Array.isArray(n)&&typeof n=="object"&&(this.roleId=n.roleId,this.type=n.type)}get roleId(){return c.Message.getField(this,1)}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getField(this,2)}set type(n){c.Message.setField(this,2,n)}get has_type(){return c.Message.getField(this,2)!=null}static fromObject(n){return new il({roleId:n.roleId,type:n.type})}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),this.type!=null&&(n.type=this.type),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_type&&a.writeInt32(2,this.type),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new il;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return il.deserialize(n)}};Qu=new WeakMap;let m=il;Ku.CS_QUERY_ROLE=il;let rl=class rl extends c.Message{constructor(n){super();fe(this,Xu,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Xu)),!Array.isArray(n)&&typeof n=="object"&&"ro"in n&&n.ro!=null&&(this.ro=n.ro)}get ro(){return c.Message.getWrapperField(this,x,1)}set ro(n){c.Message.setWrapperField(this,1,n)}get has_ro(){return c.Message.getField(this,1)!=null}static fromObject(n){let a=new rl({});return n.ro!=null&&(a.ro=x.fromObject(n.ro)),a}toObject(){let n={};return this.ro!=null&&(n.ro=this.ro.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_ro&&a.writeMessage(1,this.ro,()=>this.ro.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new rl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.ro,()=>h.ro=x.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return rl.deserialize(n)}};Xu=new WeakMap;let d=rl;Ku.SC_QUERY_ROLE=rl;let nl=class nl extends c.Message{constructor(n){super();fe(this,Zu,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Zu)),!Array.isArray(n)&&typeof n=="object"&&("content"in n&&n.content!=null&&(this.content=n.content),"dif"in n&&n.dif!=null&&(this.dif=n.dif),"times"in n&&n.times!=null&&(this.times=n.times))}get content(){return c.Message.getFieldWithDefault(this,1,"")}set content(n){c.Message.setField(this,1,n)}get has_content(){return c.Message.getField(this,1)!=null}get dif(){return c.Message.getFieldWithDefault(this,2,0)}set dif(n){c.Message.setField(this,2,n)}get has_dif(){return c.Message.getField(this,2)!=null}get times(){return c.Message.getFieldWithDefault(this,3,0)}set times(n){c.Message.setField(this,3,n)}get has_times(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new nl({});return n.content!=null&&(a.content=n.content),n.dif!=null&&(a.dif=n.dif),n.times!=null&&(a.times=n.times),a}toObject(){let n={};return this.content!=null&&(n.content=this.content),this.dif!=null&&(n.dif=this.dif),this.times!=null&&(n.times=this.times),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_content&&this.content.length&&a.writeString(1,this.content),this.has_dif&&a.writeInt32(2,this.dif),this.has_times&&a.writeInt32(3,this.times),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new nl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.content=a.readString();break;case 2:h.dif=a.readInt32();break;case 3:h.times=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return nl.deserialize(n)}};Zu=new WeakMap;let f=nl;Ku.CS_SEND_SYS_NOTICE=nl;let sl=class sl extends c.Message{constructor(n){super();fe(this,Ju,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[4,5],de(this,Ju)),!Array.isArray(n)&&typeof n=="object"&&("sendName"in n&&n.sendName!=null&&(this.sendName=n.sendName),"title"in n&&n.title!=null&&(this.title=n.title),"content"in n&&n.content!=null&&(this.content=n.content),this.items=n.items,this.recId=n.recId)}get sendName(){return c.Message.getFieldWithDefault(this,1,"")}set sendName(n){c.Message.setField(this,1,n)}get has_sendName(){return c.Message.getField(this,1)!=null}get title(){return c.Message.getFieldWithDefault(this,2,"")}set title(n){c.Message.setField(this,2,n)}get has_title(){return c.Message.getField(this,2)!=null}get content(){return c.Message.getFieldWithDefault(this,3,"")}set content(n){c.Message.setField(this,3,n)}get has_content(){return c.Message.getField(this,3)!=null}get items(){return c.Message.getFieldWithDefault(this,4,[])}set items(n){c.Message.setField(this,4,n)}get recId(){return c.Message.getFieldWithDefault(this,5,[])}set recId(n){c.Message.setField(this,5,n)}static fromObject(n){let a=new sl({items:n.items,recId:n.recId});return n.sendName!=null&&(a.sendName=n.sendName),n.title!=null&&(a.title=n.title),n.content!=null&&(a.content=n.content),a}toObject(){let n={items:this.items,recId:this.recId};return this.sendName!=null&&(n.sendName=this.sendName),this.title!=null&&(n.title=this.title),this.content!=null&&(n.content=this.content),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_sendName&&this.sendName.length&&a.writeString(1,this.sendName),this.has_title&&this.title.length&&a.writeString(2,this.title),this.has_content&&this.content.length&&a.writeString(3,this.content),this.items.length&&a.writeRepeatedString(4,this.items),this.recId.length&&a.writeRepeatedString(5,this.recId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new sl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.sendName=a.readString();break;case 2:h.title=a.readString();break;case 3:h.content=a.readString();break;case 4:c.Message.addToRepeatedField(h,4,a.readString());break;case 5:c.Message.addToRepeatedField(h,5,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return sl.deserialize(n)}};Ju=new WeakMap;let g=sl;Ku.CS_SEND_SYS_MAIL=sl;let ol=class ol extends c.Message{constructor(n){super();fe(this,ep,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,ep)),!Array.isArray(n)&&typeof n=="object"&&(this.hallId=n.hallId)}get hallId(){return c.Message.getField(this,1)}set hallId(n){c.Message.setField(this,1,n)}get has_hallId(){return c.Message.getField(this,1)!=null}static fromObject(n){return new ol({hallId:n.hallId})}toObject(){let n={};return this.hallId!=null&&(n.hallId=this.hallId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_hallId&&this.hallId.length&&a.writeString(1,this.hallId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new ol;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.hallId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return ol.deserialize(n)}};ep=new WeakMap;let y=ol;Ku.SS_REG_HALL=ol;let al=class al extends c.Message{constructor(n){super();fe(this,tp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[12,19,24,25],de(this,tp)),!Array.isArray(n)&&typeof n=="object"&&(this.roleId=n.roleId,"userName"in n&&n.userName!=null&&(this.userName=n.userName),"icon"in n&&n.icon!=null&&(this.icon=n.icon),"createTime"in n&&n.createTime!=null&&(this.createTime=n.createTime),"score"in n&&n.score!=null&&(this.score=n.score),"country"in n&&n.country!=null&&(this.country=n.country),"club"in n&&n.club!=null&&(this.club=n.club),"code"in n&&n.code!=null&&(this.code=n.code),"walletAddr"in n&&n.walletAddr!=null&&(this.walletAddr=n.walletAddr),"snakeId"in n&&n.snakeId!=null&&(this.snakeId=n.snakeId),"kills"in n&&n.kills!=null&&(this.kills=n.kills),this.items=n.items,"invite"in n&&n.invite!=null&&(this.invite=n.invite),"source"in n&&n.source!=null&&(this.source=n.source),"num"in n&&n.num!=null&&(this.num=n.num),"stage"in n&&n.stage!=null&&(this.stage=n.stage),"invNum"in n&&n.invNum!=null&&(this.invNum=n.invNum),"exp"in n&&n.exp!=null&&(this.exp=n.exp),this.reward=n.reward,"ticketValue"in n&&n.ticketValue!=null&&(this.ticketValue=n.ticketValue),"lv"in n&&n.lv!=null&&(this.lv=n.lv),"ticketId"in n&&n.ticketId!=null&&(this.ticketId=n.ticketId),this.snake=n.snake,this.attr=n.attr,"recored"in n&&n.recored!=null&&(this.recored=n.recored),"maxKill"in n&&n.maxKill!=null&&(this.maxKill=n.maxKill),"maxAlive"in n&&n.maxAlive!=null&&(this.maxAlive=n.maxAlive),"skin"in n&&n.skin!=null&&(this.skin=n.skin),"ban"in n&&n.ban!=null&&(this.ban=n.ban))}get roleId(){return c.Message.getField(this,1)}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}get userName(){return c.Message.getFieldWithDefault(this,2,"")}set userName(n){c.Message.setField(this,2,n)}get has_userName(){return c.Message.getField(this,2)!=null}get icon(){return c.Message.getFieldWithDefault(this,3,"")}set icon(n){c.Message.setField(this,3,n)}get has_icon(){return c.Message.getField(this,3)!=null}get createTime(){return c.Message.getFieldWithDefault(this,4,0)}set createTime(n){c.Message.setField(this,4,n)}get has_createTime(){return c.Message.getField(this,4)!=null}get score(){return c.Message.getFieldWithDefault(this,5,0)}set score(n){c.Message.setField(this,5,n)}get has_score(){return c.Message.getField(this,5)!=null}get country(){return c.Message.getFieldWithDefault(this,6,0)}set country(n){c.Message.setField(this,6,n)}get has_country(){return c.Message.getField(this,6)!=null}get club(){return c.Message.getFieldWithDefault(this,7,"")}set club(n){c.Message.setField(this,7,n)}get has_club(){return c.Message.getField(this,7)!=null}get code(){return c.Message.getFieldWithDefault(this,8,"")}set code(n){c.Message.setField(this,8,n)}get has_code(){return c.Message.getField(this,8)!=null}get walletAddr(){return c.Message.getFieldWithDefault(this,9,"")}set walletAddr(n){c.Message.setField(this,9,n)}get has_walletAddr(){return c.Message.getField(this,9)!=null}get snakeId(){return c.Message.getFieldWithDefault(this,10,0)}set snakeId(n){c.Message.setField(this,10,n)}get has_snakeId(){return c.Message.getField(this,10)!=null}get kills(){return c.Message.getFieldWithDefault(this,11,0)}set kills(n){c.Message.setField(this,11,n)}get has_kills(){return c.Message.getField(this,11)!=null}get items(){return c.Message.getRepeatedWrapperField(this,S,12)}set items(n){c.Message.setRepeatedWrapperField(this,12,n)}get invite(){return c.Message.getFieldWithDefault(this,13,"")}set invite(n){c.Message.setField(this,13,n)}get has_invite(){return c.Message.getField(this,13)!=null}get source(){return c.Message.getFieldWithDefault(this,14,"")}set source(n){c.Message.setField(this,14,n)}get has_source(){return c.Message.getField(this,14)!=null}get num(){return c.Message.getFieldWithDefault(this,15,0)}set num(n){c.Message.setField(this,15,n)}get has_num(){return c.Message.getField(this,15)!=null}get stage(){return c.Message.getFieldWithDefault(this,16,0)}set stage(n){c.Message.setField(this,16,n)}get has_stage(){return c.Message.getField(this,16)!=null}get invNum(){return c.Message.getFieldWithDefault(this,17,0)}set invNum(n){c.Message.setField(this,17,n)}get has_invNum(){return c.Message.getField(this,17)!=null}get exp(){return c.Message.getFieldWithDefault(this,18,0)}set exp(n){c.Message.setField(this,18,n)}get has_exp(){return c.Message.getField(this,18)!=null}get reward(){return c.Message.getFieldWithDefault(this,19,[])}set reward(n){c.Message.setField(this,19,n)}get ticketValue(){return c.Message.getFieldWithDefault(this,20,0)}set ticketValue(n){c.Message.setField(this,20,n)}get has_ticketValue(){return c.Message.getField(this,20)!=null}get lv(){return c.Message.getFieldWithDefault(this,22,0)}set lv(n){c.Message.setField(this,22,n)}get has_lv(){return c.Message.getField(this,22)!=null}get ticketId(){return c.Message.getFieldWithDefault(this,23,0)}set ticketId(n){c.Message.setField(this,23,n)}get has_ticketId(){return c.Message.getField(this,23)!=null}get snake(){return c.Message.getRepeatedWrapperField(this,_,24)}set snake(n){c.Message.setRepeatedWrapperField(this,24,n)}get attr(){return c.Message.getFieldWithDefault(this,25,[])}set attr(n){c.Message.setField(this,25,n)}get recored(){return c.Message.getFieldWithDefault(this,26,"")}set recored(n){c.Message.setField(this,26,n)}get has_recored(){return c.Message.getField(this,26)!=null}get maxKill(){return c.Message.getFieldWithDefault(this,27,0)}set maxKill(n){c.Message.setField(this,27,n)}get has_maxKill(){return c.Message.getField(this,27)!=null}get maxAlive(){return c.Message.getFieldWithDefault(this,28,0)}set maxAlive(n){c.Message.setField(this,28,n)}get has_maxAlive(){return c.Message.getField(this,28)!=null}get skin(){return c.Message.getFieldWithDefault(this,29,0)}set skin(n){c.Message.setField(this,29,n)}get has_skin(){return c.Message.getField(this,29)!=null}get ban(){return c.Message.getFieldWithDefault(this,30,!1)}set ban(n){c.Message.setField(this,30,n)}get has_ban(){return c.Message.getField(this,30)!=null}static fromObject(n){let a=new al({roleId:n.roleId,items:n.items.map(h=>S.fromObject(h)),reward:n.reward,snake:n.snake.map(h=>_.fromObject(h)),attr:n.attr});return n.userName!=null&&(a.userName=n.userName),n.icon!=null&&(a.icon=n.icon),n.createTime!=null&&(a.createTime=n.createTime),n.score!=null&&(a.score=n.score),n.country!=null&&(a.country=n.country),n.club!=null&&(a.club=n.club),n.code!=null&&(a.code=n.code),n.walletAddr!=null&&(a.walletAddr=n.walletAddr),n.snakeId!=null&&(a.snakeId=n.snakeId),n.kills!=null&&(a.kills=n.kills),n.invite!=null&&(a.invite=n.invite),n.source!=null&&(a.source=n.source),n.num!=null&&(a.num=n.num),n.stage!=null&&(a.stage=n.stage),n.invNum!=null&&(a.invNum=n.invNum),n.exp!=null&&(a.exp=n.exp),n.ticketValue!=null&&(a.ticketValue=n.ticketValue),n.lv!=null&&(a.lv=n.lv),n.ticketId!=null&&(a.ticketId=n.ticketId),n.recored!=null&&(a.recored=n.recored),n.maxKill!=null&&(a.maxKill=n.maxKill),n.maxAlive!=null&&(a.maxAlive=n.maxAlive),n.skin!=null&&(a.skin=n.skin),n.ban!=null&&(a.ban=n.ban),a}toObject(){let n={reward:this.reward,attr:this.attr};return this.roleId!=null&&(n.roleId=this.roleId),this.userName!=null&&(n.userName=this.userName),this.icon!=null&&(n.icon=this.icon),this.createTime!=null&&(n.createTime=this.createTime),this.score!=null&&(n.score=this.score),this.country!=null&&(n.country=this.country),this.club!=null&&(n.club=this.club),this.code!=null&&(n.code=this.code),this.walletAddr!=null&&(n.walletAddr=this.walletAddr),this.snakeId!=null&&(n.snakeId=this.snakeId),this.kills!=null&&(n.kills=this.kills),this.items!=null&&(n.items=this.items.map(a=>a.toObject())),this.invite!=null&&(n.invite=this.invite),this.source!=null&&(n.source=this.source),this.num!=null&&(n.num=this.num),this.stage!=null&&(n.stage=this.stage),this.invNum!=null&&(n.invNum=this.invNum),this.exp!=null&&(n.exp=this.exp),this.ticketValue!=null&&(n.ticketValue=this.ticketValue),this.lv!=null&&(n.lv=this.lv),this.ticketId!=null&&(n.ticketId=this.ticketId),this.snake!=null&&(n.snake=this.snake.map(a=>a.toObject())),this.recored!=null&&(n.recored=this.recored),this.maxKill!=null&&(n.maxKill=this.maxKill),this.maxAlive!=null&&(n.maxAlive=this.maxAlive),this.skin!=null&&(n.skin=this.skin),this.ban!=null&&(n.ban=this.ban),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_userName&&this.userName.length&&a.writeString(2,this.userName),this.has_icon&&this.icon.length&&a.writeString(3,this.icon),this.has_createTime&&a.writeInt64(4,this.createTime),this.has_score&&a.writeInt32(5,this.score),this.has_country&&a.writeInt32(6,this.country),this.has_club&&this.club.length&&a.writeString(7,this.club),this.has_code&&this.code.length&&a.writeString(8,this.code),this.has_walletAddr&&this.walletAddr.length&&a.writeString(9,this.walletAddr),this.has_snakeId&&a.writeInt32(10,this.snakeId),this.has_kills&&a.writeInt32(11,this.kills),this.items.length&&a.writeRepeatedMessage(12,this.items,h=>h.serialize(a)),this.has_invite&&this.invite.length&&a.writeString(13,this.invite),this.has_source&&this.source.length&&a.writeString(14,this.source),this.has_num&&a.writeInt32(15,this.num),this.has_stage&&a.writeInt32(16,this.stage),this.has_invNum&&a.writeInt32(17,this.invNum),this.has_exp&&a.writeInt32(18,this.exp),this.reward.length&&a.writeRepeatedString(19,this.reward),this.has_ticketValue&&a.writeDouble(20,this.ticketValue),this.has_lv&&a.writeInt32(22,this.lv),this.has_ticketId&&a.writeInt32(23,this.ticketId),this.snake.length&&a.writeRepeatedMessage(24,this.snake,h=>h.serialize(a)),this.attr.length&&a.writeRepeatedString(25,this.attr),this.has_recored&&this.recored.length&&a.writeString(26,this.recored),this.has_maxKill&&a.writeInt32(27,this.maxKill),this.has_maxAlive&&a.writeInt32(28,this.maxAlive),this.has_skin&&a.writeInt32(29,this.skin),this.has_ban&&a.writeBool(30,this.ban),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new al;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.userName=a.readString();break;case 3:h.icon=a.readString();break;case 4:h.createTime=a.readInt64();break;case 5:h.score=a.readInt32();break;case 6:h.country=a.readInt32();break;case 7:h.club=a.readString();break;case 8:h.code=a.readString();break;case 9:h.walletAddr=a.readString();break;case 10:h.snakeId=a.readInt32();break;case 11:h.kills=a.readInt32();break;case 12:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,12,S.deserialize(a),S));break;case 13:h.invite=a.readString();break;case 14:h.source=a.readString();break;case 15:h.num=a.readInt32();break;case 16:h.stage=a.readInt32();break;case 17:h.invNum=a.readInt32();break;case 18:h.exp=a.readInt32();break;case 19:c.Message.addToRepeatedField(h,19,a.readString());break;case 20:h.ticketValue=a.readDouble();break;case 22:h.lv=a.readInt32();break;case 23:h.ticketId=a.readInt32();break;case 24:a.readMessage(h.snake,()=>c.Message.addToRepeatedWrapperField(h,24,_.deserialize(a),_));break;case 25:c.Message.addToRepeatedField(h,25,a.readString());break;case 26:h.recored=a.readString();break;case 27:h.maxKill=a.readInt32();break;case 28:h.maxAlive=a.readInt32();break;case 29:h.skin=a.readInt32();break;case 30:h.ban=a.readBool();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return al.deserialize(n)}};tp=new WeakMap;let x=al;Ku.RoleObject=al;let ll=class ll extends c.Message{constructor(n){super();fe(this,ip,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[8],de(this,ip)),!Array.isArray(n)&&typeof n=="object"&&("mailId"in n&&n.mailId!=null&&(this.mailId=n.mailId),"sendId"in n&&n.sendId!=null&&(this.sendId=n.sendId),"sendName"in n&&n.sendName!=null&&(this.sendName=n.sendName),"title"in n&&n.title!=null&&(this.title=n.title),"content"in n&&n.content!=null&&(this.content=n.content),"sendTime"in n&&n.sendTime!=null&&(this.sendTime=n.sendTime),"read"in n&&n.read!=null&&(this.read=n.read),this.items=n.items,"get"in n&&n.get!=null&&(this.get=n.get))}get mailId(){return c.Message.getFieldWithDefault(this,1,0)}set mailId(n){c.Message.setField(this,1,n)}get has_mailId(){return c.Message.getField(this,1)!=null}get sendId(){return c.Message.getFieldWithDefault(this,2,"")}set sendId(n){c.Message.setField(this,2,n)}get has_sendId(){return c.Message.getField(this,2)!=null}get sendName(){return c.Message.getFieldWithDefault(this,3,"")}set sendName(n){c.Message.setField(this,3,n)}get has_sendName(){return c.Message.getField(this,3)!=null}get title(){return c.Message.getFieldWithDefault(this,4,"")}set title(n){c.Message.setField(this,4,n)}get has_title(){return c.Message.getField(this,4)!=null}get content(){return c.Message.getFieldWithDefault(this,5,"")}set content(n){c.Message.setField(this,5,n)}get has_content(){return c.Message.getField(this,5)!=null}get sendTime(){return c.Message.getFieldWithDefault(this,6,0)}set sendTime(n){c.Message.setField(this,6,n)}get has_sendTime(){return c.Message.getField(this,6)!=null}get read(){return c.Message.getFieldWithDefault(this,7,!1)}set read(n){c.Message.setField(this,7,n)}get has_read(){return c.Message.getField(this,7)!=null}get items(){return c.Message.getRepeatedWrapperField(this,S,8)}set items(n){c.Message.setRepeatedWrapperField(this,8,n)}get get(){return c.Message.getFieldWithDefault(this,9,!1)}set get(n){c.Message.setField(this,9,n)}get has_get(){return c.Message.getField(this,9)!=null}static fromObject(n){let a=new ll({items:n.items.map(h=>S.fromObject(h))});return n.mailId!=null&&(a.mailId=n.mailId),n.sendId!=null&&(a.sendId=n.sendId),n.sendName!=null&&(a.sendName=n.sendName),n.title!=null&&(a.title=n.title),n.content!=null&&(a.content=n.content),n.sendTime!=null&&(a.sendTime=n.sendTime),n.read!=null&&(a.read=n.read),n.get!=null&&(a.get=n.get),a}toObject(){let n={};return this.mailId!=null&&(n.mailId=this.mailId),this.sendId!=null&&(n.sendId=this.sendId),this.sendName!=null&&(n.sendName=this.sendName),this.title!=null&&(n.title=this.title),this.content!=null&&(n.content=this.content),this.sendTime!=null&&(n.sendTime=this.sendTime),this.read!=null&&(n.read=this.read),this.items!=null&&(n.items=this.items.map(a=>a.toObject())),this.get!=null&&(n.get=this.get),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),this.has_sendId&&this.sendId.length&&a.writeString(2,this.sendId),this.has_sendName&&this.sendName.length&&a.writeString(3,this.sendName),this.has_title&&this.title.length&&a.writeString(4,this.title),this.has_content&&this.content.length&&a.writeString(5,this.content),this.has_sendTime&&a.writeInt64(6,this.sendTime),this.has_read&&a.writeBool(7,this.read),this.items.length&&a.writeRepeatedMessage(8,this.items,h=>h.serialize(a)),this.has_get&&a.writeBool(9,this.get),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new ll;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;case 2:h.sendId=a.readString();break;case 3:h.sendName=a.readString();break;case 4:h.title=a.readString();break;case 5:h.content=a.readString();break;case 6:h.sendTime=a.readInt64();break;case 7:h.read=a.readBool();break;case 8:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,8,S.deserialize(a),S));break;case 9:h.get=a.readBool();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return ll.deserialize(n)}};ip=new WeakMap;let E=ll;Ku.MailObject=ll;let cl=class cl extends c.Message{constructor(n){super();fe(this,rp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[3],de(this,rp)),!Array.isArray(n)&&typeof n=="object"&&("id"in n&&n.id!=null&&(this.id=n.id),"unkey"in n&&n.unkey!=null&&(this.unkey=n.unkey),this.attr=n.attr,"skin"in n&&n.skin!=null&&(this.skin=n.skin),"upgrade"in n&&n.upgrade!=null&&(this.upgrade=n.upgrade))}get id(){return c.Message.getFieldWithDefault(this,1,0)}set id(n){c.Message.setField(this,1,n)}get has_id(){return c.Message.getField(this,1)!=null}get unkey(){return c.Message.getFieldWithDefault(this,2,0)}set unkey(n){c.Message.setField(this,2,n)}get has_unkey(){return c.Message.getField(this,2)!=null}get attr(){return c.Message.getFieldWithDefault(this,3,[])}set attr(n){c.Message.setField(this,3,n)}get skin(){return c.Message.getFieldWithDefault(this,4,0)}set skin(n){c.Message.setField(this,4,n)}get has_skin(){return c.Message.getField(this,4)!=null}get upgrade(){return c.Message.getFieldWithDefault(this,5,!1)}set upgrade(n){c.Message.setField(this,5,n)}get has_upgrade(){return c.Message.getField(this,5)!=null}static fromObject(n){let a=new cl({attr:n.attr});return n.id!=null&&(a.id=n.id),n.unkey!=null&&(a.unkey=n.unkey),n.skin!=null&&(a.skin=n.skin),n.upgrade!=null&&(a.upgrade=n.upgrade),a}toObject(){let n={attr:this.attr};return this.id!=null&&(n.id=this.id),this.unkey!=null&&(n.unkey=this.unkey),this.skin!=null&&(n.skin=this.skin),this.upgrade!=null&&(n.upgrade=this.upgrade),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_id&&a.writeInt32(1,this.id),this.has_unkey&&a.writeInt32(2,this.unkey),this.attr.length&&a.writeRepeatedString(3,this.attr),this.has_skin&&a.writeInt32(4,this.skin),this.has_upgrade&&a.writeBool(5,this.upgrade),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new cl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.id=a.readInt32();break;case 2:h.unkey=a.readInt32();break;case 3:c.Message.addToRepeatedField(h,3,a.readString());break;case 4:h.skin=a.readInt32();break;case 5:h.upgrade=a.readBool();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return cl.deserialize(n)}};rp=new WeakMap;let _=cl;Ku.SnakeDto=cl;let ul=class ul extends c.Message{constructor(n){super();fe(this,np,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,np)),!Array.isArray(n)&&typeof n=="object"&&("itemId"in n&&n.itemId!=null&&(this.itemId=n.itemId),"num"in n&&n.num!=null&&(this.num=n.num),"chainId"in n&&n.chainId!=null&&(this.chainId=n.chainId))}get itemId(){return c.Message.getFieldWithDefault(this,1,0)}set itemId(n){c.Message.setField(this,1,n)}get has_itemId(){return c.Message.getField(this,1)!=null}get num(){return c.Message.getFieldWithDefault(this,2,0)}set num(n){c.Message.setField(this,2,n)}get has_num(){return c.Message.getField(this,2)!=null}get chainId(){return c.Message.getFieldWithDefault(this,3,0)}set chainId(n){c.Message.setField(this,3,n)}get has_chainId(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new ul({});return n.itemId!=null&&(a.itemId=n.itemId),n.num!=null&&(a.num=n.num),n.chainId!=null&&(a.chainId=n.chainId),a}toObject(){let n={};return this.itemId!=null&&(n.itemId=this.itemId),this.num!=null&&(n.num=this.num),this.chainId!=null&&(n.chainId=this.chainId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_itemId&&a.writeInt32(1,this.itemId),this.has_num&&a.writeDouble(2,this.num),this.has_chainId&&a.writeInt32(3,this.chainId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new ul;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.itemId=a.readInt32();break;case 2:h.num=a.readDouble();break;case 3:h.chainId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return ul.deserialize(n)}};np=new WeakMap;let S=ul;Ku.ItemObject=ul;let pl=class pl extends c.Message{constructor(n){super();fe(this,sp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,sp)),!Array.isArray(n)&&typeof n=="object"&&(this.icon=n.icon,this.userName=n.userName,this.country=n.country,"walletAddr"in n&&n.walletAddr!=null&&(this.walletAddr=n.walletAddr),"invite"in n&&n.invite!=null&&(this.invite=n.invite),"source"in n&&n.source!=null&&(this.source=n.source),"randomHex"in n&&n.randomHex!=null&&(this.randomHex=n.randomHex),"time"in n&&n.time!=null&&(this.time=n.time),"r"in n&&n.r!=null&&(this.r=n.r),"s"in n&&n.s!=null&&(this.s=n.s),"v"in n&&n.v!=null&&(this.v=n.v),"clubId"in n&&n.clubId!=null&&(this.clubId=n.clubId))}get icon(){return c.Message.getField(this,1)}set icon(n){c.Message.setField(this,1,n)}get has_icon(){return c.Message.getField(this,1)!=null}get userName(){return c.Message.getField(this,2)}set userName(n){c.Message.setField(this,2,n)}get has_userName(){return c.Message.getField(this,2)!=null}get country(){return c.Message.getField(this,3)}set country(n){c.Message.setField(this,3,n)}get has_country(){return c.Message.getField(this,3)!=null}get walletAddr(){return c.Message.getFieldWithDefault(this,4,"")}set walletAddr(n){c.Message.setField(this,4,n)}get has_walletAddr(){return c.Message.getField(this,4)!=null}get invite(){return c.Message.getFieldWithDefault(this,5,"")}set invite(n){c.Message.setField(this,5,n)}get has_invite(){return c.Message.getField(this,5)!=null}get source(){return c.Message.getFieldWithDefault(this,6,"")}set source(n){c.Message.setField(this,6,n)}get has_source(){return c.Message.getField(this,6)!=null}get randomHex(){return c.Message.getFieldWithDefault(this,7,"")}set randomHex(n){c.Message.setField(this,7,n)}get has_randomHex(){return c.Message.getField(this,7)!=null}get time(){return c.Message.getFieldWithDefault(this,8,0)}set time(n){c.Message.setField(this,8,n)}get has_time(){return c.Message.getField(this,8)!=null}get r(){return c.Message.getFieldWithDefault(this,9,"")}set r(n){c.Message.setField(this,9,n)}get has_r(){return c.Message.getField(this,9)!=null}get s(){return c.Message.getFieldWithDefault(this,10,"")}set s(n){c.Message.setField(this,10,n)}get has_s(){return c.Message.getField(this,10)!=null}get v(){return c.Message.getFieldWithDefault(this,11,"")}set v(n){c.Message.setField(this,11,n)}get has_v(){return c.Message.getField(this,11)!=null}get clubId(){return c.Message.getFieldWithDefault(this,12,0)}set clubId(n){c.Message.setField(this,12,n)}get has_clubId(){return c.Message.getField(this,12)!=null}static fromObject(n){let a=new pl({icon:n.icon,userName:n.userName,country:n.country});return n.walletAddr!=null&&(a.walletAddr=n.walletAddr),n.invite!=null&&(a.invite=n.invite),n.source!=null&&(a.source=n.source),n.randomHex!=null&&(a.randomHex=n.randomHex),n.time!=null&&(a.time=n.time),n.r!=null&&(a.r=n.r),n.s!=null&&(a.s=n.s),n.v!=null&&(a.v=n.v),n.clubId!=null&&(a.clubId=n.clubId),a}toObject(){let n={};return this.icon!=null&&(n.icon=this.icon),this.userName!=null&&(n.userName=this.userName),this.country!=null&&(n.country=this.country),this.walletAddr!=null&&(n.walletAddr=this.walletAddr),this.invite!=null&&(n.invite=this.invite),this.source!=null&&(n.source=this.source),this.randomHex!=null&&(n.randomHex=this.randomHex),this.time!=null&&(n.time=this.time),this.r!=null&&(n.r=this.r),this.s!=null&&(n.s=this.s),this.v!=null&&(n.v=this.v),this.clubId!=null&&(n.clubId=this.clubId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_icon&&this.icon.length&&a.writeString(1,this.icon),this.has_userName&&this.userName.length&&a.writeString(2,this.userName),this.has_country&&a.writeInt32(3,this.country),this.has_walletAddr&&this.walletAddr.length&&a.writeString(4,this.walletAddr),this.has_invite&&this.invite.length&&a.writeString(5,this.invite),this.has_source&&this.source.length&&a.writeString(6,this.source),this.has_randomHex&&this.randomHex.length&&a.writeString(7,this.randomHex),this.has_time&&a.writeInt64(8,this.time),this.has_r&&this.r.length&&a.writeString(9,this.r),this.has_s&&this.s.length&&a.writeString(10,this.s),this.has_v&&this.v.length&&a.writeString(11,this.v),this.has_clubId&&a.writeInt64(12,this.clubId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new pl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.icon=a.readString();break;case 2:h.userName=a.readString();break;case 3:h.country=a.readInt32();break;case 4:h.walletAddr=a.readString();break;case 5:h.invite=a.readString();break;case 6:h.source=a.readString();break;case 7:h.randomHex=a.readString();break;case 8:h.time=a.readInt64();break;case 9:h.r=a.readString();break;case 10:h.s=a.readString();break;case 11:h.v=a.readString();break;case 12:h.clubId=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return pl.deserialize(n)}};sp=new WeakMap;let M=pl;Ku.CS_USER_REGISTER=pl;let ml=class ml extends c.Message{constructor(n){super();fe(this,op,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,op)),!Array.isArray(n)&&typeof n=="object"&&(this.roleInfo=n.roleInfo)}get roleInfo(){return c.Message.getWrapperField(this,x,1)}set roleInfo(n){c.Message.setWrapperField(this,1,n)}get has_roleInfo(){return c.Message.getField(this,1)!=null}static fromObject(n){return new ml({roleInfo:x.fromObject(n.roleInfo)})}toObject(){let n={};return this.roleInfo!=null&&(n.roleInfo=this.roleInfo.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleInfo&&a.writeMessage(1,this.roleInfo,()=>this.roleInfo.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new ml;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.roleInfo,()=>h.roleInfo=x.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return ml.deserialize(n)}};op=new WeakMap;let O=ml;Ku.SC_USER_REGISTER=ml;let hl=class hl extends c.Message{constructor(n){super();fe(this,ap,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,ap)),!Array.isArray(n)&&typeof n=="object"&&(this.roleId=n.roleId,"randomHex"in n&&n.randomHex!=null&&(this.randomHex=n.randomHex),"time"in n&&n.time!=null&&(this.time=n.time),"r"in n&&n.r!=null&&(this.r=n.r),"s"in n&&n.s!=null&&(this.s=n.s),"v"in n&&n.v!=null&&(this.v=n.v))}get roleId(){return c.Message.getField(this,1)}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}get randomHex(){return c.Message.getFieldWithDefault(this,2,"")}set randomHex(n){c.Message.setField(this,2,n)}get has_randomHex(){return c.Message.getField(this,2)!=null}get time(){return c.Message.getFieldWithDefault(this,3,0)}set time(n){c.Message.setField(this,3,n)}get has_time(){return c.Message.getField(this,3)!=null}get r(){return c.Message.getFieldWithDefault(this,4,"")}set r(n){c.Message.setField(this,4,n)}get has_r(){return c.Message.getField(this,4)!=null}get s(){return c.Message.getFieldWithDefault(this,5,"")}set s(n){c.Message.setField(this,5,n)}get has_s(){return c.Message.getField(this,5)!=null}get v(){return c.Message.getFieldWithDefault(this,6,"")}set v(n){c.Message.setField(this,6,n)}get has_v(){return c.Message.getField(this,6)!=null}static fromObject(n){let a=new hl({roleId:n.roleId});return n.randomHex!=null&&(a.randomHex=n.randomHex),n.time!=null&&(a.time=n.time),n.r!=null&&(a.r=n.r),n.s!=null&&(a.s=n.s),n.v!=null&&(a.v=n.v),a}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),this.randomHex!=null&&(n.randomHex=this.randomHex),this.time!=null&&(n.time=this.time),this.r!=null&&(n.r=this.r),this.s!=null&&(n.s=this.s),this.v!=null&&(n.v=this.v),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_randomHex&&this.randomHex.length&&a.writeString(2,this.randomHex),this.has_time&&a.writeInt64(3,this.time),this.has_r&&this.r.length&&a.writeString(4,this.r),this.has_s&&this.s.length&&a.writeString(5,this.s),this.has_v&&this.v.length&&a.writeString(6,this.v),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new hl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.randomHex=a.readString();break;case 3:h.time=a.readInt64();break;case 4:h.r=a.readString();break;case 5:h.s=a.readString();break;case 6:h.v=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return hl.deserialize(n)}};ap=new WeakMap;let j=hl;Ku.CS_USER_LOGIN=hl;let dl=class dl extends c.Message{constructor(n){super();fe(this,lp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,lp)),!Array.isArray(n)&&typeof n=="object"&&("roleInfo"in n&&n.roleInfo!=null&&(this.roleInfo=n.roleInfo),"loginToken"in n&&n.loginToken!=null&&(this.loginToken=n.loginToken))}get roleInfo(){return c.Message.getWrapperField(this,x,1)}set roleInfo(n){c.Message.setWrapperField(this,1,n)}get has_roleInfo(){return c.Message.getField(this,1)!=null}get loginToken(){return c.Message.getFieldWithDefault(this,2,"")}set loginToken(n){c.Message.setField(this,2,n)}get has_loginToken(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new dl({});return n.roleInfo!=null&&(a.roleInfo=x.fromObject(n.roleInfo)),n.loginToken!=null&&(a.loginToken=n.loginToken),a}toObject(){let n={};return this.roleInfo!=null&&(n.roleInfo=this.roleInfo.toObject()),this.loginToken!=null&&(n.loginToken=this.loginToken),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleInfo&&a.writeMessage(1,this.roleInfo,()=>this.roleInfo.serialize(a)),this.has_loginToken&&this.loginToken.length&&a.writeString(2,this.loginToken),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new dl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.roleInfo,()=>h.roleInfo=x.deserialize(a));break;case 2:h.loginToken=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return dl.deserialize(n)}};lp=new WeakMap;let Q=dl;Ku.SC_USER_LOGIN=dl;let fl=class fl extends c.Message{constructor(n){super();fe(this,cp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,cp)),!Array.isArray(n)&&typeof n=="object"&&("type"in n&&n.type!=null&&(this.type=n.type),"ticketId"in n&&n.ticketId!=null&&(this.ticketId=n.ticketId),"ticketValue"in n&&n.ticketValue!=null&&(this.ticketValue=n.ticketValue),"roomType"in n&&n.roomType!=null&&(this.roomType=n.roomType),"point"in n&&n.point!=null&&(this.point=n.point),"roomNo"in n&&n.roomNo!=null&&(this.roomNo=n.roomNo))}get type(){return c.Message.getFieldWithDefault(this,1,0)}set type(n){c.Message.setField(this,1,n)}get has_type(){return c.Message.getField(this,1)!=null}get ticketId(){return c.Message.getFieldWithDefault(this,2,0)}set ticketId(n){c.Message.setField(this,2,n)}get has_ticketId(){return c.Message.getField(this,2)!=null}get ticketValue(){return c.Message.getFieldWithDefault(this,3,0)}set ticketValue(n){c.Message.setField(this,3,n)}get has_ticketValue(){return c.Message.getField(this,3)!=null}get roomType(){return c.Message.getFieldWithDefault(this,4,0)}set roomType(n){c.Message.setField(this,4,n)}get has_roomType(){return c.Message.getField(this,4)!=null}get point(){return c.Message.getFieldWithDefault(this,5,"")}set point(n){c.Message.setField(this,5,n)}get has_point(){return c.Message.getField(this,5)!=null}get roomNo(){return c.Message.getFieldWithDefault(this,6,"")}set roomNo(n){c.Message.setField(this,6,n)}get has_roomNo(){return c.Message.getField(this,6)!=null}static fromObject(n){let a=new fl({});return n.type!=null&&(a.type=n.type),n.ticketId!=null&&(a.ticketId=n.ticketId),n.ticketValue!=null&&(a.ticketValue=n.ticketValue),n.roomType!=null&&(a.roomType=n.roomType),n.point!=null&&(a.point=n.point),n.roomNo!=null&&(a.roomNo=n.roomNo),a}toObject(){let n={};return this.type!=null&&(n.type=this.type),this.ticketId!=null&&(n.ticketId=this.ticketId),this.ticketValue!=null&&(n.ticketValue=this.ticketValue),this.roomType!=null&&(n.roomType=this.roomType),this.point!=null&&(n.point=this.point),this.roomNo!=null&&(n.roomNo=this.roomNo),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),this.has_ticketId&&a.writeInt32(2,this.ticketId),this.has_ticketValue&&a.writeDouble(3,this.ticketValue),this.has_roomType&&a.writeInt32(4,this.roomType),this.has_point&&this.point.length&&a.writeString(5,this.point),this.has_roomNo&&this.roomNo.length&&a.writeString(6,this.roomNo),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new fl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;case 2:h.ticketId=a.readInt32();break;case 3:h.ticketValue=a.readDouble();break;case 4:h.roomType=a.readInt32();break;case 5:h.point=a.readString();break;case 6:h.roomNo=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return fl.deserialize(n)}};cp=new WeakMap;let V=fl;Ku.CS_REQUEST_ROOM_ADDR=fl;let gl=class gl extends c.Message{constructor(n){super();fe(this,up,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,up)),!Array.isArray(n)&&typeof n=="object"&&(this.addr=n.addr,"roleInfo"in n&&n.roleInfo!=null&&(this.roleInfo=n.roleInfo),"info"in n&&n.info!=null&&(this.info=n.info))}get addr(){return c.Message.getField(this,1)}set addr(n){c.Message.setField(this,1,n)}get has_addr(){return c.Message.getField(this,1)!=null}get roleInfo(){return c.Message.getWrapperField(this,x,2)}set roleInfo(n){c.Message.setWrapperField(this,2,n)}get has_roleInfo(){return c.Message.getField(this,2)!=null}get info(){return c.Message.getFieldWithDefault(this,3,"")}set info(n){c.Message.setField(this,3,n)}get has_info(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new gl({addr:n.addr});return n.roleInfo!=null&&(a.roleInfo=x.fromObject(n.roleInfo)),n.info!=null&&(a.info=n.info),a}toObject(){let n={};return this.addr!=null&&(n.addr=this.addr),this.roleInfo!=null&&(n.roleInfo=this.roleInfo.toObject()),this.info!=null&&(n.info=this.info),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_addr&&this.addr.length&&a.writeString(1,this.addr),this.has_roleInfo&&a.writeMessage(2,this.roleInfo,()=>this.roleInfo.serialize(a)),this.has_info&&this.info.length&&a.writeString(3,this.info),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new gl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.addr=a.readString();break;case 2:a.readMessage(h.roleInfo,()=>h.roleInfo=x.deserialize(a));break;case 3:h.info=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return gl.deserialize(n)}};up=new WeakMap;let K=gl;Ku.SC_REQUEST_ROOM_ADDR=gl;let bl=class bl extends c.Message{constructor(n){super();fe(this,pp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,pp)),!Array.isArray(n)&&typeof n=="object"&&("tag"in n&&n.tag!=null&&(this.tag=n.tag),"roleId"in n&&n.roleId!=null&&(this.roleId=n.roleId))}get tag(){return c.Message.getFieldWithDefault(this,1,"")}set tag(n){c.Message.setField(this,1,n)}get has_tag(){return c.Message.getField(this,1)!=null}get roleId(){return c.Message.getFieldWithDefault(this,2,"")}set roleId(n){c.Message.setField(this,2,n)}get has_roleId(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new bl({});return n.tag!=null&&(a.tag=n.tag),n.roleId!=null&&(a.roleId=n.roleId),a}toObject(){let n={};return this.tag!=null&&(n.tag=this.tag),this.roleId!=null&&(n.roleId=this.roleId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_tag&&this.tag.length&&a.writeString(1,this.tag),this.has_roleId&&this.roleId.length&&a.writeString(2,this.roleId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new bl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.tag=a.readString();break;case 2:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return bl.deserialize(n)}};pp=new WeakMap;let W=bl;Ku.CS_ENTER_ROOM=bl;let yl=class yl extends c.Message{constructor(n){super();fe(this,mp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1,2],de(this,mp)),!Array.isArray(n)&&typeof n=="object"&&(this.food=n.food,this.players=n.players)}get food(){return c.Message.getRepeatedWrapperField(this,se,1)}set food(n){c.Message.setRepeatedWrapperField(this,1,n)}get players(){return c.Message.getRepeatedWrapperField(this,ce,2)}set players(n){c.Message.setRepeatedWrapperField(this,2,n)}static fromObject(n){return new yl({food:n.food.map(h=>se.fromObject(h)),players:n.players.map(h=>ce.fromObject(h))})}toObject(){let n={};return this.food!=null&&(n.food=this.food.map(a=>a.toObject())),this.players!=null&&(n.players=this.players.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.food.length&&a.writeRepeatedMessage(1,this.food,h=>h.serialize(a)),this.players.length&&a.writeRepeatedMessage(2,this.players,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new yl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,1,se.deserialize(a),se));break;case 2:a.readMessage(h.players,()=>c.Message.addToRepeatedWrapperField(h,2,ce.deserialize(a),ce));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return yl.deserialize(n)}};mp=new WeakMap;let ne=yl;Ku.SC_ENTER_ROOM=yl;let _l=class _l extends c.Message{constructor(n){super();fe(this,hp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,hp)),!Array.isArray(n)&&typeof n=="object"&&("unkey"in n&&n.unkey!=null&&(this.unkey=n.unkey),"itemId"in n&&n.itemId!=null&&(this.itemId=n.itemId),"loc"in n&&n.loc!=null&&(this.loc=n.loc))}get unkey(){return c.Message.getFieldWithDefault(this,1,"")}set unkey(n){c.Message.setField(this,1,n)}get has_unkey(){return c.Message.getField(this,1)!=null}get itemId(){return c.Message.getFieldWithDefault(this,2,0)}set itemId(n){c.Message.setField(this,2,n)}get has_itemId(){return c.Message.getField(this,2)!=null}get loc(){return c.Message.getWrapperField(this,Je,3)}set loc(n){c.Message.setWrapperField(this,3,n)}get has_loc(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new _l({});return n.unkey!=null&&(a.unkey=n.unkey),n.itemId!=null&&(a.itemId=n.itemId),n.loc!=null&&(a.loc=Je.fromObject(n.loc)),a}toObject(){let n={};return this.unkey!=null&&(n.unkey=this.unkey),this.itemId!=null&&(n.itemId=this.itemId),this.loc!=null&&(n.loc=this.loc.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_unkey&&this.unkey.length&&a.writeString(1,this.unkey),this.has_itemId&&a.writeInt32(2,this.itemId),this.has_loc&&a.writeMessage(3,this.loc,()=>this.loc.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new _l;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.unkey=a.readString();break;case 2:h.itemId=a.readInt32();break;case 3:a.readMessage(h.loc,()=>h.loc=Je.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return _l.deserialize(n)}};hp=new WeakMap;let se=_l;Ku.FoodObject=_l;let xl=class xl extends c.Message{constructor(n){super();fe(this,dp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[5,10,13,23],de(this,dp)),!Array.isArray(n)&&typeof n=="object"&&("roleId"in n&&n.roleId!=null&&(this.roleId=n.roleId),"userName"in n&&n.userName!=null&&(this.userName=n.userName),"snakeId"in n&&n.snakeId!=null&&(this.snakeId=n.snakeId),"speed"in n&&n.speed!=null&&(this.speed=n.speed),this.snake=n.snake,"kills"in n&&n.kills!=null&&(this.kills=n.kills),"state"in n&&n.state!=null&&(this.state=n.state),"score"in n&&n.score!=null&&(this.score=n.score),"wdTime"in n&&n.wdTime!=null&&(this.wdTime=n.wdTime),this.eatenIds=n.eatenIds,"dieTime"in n&&n.dieTime!=null&&(this.dieTime=n.dieTime),"revive"in n&&n.revive!=null&&(this.revive=n.revive),this.food=n.food,"direction"in n&&n.direction!=null&&(this.direction=n.direction),"frame"in n&&n.frame!=null&&(this.frame=n.frame),"oprTime"in n&&n.oprTime!=null&&(this.oprTime=n.oprTime),"aimDir"in n&&n.aimDir!=null&&(this.aimDir=n.aimDir),"length"in n&&n.length!=null&&(this.length=n.length),"enterTime"in n&&n.enterTime!=null&&(this.enterTime=n.enterTime),"exp"in n&&n.exp!=null&&(this.exp=n.exp),"result"in n&&n.result!=null&&(this.result=n.result),"oprIndex"in n&&n.oprIndex!=null&&(this.oprIndex=n.oprIndex),this.attr=n.attr,"skin"in n&&n.skin!=null&&(this.skin=n.skin))}get roleId(){return c.Message.getFieldWithDefault(this,1,"")}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}get userName(){return c.Message.getFieldWithDefault(this,2,"")}set userName(n){c.Message.setField(this,2,n)}get has_userName(){return c.Message.getField(this,2)!=null}get snakeId(){return c.Message.getFieldWithDefault(this,3,0)}set snakeId(n){c.Message.setField(this,3,n)}get has_snakeId(){return c.Message.getField(this,3)!=null}get speed(){return c.Message.getFieldWithDefault(this,4,0)}set speed(n){c.Message.setField(this,4,n)}get has_speed(){return c.Message.getField(this,4)!=null}get snake(){return c.Message.getRepeatedWrapperField(this,oe,5)}set snake(n){c.Message.setRepeatedWrapperField(this,5,n)}get kills(){return c.Message.getFieldWithDefault(this,6,0)}set kills(n){c.Message.setField(this,6,n)}get has_kills(){return c.Message.getField(this,6)!=null}get state(){return c.Message.getFieldWithDefault(this,7,!1)}set state(n){c.Message.setField(this,7,n)}get has_state(){return c.Message.getField(this,7)!=null}get score(){return c.Message.getFieldWithDefault(this,8,0)}set score(n){c.Message.setField(this,8,n)}get has_score(){return c.Message.getField(this,8)!=null}get wdTime(){return c.Message.getFieldWithDefault(this,9,0)}set wdTime(n){c.Message.setField(this,9,n)}get has_wdTime(){return c.Message.getField(this,9)!=null}get eatenIds(){return c.Message.getFieldWithDefault(this,10,[])}set eatenIds(n){c.Message.setField(this,10,n)}get dieTime(){return c.Message.getFieldWithDefault(this,11,0)}set dieTime(n){c.Message.setField(this,11,n)}get has_dieTime(){return c.Message.getField(this,11)!=null}get revive(){return c.Message.getFieldWithDefault(this,12,0)}set revive(n){c.Message.setField(this,12,n)}get has_revive(){return c.Message.getField(this,12)!=null}get food(){return c.Message.getRepeatedWrapperField(this,se,13)}set food(n){c.Message.setRepeatedWrapperField(this,13,n)}get direction(){return c.Message.getFieldWithDefault(this,14,0)}set direction(n){c.Message.setField(this,14,n)}get has_direction(){return c.Message.getField(this,14)!=null}get frame(){return c.Message.getFieldWithDefault(this,15,0)}set frame(n){c.Message.setField(this,15,n)}get has_frame(){return c.Message.getField(this,15)!=null}get oprTime(){return c.Message.getFieldWithDefault(this,16,0)}set oprTime(n){c.Message.setField(this,16,n)}get has_oprTime(){return c.Message.getField(this,16)!=null}get aimDir(){return c.Message.getFieldWithDefault(this,17,0)}set aimDir(n){c.Message.setField(this,17,n)}get has_aimDir(){return c.Message.getField(this,17)!=null}get length(){return c.Message.getFieldWithDefault(this,18,0)}set length(n){c.Message.setField(this,18,n)}get has_length(){return c.Message.getField(this,18)!=null}get enterTime(){return c.Message.getFieldWithDefault(this,19,0)}set enterTime(n){c.Message.setField(this,19,n)}get has_enterTime(){return c.Message.getField(this,19)!=null}get exp(){return c.Message.getFieldWithDefault(this,20,0)}set exp(n){c.Message.setField(this,20,n)}get has_exp(){return c.Message.getField(this,20)!=null}get result(){return c.Message.getWrapperField(this,l,21)}set result(n){c.Message.setWrapperField(this,21,n)}get has_result(){return c.Message.getField(this,21)!=null}get oprIndex(){return c.Message.getFieldWithDefault(this,22,0)}set oprIndex(n){c.Message.setField(this,22,n)}get has_oprIndex(){return c.Message.getField(this,22)!=null}get attr(){return c.Message.getFieldWithDefault(this,23,[])}set attr(n){c.Message.setField(this,23,n)}get skin(){return c.Message.getFieldWithDefault(this,24,0)}set skin(n){c.Message.setField(this,24,n)}get has_skin(){return c.Message.getField(this,24)!=null}static fromObject(n){let a=new xl({snake:n.snake.map(h=>oe.fromObject(h)),eatenIds:n.eatenIds,food:n.food.map(h=>se.fromObject(h)),attr:n.attr});return n.roleId!=null&&(a.roleId=n.roleId),n.userName!=null&&(a.userName=n.userName),n.snakeId!=null&&(a.snakeId=n.snakeId),n.speed!=null&&(a.speed=n.speed),n.kills!=null&&(a.kills=n.kills),n.state!=null&&(a.state=n.state),n.score!=null&&(a.score=n.score),n.wdTime!=null&&(a.wdTime=n.wdTime),n.dieTime!=null&&(a.dieTime=n.dieTime),n.revive!=null&&(a.revive=n.revive),n.direction!=null&&(a.direction=n.direction),n.frame!=null&&(a.frame=n.frame),n.oprTime!=null&&(a.oprTime=n.oprTime),n.aimDir!=null&&(a.aimDir=n.aimDir),n.length!=null&&(a.length=n.length),n.enterTime!=null&&(a.enterTime=n.enterTime),n.exp!=null&&(a.exp=n.exp),n.result!=null&&(a.result=l.fromObject(n.result)),n.oprIndex!=null&&(a.oprIndex=n.oprIndex),n.skin!=null&&(a.skin=n.skin),a}toObject(){let n={eatenIds:this.eatenIds,attr:this.attr};return this.roleId!=null&&(n.roleId=this.roleId),this.userName!=null&&(n.userName=this.userName),this.snakeId!=null&&(n.snakeId=this.snakeId),this.speed!=null&&(n.speed=this.speed),this.snake!=null&&(n.snake=this.snake.map(a=>a.toObject())),this.kills!=null&&(n.kills=this.kills),this.state!=null&&(n.state=this.state),this.score!=null&&(n.score=this.score),this.wdTime!=null&&(n.wdTime=this.wdTime),this.dieTime!=null&&(n.dieTime=this.dieTime),this.revive!=null&&(n.revive=this.revive),this.food!=null&&(n.food=this.food.map(a=>a.toObject())),this.direction!=null&&(n.direction=this.direction),this.frame!=null&&(n.frame=this.frame),this.oprTime!=null&&(n.oprTime=this.oprTime),this.aimDir!=null&&(n.aimDir=this.aimDir),this.length!=null&&(n.length=this.length),this.enterTime!=null&&(n.enterTime=this.enterTime),this.exp!=null&&(n.exp=this.exp),this.result!=null&&(n.result=this.result.toObject()),this.oprIndex!=null&&(n.oprIndex=this.oprIndex),this.skin!=null&&(n.skin=this.skin),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_userName&&this.userName.length&&a.writeString(2,this.userName),this.has_snakeId&&a.writeInt32(3,this.snakeId),this.has_speed&&a.writeFloat(4,this.speed),this.snake.length&&a.writeRepeatedMessage(5,this.snake,h=>h.serialize(a)),this.has_kills&&a.writeInt32(6,this.kills),this.has_state&&a.writeBool(7,this.state),this.has_score&&a.writeInt32(8,this.score),this.has_wdTime&&a.writeInt64(9,this.wdTime),this.eatenIds.length&&a.writeRepeatedString(10,this.eatenIds),this.has_dieTime&&a.writeInt64(11,this.dieTime),this.has_revive&&a.writeInt32(12,this.revive),this.food.length&&a.writeRepeatedMessage(13,this.food,h=>h.serialize(a)),this.has_direction&&a.writeFloat(14,this.direction),this.has_frame&&a.writeInt64(15,this.frame),this.has_oprTime&&a.writeInt64(16,this.oprTime),this.has_aimDir&&a.writeFloat(17,this.aimDir),this.has_length&&a.writeInt32(18,this.length),this.has_enterTime&&a.writeInt64(19,this.enterTime),this.has_exp&&a.writeInt32(20,this.exp),this.has_result&&a.writeMessage(21,this.result,()=>this.result.serialize(a)),this.has_oprIndex&&a.writeInt32(22,this.oprIndex),this.attr.length&&a.writeRepeatedString(23,this.attr),this.has_skin&&a.writeInt32(24,this.skin),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new xl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.userName=a.readString();break;case 3:h.snakeId=a.readInt32();break;case 4:h.speed=a.readFloat();break;case 5:a.readMessage(h.snake,()=>c.Message.addToRepeatedWrapperField(h,5,oe.deserialize(a),oe));break;case 6:h.kills=a.readInt32();break;case 7:h.state=a.readBool();break;case 8:h.score=a.readInt32();break;case 9:h.wdTime=a.readInt64();break;case 10:c.Message.addToRepeatedField(h,10,a.readString());break;case 11:h.dieTime=a.readInt64();break;case 12:h.revive=a.readInt32();break;case 13:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,13,se.deserialize(a),se));break;case 14:h.direction=a.readFloat();break;case 15:h.frame=a.readInt64();break;case 16:h.oprTime=a.readInt64();break;case 17:h.aimDir=a.readFloat();break;case 18:h.length=a.readInt32();break;case 19:h.enterTime=a.readInt64();break;case 20:h.exp=a.readInt32();break;case 21:a.readMessage(h.result,()=>h.result=l.deserialize(a));break;case 22:h.oprIndex=a.readInt32();break;case 23:c.Message.addToRepeatedField(h,23,a.readString());break;case 24:h.skin=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return xl.deserialize(n)}};dp=new WeakMap;let ce=xl;Ku.PlayerObject=xl;let vl=class vl extends c.Message{constructor(n){super();fe(this,fp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,fp)),!Array.isArray(n)&&typeof n=="object"&&"loc"in n&&n.loc!=null&&(this.loc=n.loc)}get loc(){return c.Message.getWrapperField(this,Je,2)}set loc(n){c.Message.setWrapperField(this,2,n)}get has_loc(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new vl({});return n.loc!=null&&(a.loc=Je.fromObject(n.loc)),a}toObject(){let n={};return this.loc!=null&&(n.loc=this.loc.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_loc&&a.writeMessage(2,this.loc,()=>this.loc.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new vl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 2:a.readMessage(h.loc,()=>h.loc=Je.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return vl.deserialize(n)}};fp=new WeakMap;let oe=vl;Ku.SnakeObject=vl;let Il=class Il extends c.Message{constructor(n){super();fe(this,gp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,gp)),!Array.isArray(n)&&typeof n=="object"&&("x"in n&&n.x!=null&&(this.x=n.x),"y"in n&&n.y!=null&&(this.y=n.y))}get x(){return c.Message.getFieldWithDefault(this,1,0)}set x(n){c.Message.setField(this,1,n)}get has_x(){return c.Message.getField(this,1)!=null}get y(){return c.Message.getFieldWithDefault(this,2,0)}set y(n){c.Message.setField(this,2,n)}get has_y(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new Il({});return n.x!=null&&(a.x=n.x),n.y!=null&&(a.y=n.y),a}toObject(){let n={};return this.x!=null&&(n.x=this.x),this.y!=null&&(n.y=this.y),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_x&&a.writeDouble(1,this.x),this.has_y&&a.writeDouble(2,this.y),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Il;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.x=a.readDouble();break;case 2:h.y=a.readDouble();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Il.deserialize(n)}};gp=new WeakMap;let Je=Il;Ku.PointObject=Il;let kl=class kl extends c.Message{constructor(n){super();fe(this,bp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[9],de(this,bp)),!Array.isArray(n)&&typeof n=="object"&&("roleId"in n&&n.roleId!=null&&(this.roleId=n.roleId),"opr"in n&&n.opr!=null&&(this.opr=n.opr),"value"in n&&n.value!=null&&(this.value=n.value),"head"in n&&n.head!=null&&(this.head=n.head),"frame"in n&&n.frame!=null&&(this.frame=n.frame),"curDir"in n&&n.curDir!=null&&(this.curDir=n.curDir),"aimDir"in n&&n.aimDir!=null&&(this.aimDir=n.aimDir),"speed"in n&&n.speed!=null&&(this.speed=n.speed),this.snake=n.snake,"oprIndex"in n&&n.oprIndex!=null&&(this.oprIndex=n.oprIndex))}get roleId(){return c.Message.getFieldWithDefault(this,1,"")}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}get opr(){return c.Message.getFieldWithDefault(this,2,0)}set opr(n){c.Message.setField(this,2,n)}get has_opr(){return c.Message.getField(this,2)!=null}get value(){return c.Message.getFieldWithDefault(this,3,0)}set value(n){c.Message.setField(this,3,n)}get has_value(){return c.Message.getField(this,3)!=null}get head(){return c.Message.getWrapperField(this,oe,4)}set head(n){c.Message.setWrapperField(this,4,n)}get has_head(){return c.Message.getField(this,4)!=null}get frame(){return c.Message.getFieldWithDefault(this,5,0)}set frame(n){c.Message.setField(this,5,n)}get has_frame(){return c.Message.getField(this,5)!=null}get curDir(){return c.Message.getFieldWithDefault(this,6,0)}set curDir(n){c.Message.setField(this,6,n)}get has_curDir(){return c.Message.getField(this,6)!=null}get aimDir(){return c.Message.getFieldWithDefault(this,7,0)}set aimDir(n){c.Message.setField(this,7,n)}get has_aimDir(){return c.Message.getField(this,7)!=null}get speed(){return c.Message.getFieldWithDefault(this,8,0)}set speed(n){c.Message.setField(this,8,n)}get has_speed(){return c.Message.getField(this,8)!=null}get snake(){return c.Message.getRepeatedWrapperField(this,oe,9)}set snake(n){c.Message.setRepeatedWrapperField(this,9,n)}get oprIndex(){return c.Message.getFieldWithDefault(this,10,0)}set oprIndex(n){c.Message.setField(this,10,n)}get has_oprIndex(){return c.Message.getField(this,10)!=null}static fromObject(n){let a=new kl({snake:n.snake.map(h=>oe.fromObject(h))});return n.roleId!=null&&(a.roleId=n.roleId),n.opr!=null&&(a.opr=n.opr),n.value!=null&&(a.value=n.value),n.head!=null&&(a.head=oe.fromObject(n.head)),n.frame!=null&&(a.frame=n.frame),n.curDir!=null&&(a.curDir=n.curDir),n.aimDir!=null&&(a.aimDir=n.aimDir),n.speed!=null&&(a.speed=n.speed),n.oprIndex!=null&&(a.oprIndex=n.oprIndex),a}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),this.opr!=null&&(n.opr=this.opr),this.value!=null&&(n.value=this.value),this.head!=null&&(n.head=this.head.toObject()),this.frame!=null&&(n.frame=this.frame),this.curDir!=null&&(n.curDir=this.curDir),this.aimDir!=null&&(n.aimDir=this.aimDir),this.speed!=null&&(n.speed=this.speed),this.snake!=null&&(n.snake=this.snake.map(a=>a.toObject())),this.oprIndex!=null&&(n.oprIndex=this.oprIndex),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_opr&&a.writeInt32(2,this.opr),this.has_value&&a.writeInt32(3,this.value),this.has_head&&a.writeMessage(4,this.head,()=>this.head.serialize(a)),this.has_frame&&a.writeInt64(5,this.frame),this.has_curDir&&a.writeFloat(6,this.curDir),this.has_aimDir&&a.writeFloat(7,this.aimDir),this.has_speed&&a.writeFloat(8,this.speed),this.snake.length&&a.writeRepeatedMessage(9,this.snake,h=>h.serialize(a)),this.has_oprIndex&&a.writeInt32(10,this.oprIndex),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new kl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.opr=a.readInt32();break;case 3:h.value=a.readInt32();break;case 4:a.readMessage(h.head,()=>h.head=oe.deserialize(a));break;case 5:h.frame=a.readInt64();break;case 6:h.curDir=a.readFloat();break;case 7:h.aimDir=a.readFloat();break;case 8:h.speed=a.readFloat();break;case 9:a.readMessage(h.snake,()=>c.Message.addToRepeatedWrapperField(h,9,oe.deserialize(a),oe));break;case 10:h.oprIndex=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return kl.deserialize(n)}};bp=new WeakMap;let he=kl;Ku.CS_PLAYER_OPR=kl;let Sl=class Sl extends c.Message{constructor(n){super();fe(this,yp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,yp)),!Array.isArray(n)&&typeof n=="object"&&(this.players=n.players,"frame"in n&&n.frame!=null&&(this.frame=n.frame))}get players(){return c.Message.getRepeatedWrapperField(this,ce,1)}set players(n){c.Message.setRepeatedWrapperField(this,1,n)}get frame(){return c.Message.getFieldWithDefault(this,2,0)}set frame(n){c.Message.setField(this,2,n)}get has_frame(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new Sl({players:n.players.map(h=>ce.fromObject(h))});return n.frame!=null&&(a.frame=n.frame),a}toObject(){let n={};return this.players!=null&&(n.players=this.players.map(a=>a.toObject())),this.frame!=null&&(n.frame=this.frame),n}serialize(n){let a=n||new c.BinaryWriter;if(this.players.length&&a.writeRepeatedMessage(1,this.players,h=>h.serialize(a)),this.has_frame&&a.writeInt64(2,this.frame),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Sl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.players,()=>c.Message.addToRepeatedWrapperField(h,1,ce.deserialize(a),ce));break;case 2:h.frame=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Sl.deserialize(n)}};yp=new WeakMap;let Ae=Sl;Ku.SC_PLAYER_STATE=Sl;let wl=class wl extends c.Message{constructor(n){super();fe(this,_p,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,_p)),!Array.isArray(n)&&typeof n=="object"&&(this.food=n.food,"frame"in n&&n.frame!=null&&(this.frame=n.frame))}get food(){return c.Message.getRepeatedWrapperField(this,se,1)}set food(n){c.Message.setRepeatedWrapperField(this,1,n)}get frame(){return c.Message.getFieldWithDefault(this,2,0)}set frame(n){c.Message.setField(this,2,n)}get has_frame(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new wl({food:n.food.map(h=>se.fromObject(h))});return n.frame!=null&&(a.frame=n.frame),a}toObject(){let n={};return this.food!=null&&(n.food=this.food.map(a=>a.toObject())),this.frame!=null&&(n.frame=this.frame),n}serialize(n){let a=n||new c.BinaryWriter;if(this.food.length&&a.writeRepeatedMessage(1,this.food,h=>h.serialize(a)),this.has_frame&&a.writeInt64(2,this.frame),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new wl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,1,se.deserialize(a),se));break;case 2:h.frame=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return wl.deserialize(n)}};_p=new WeakMap;let Le=wl;Ku.SC_GEN_FOOD=wl;let El=class El extends c.Message{constructor(n){super();fe(this,xp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,xp)),!Array.isArray(n)&&typeof n=="object"&&"players"in n&&n.players!=null&&(this.players=n.players)}get players(){return c.Message.getWrapperField(this,ce,2)}set players(n){c.Message.setWrapperField(this,2,n)}get has_players(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new El({});return n.players!=null&&(a.players=ce.fromObject(n.players)),a}toObject(){let n={};return this.players!=null&&(n.players=this.players.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_players&&a.writeMessage(2,this.players,()=>this.players.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new El;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 2:a.readMessage(h.players,()=>h.players=ce.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return El.deserialize(n)}};xp=new WeakMap;let R=El;Ku.SS_NOTICE_ENTER=El;let Ll=class Ll extends c.Message{constructor(n){super();fe(this,vp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[8,9],de(this,vp)),!Array.isArray(n)&&typeof n=="object"&&("res"in n&&n.res!=null&&(this.res=n.res),"roleId"in n&&n.roleId!=null&&(this.roleId=n.roleId),"rank"in n&&n.rank!=null&&(this.rank=n.rank),"score"in n&&n.score!=null&&(this.score=n.score),"kills"in n&&n.kills!=null&&(this.kills=n.kills),"length"in n&&n.length!=null&&(this.length=n.length),"alive"in n&&n.alive!=null&&(this.alive=n.alive),this.items=n.items,this.token=n.token)}get res(){return c.Message.getFieldWithDefault(this,1,!1)}set res(n){c.Message.setField(this,1,n)}get has_res(){return c.Message.getField(this,1)!=null}get roleId(){return c.Message.getFieldWithDefault(this,2,"")}set roleId(n){c.Message.setField(this,2,n)}get has_roleId(){return c.Message.getField(this,2)!=null}get rank(){return c.Message.getFieldWithDefault(this,3,0)}set rank(n){c.Message.setField(this,3,n)}get has_rank(){return c.Message.getField(this,3)!=null}get score(){return c.Message.getFieldWithDefault(this,4,0)}set score(n){c.Message.setField(this,4,n)}get has_score(){return c.Message.getField(this,4)!=null}get kills(){return c.Message.getFieldWithDefault(this,5,0)}set kills(n){c.Message.setField(this,5,n)}get has_kills(){return c.Message.getField(this,5)!=null}get length(){return c.Message.getFieldWithDefault(this,6,0)}set length(n){c.Message.setField(this,6,n)}get has_length(){return c.Message.getField(this,6)!=null}get alive(){return c.Message.getFieldWithDefault(this,7,0)}set alive(n){c.Message.setField(this,7,n)}get has_alive(){return c.Message.getField(this,7)!=null}get items(){return c.Message.getRepeatedWrapperField(this,S,8)}set items(n){c.Message.setRepeatedWrapperField(this,8,n)}get token(){return c.Message.getFieldWithDefault(this,9,[])}set token(n){c.Message.setField(this,9,n)}static fromObject(n){let a=new Ll({items:n.items.map(h=>S.fromObject(h)),token:n.token});return n.res!=null&&(a.res=n.res),n.roleId!=null&&(a.roleId=n.roleId),n.rank!=null&&(a.rank=n.rank),n.score!=null&&(a.score=n.score),n.kills!=null&&(a.kills=n.kills),n.length!=null&&(a.length=n.length),n.alive!=null&&(a.alive=n.alive),a}toObject(){let n={token:this.token};return this.res!=null&&(n.res=this.res),this.roleId!=null&&(n.roleId=this.roleId),this.rank!=null&&(n.rank=this.rank),this.score!=null&&(n.score=this.score),this.kills!=null&&(n.kills=this.kills),this.length!=null&&(n.length=this.length),this.alive!=null&&(n.alive=this.alive),this.items!=null&&(n.items=this.items.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_res&&a.writeBool(1,this.res),this.has_roleId&&this.roleId.length&&a.writeString(2,this.roleId),this.has_rank&&a.writeInt32(3,this.rank),this.has_score&&a.writeInt32(4,this.score),this.has_kills&&a.writeInt32(5,this.kills),this.has_length&&a.writeInt32(6,this.length),this.has_alive&&a.writeInt32(7,this.alive),this.items.length&&a.writeRepeatedMessage(8,this.items,h=>h.serialize(a)),this.token.length&&a.writeRepeatedString(9,this.token),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Ll;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.res=a.readBool();break;case 2:h.roleId=a.readString();break;case 3:h.rank=a.readInt32();break;case 4:h.score=a.readInt32();break;case 5:h.kills=a.readInt32();break;case 6:h.length=a.readInt32();break;case 7:h.alive=a.readInt32();break;case 8:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,8,S.deserialize(a),S));break;case 9:c.Message.addToRepeatedField(h,9,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Ll.deserialize(n)}};vp=new WeakMap;let $e=Ll;Ku.SC_BATTLE_END=Ll;let Tl=class Tl extends c.Message{constructor(n){super();fe(this,Ip,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,Ip)),!Array.isArray(n)&&typeof n=="object"&&(this.fid=n.fid,"head"in n&&n.head!=null&&(this.head=n.head),this.roleId=n.roleId,"frame"in n&&n.frame!=null&&(this.frame=n.frame))}get fid(){return c.Message.getFieldWithDefault(this,1,[])}set fid(n){c.Message.setField(this,1,n)}get head(){return c.Message.getWrapperField(this,oe,2)}set head(n){c.Message.setWrapperField(this,2,n)}get has_head(){return c.Message.getField(this,2)!=null}get roleId(){return c.Message.getField(this,3)}set roleId(n){c.Message.setField(this,3,n)}get has_roleId(){return c.Message.getField(this,3)!=null}get frame(){return c.Message.getFieldWithDefault(this,4,0)}set frame(n){c.Message.setField(this,4,n)}get has_frame(){return c.Message.getField(this,4)!=null}static fromObject(n){let a=new Tl({fid:n.fid,roleId:n.roleId});return n.head!=null&&(a.head=oe.fromObject(n.head)),n.frame!=null&&(a.frame=n.frame),a}toObject(){let n={fid:this.fid};return this.head!=null&&(n.head=this.head.toObject()),this.roleId!=null&&(n.roleId=this.roleId),this.frame!=null&&(n.frame=this.frame),n}serialize(n){let a=n||new c.BinaryWriter;if(this.fid.length&&a.writeRepeatedString(1,this.fid),this.has_head&&a.writeMessage(2,this.head,()=>this.head.serialize(a)),this.has_roleId&&this.roleId.length&&a.writeString(3,this.roleId),this.has_frame&&a.writeInt64(4,this.frame),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Tl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;case 2:a.readMessage(h.head,()=>h.head=oe.deserialize(a));break;case 3:h.roleId=a.readString();break;case 4:h.frame=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Tl.deserialize(n)}};Ip=new WeakMap;let Ie=Tl;Ku.CS_EAT_FOOD=Tl;let Cl=class Cl extends c.Message{constructor(n){super();fe(this,kp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1,7,11],de(this,kp)),!Array.isArray(n)&&typeof n=="object"&&(this.fid=n.fid,"head"in n&&n.head!=null&&(this.head=n.head),"frame"in n&&n.frame!=null&&(this.frame=n.frame),"score"in n&&n.score!=null&&(this.score=n.score),"lenght"in n&&n.lenght!=null&&(this.lenght=n.lenght),this.roleId=n.roleId,this.remain=n.remain,"curDir"in n&&n.curDir!=null&&(this.curDir=n.curDir),"aimDir"in n&&n.aimDir!=null&&(this.aimDir=n.aimDir),"speed"in n&&n.speed!=null&&(this.speed=n.speed),this.snake=n.snake)}get fid(){return c.Message.getFieldWithDefault(this,1,[])}set fid(n){c.Message.setField(this,1,n)}get head(){return c.Message.getWrapperField(this,oe,2)}set head(n){c.Message.setWrapperField(this,2,n)}get has_head(){return c.Message.getField(this,2)!=null}get frame(){return c.Message.getFieldWithDefault(this,3,0)}set frame(n){c.Message.setField(this,3,n)}get has_frame(){return c.Message.getField(this,3)!=null}get score(){return c.Message.getFieldWithDefault(this,4,0)}set score(n){c.Message.setField(this,4,n)}get has_score(){return c.Message.getField(this,4)!=null}get lenght(){return c.Message.getFieldWithDefault(this,5,0)}set lenght(n){c.Message.setField(this,5,n)}get has_lenght(){return c.Message.getField(this,5)!=null}get roleId(){return c.Message.getField(this,6)}set roleId(n){c.Message.setField(this,6,n)}get has_roleId(){return c.Message.getField(this,6)!=null}get remain(){return c.Message.getFieldWithDefault(this,7,[])}set remain(n){c.Message.setField(this,7,n)}get curDir(){return c.Message.getFieldWithDefault(this,8,0)}set curDir(n){c.Message.setField(this,8,n)}get has_curDir(){return c.Message.getField(this,8)!=null}get aimDir(){return c.Message.getFieldWithDefault(this,9,0)}set aimDir(n){c.Message.setField(this,9,n)}get has_aimDir(){return c.Message.getField(this,9)!=null}get speed(){return c.Message.getFieldWithDefault(this,10,0)}set speed(n){c.Message.setField(this,10,n)}get has_speed(){return c.Message.getField(this,10)!=null}get snake(){return c.Message.getRepeatedWrapperField(this,oe,11)}set snake(n){c.Message.setRepeatedWrapperField(this,11,n)}static fromObject(n){let a=new Cl({fid:n.fid,roleId:n.roleId,remain:n.remain,snake:n.snake.map(h=>oe.fromObject(h))});return n.head!=null&&(a.head=oe.fromObject(n.head)),n.frame!=null&&(a.frame=n.frame),n.score!=null&&(a.score=n.score),n.lenght!=null&&(a.lenght=n.lenght),n.curDir!=null&&(a.curDir=n.curDir),n.aimDir!=null&&(a.aimDir=n.aimDir),n.speed!=null&&(a.speed=n.speed),a}toObject(){let n={fid:this.fid,remain:this.remain};return this.head!=null&&(n.head=this.head.toObject()),this.frame!=null&&(n.frame=this.frame),this.score!=null&&(n.score=this.score),this.lenght!=null&&(n.lenght=this.lenght),this.roleId!=null&&(n.roleId=this.roleId),this.curDir!=null&&(n.curDir=this.curDir),this.aimDir!=null&&(n.aimDir=this.aimDir),this.speed!=null&&(n.speed=this.speed),this.snake!=null&&(n.snake=this.snake.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.fid.length&&a.writeRepeatedString(1,this.fid),this.has_head&&a.writeMessage(2,this.head,()=>this.head.serialize(a)),this.has_frame&&a.writeInt64(3,this.frame),this.has_score&&a.writeInt32(4,this.score),this.has_lenght&&a.writeInt32(5,this.lenght),this.has_roleId&&this.roleId.length&&a.writeString(6,this.roleId),this.remain.length&&a.writeRepeatedString(7,this.remain),this.has_curDir&&a.writeFloat(8,this.curDir),this.has_aimDir&&a.writeFloat(9,this.aimDir),this.has_speed&&a.writeFloat(10,this.speed),this.snake.length&&a.writeRepeatedMessage(11,this.snake,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Cl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;case 2:a.readMessage(h.head,()=>h.head=oe.deserialize(a));break;case 3:h.frame=a.readInt64();break;case 4:h.score=a.readInt32();break;case 5:h.lenght=a.readInt32();break;case 6:h.roleId=a.readString();break;case 7:c.Message.addToRepeatedField(h,7,a.readString());break;case 8:h.curDir=a.readFloat();break;case 9:h.aimDir=a.readFloat();break;case 10:h.speed=a.readFloat();break;case 11:a.readMessage(h.snake,()=>c.Message.addToRepeatedWrapperField(h,11,oe.deserialize(a),oe));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Cl.deserialize(n)}};kp=new WeakMap;let nt=Cl;Ku.SC_EAT_FOOD=Cl;let Al=class Al extends c.Message{constructor(n){super();fe(this,Sp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Sp)),!Array.isArray(n)&&typeof n=="object"&&("target"in n&&n.target!=null&&(this.target=n.target),"head"in n&&n.head!=null&&(this.head=n.head),"frame"in n&&n.frame!=null&&(this.frame=n.frame),"body"in n&&n.body!=null&&(this.body=n.body),"roleId"in n&&n.roleId!=null&&(this.roleId=n.roleId))}get target(){return c.Message.getFieldWithDefault(this,1,"")}set target(n){c.Message.setField(this,1,n)}get has_target(){return c.Message.getField(this,1)!=null}get head(){return c.Message.getWrapperField(this,oe,2)}set head(n){c.Message.setWrapperField(this,2,n)}get has_head(){return c.Message.getField(this,2)!=null}get frame(){return c.Message.getFieldWithDefault(this,3,0)}set frame(n){c.Message.setField(this,3,n)}get has_frame(){return c.Message.getField(this,3)!=null}get body(){return c.Message.getFieldWithDefault(this,4,!1)}set body(n){c.Message.setField(this,4,n)}get has_body(){return c.Message.getField(this,4)!=null}get roleId(){return c.Message.getFieldWithDefault(this,5,"")}set roleId(n){c.Message.setField(this,5,n)}get has_roleId(){return c.Message.getField(this,5)!=null}static fromObject(n){let a=new Al({});return n.target!=null&&(a.target=n.target),n.head!=null&&(a.head=oe.fromObject(n.head)),n.frame!=null&&(a.frame=n.frame),n.body!=null&&(a.body=n.body),n.roleId!=null&&(a.roleId=n.roleId),a}toObject(){let n={};return this.target!=null&&(n.target=this.target),this.head!=null&&(n.head=this.head.toObject()),this.frame!=null&&(n.frame=this.frame),this.body!=null&&(n.body=this.body),this.roleId!=null&&(n.roleId=this.roleId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_target&&this.target.length&&a.writeString(1,this.target),this.has_head&&a.writeMessage(2,this.head,()=>this.head.serialize(a)),this.has_frame&&a.writeInt64(3,this.frame),this.has_body&&a.writeBool(4,this.body),this.has_roleId&&this.roleId.length&&a.writeString(5,this.roleId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Al;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.target=a.readString();break;case 2:a.readMessage(h.head,()=>h.head=oe.deserialize(a));break;case 3:h.frame=a.readInt64();break;case 4:h.body=a.readBool();break;case 5:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Al.deserialize(n)}};Sp=new WeakMap;let At=Al;Ku.CS_PLAYER_COLLISION=Al;let Ml=class Ml extends c.Message{constructor(n){super();fe(this,wp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[4,11],de(this,wp)),!Array.isArray(n)&&typeof n=="object"&&("roleId"in n&&n.roleId!=null&&(this.roleId=n.roleId),"head"in n&&n.head!=null&&(this.head=n.head),this.food=n.food,"taret"in n&&n.taret!=null&&(this.taret=n.taret),"frame"in n&&n.frame!=null&&(this.frame=n.frame),"curDir"in n&&n.curDir!=null&&(this.curDir=n.curDir),"aimDir"in n&&n.aimDir!=null&&(this.aimDir=n.aimDir),"speed"in n&&n.speed!=null&&(this.speed=n.speed),"die"in n&&n.die!=null&&(this.die=n.die),this.snake=n.snake)}get roleId(){return c.Message.getFieldWithDefault(this,1,"")}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}get head(){return c.Message.getWrapperField(this,oe,2)}set head(n){c.Message.setWrapperField(this,2,n)}get has_head(){return c.Message.getField(this,2)!=null}get food(){return c.Message.getRepeatedWrapperField(this,se,4)}set food(n){c.Message.setRepeatedWrapperField(this,4,n)}get taret(){return c.Message.getFieldWithDefault(this,5,"")}set taret(n){c.Message.setField(this,5,n)}get has_taret(){return c.Message.getField(this,5)!=null}get frame(){return c.Message.getFieldWithDefault(this,6,0)}set frame(n){c.Message.setField(this,6,n)}get has_frame(){return c.Message.getField(this,6)!=null}get curDir(){return c.Message.getFieldWithDefault(this,7,0)}set curDir(n){c.Message.setField(this,7,n)}get has_curDir(){return c.Message.getField(this,7)!=null}get aimDir(){return c.Message.getFieldWithDefault(this,8,0)}set aimDir(n){c.Message.setField(this,8,n)}get has_aimDir(){return c.Message.getField(this,8)!=null}get speed(){return c.Message.getFieldWithDefault(this,9,0)}set speed(n){c.Message.setField(this,9,n)}get has_speed(){return c.Message.getField(this,9)!=null}get die(){return c.Message.getFieldWithDefault(this,10,"")}set die(n){c.Message.setField(this,10,n)}get has_die(){return c.Message.getField(this,10)!=null}get snake(){return c.Message.getRepeatedWrapperField(this,oe,11)}set snake(n){c.Message.setRepeatedWrapperField(this,11,n)}static fromObject(n){let a=new Ml({food:n.food.map(h=>se.fromObject(h)),snake:n.snake.map(h=>oe.fromObject(h))});return n.roleId!=null&&(a.roleId=n.roleId),n.head!=null&&(a.head=oe.fromObject(n.head)),n.taret!=null&&(a.taret=n.taret),n.frame!=null&&(a.frame=n.frame),n.curDir!=null&&(a.curDir=n.curDir),n.aimDir!=null&&(a.aimDir=n.aimDir),n.speed!=null&&(a.speed=n.speed),n.die!=null&&(a.die=n.die),a}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),this.head!=null&&(n.head=this.head.toObject()),this.food!=null&&(n.food=this.food.map(a=>a.toObject())),this.taret!=null&&(n.taret=this.taret),this.frame!=null&&(n.frame=this.frame),this.curDir!=null&&(n.curDir=this.curDir),this.aimDir!=null&&(n.aimDir=this.aimDir),this.speed!=null&&(n.speed=this.speed),this.die!=null&&(n.die=this.die),this.snake!=null&&(n.snake=this.snake.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_head&&a.writeMessage(2,this.head,()=>this.head.serialize(a)),this.food.length&&a.writeRepeatedMessage(4,this.food,h=>h.serialize(a)),this.has_taret&&this.taret.length&&a.writeString(5,this.taret),this.has_frame&&a.writeInt64(6,this.frame),this.has_curDir&&a.writeFloat(7,this.curDir),this.has_aimDir&&a.writeFloat(8,this.aimDir),this.has_speed&&a.writeFloat(9,this.speed),this.has_die&&this.die.length&&a.writeString(10,this.die),this.snake.length&&a.writeRepeatedMessage(11,this.snake,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Ml;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:a.readMessage(h.head,()=>h.head=oe.deserialize(a));break;case 4:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,4,se.deserialize(a),se));break;case 5:h.taret=a.readString();break;case 6:h.frame=a.readInt64();break;case 7:h.curDir=a.readFloat();break;case 8:h.aimDir=a.readFloat();break;case 9:h.speed=a.readFloat();break;case 10:h.die=a.readString();break;case 11:a.readMessage(h.snake,()=>c.Message.addToRepeatedWrapperField(h,11,oe.deserialize(a),oe));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Ml.deserialize(n)}};wp=new WeakMap;let Xt=Ml;Ku.SC_PLAYER_COLLISION=Ml;let Rl=class Rl extends c.Message{constructor(n){super();fe(this,Ep,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Ep)),!Array.isArray(n)&&typeof n=="object"&&"time"in n&&n.time!=null&&(this.time=n.time)}get time(){return c.Message.getFieldWithDefault(this,1,0)}set time(n){c.Message.setField(this,1,n)}get has_time(){return c.Message.getField(this,1)!=null}static fromObject(n){let a=new Rl({});return n.time!=null&&(a.time=n.time),a}toObject(){let n={};return this.time!=null&&(n.time=this.time),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_time&&a.writeInt64(1,this.time),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Rl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.time=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Rl.deserialize(n)}};Ep=new WeakMap;let oi=Rl;Ku.SC_REQUEST_SERVER_TIME=Rl;let Bl=class Bl extends c.Message{constructor(n){super();fe(this,Lp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Lp)),!Array.isArray(n)&&typeof n=="object"&&(this.roleId=n.roleId)}get roleId(){return c.Message.getField(this,1)}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}static fromObject(n){return new Bl({roleId:n.roleId})}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Bl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Bl.deserialize(n)}};Lp=new WeakMap;let bt=Bl;Ku.CS_REQUEST_ROOM_DATA=Bl;let Dl=class Dl extends c.Message{constructor(n){super();fe(this,Tp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1,2],de(this,Tp)),!Array.isArray(n)&&typeof n=="object"&&(this.food=n.food,this.players=n.players)}get food(){return c.Message.getRepeatedWrapperField(this,se,1)}set food(n){c.Message.setRepeatedWrapperField(this,1,n)}get players(){return c.Message.getRepeatedWrapperField(this,ce,2)}set players(n){c.Message.setRepeatedWrapperField(this,2,n)}static fromObject(n){return new Dl({food:n.food.map(h=>se.fromObject(h)),players:n.players.map(h=>ce.fromObject(h))})}toObject(){let n={};return this.food!=null&&(n.food=this.food.map(a=>a.toObject())),this.players!=null&&(n.players=this.players.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.food.length&&a.writeRepeatedMessage(1,this.food,h=>h.serialize(a)),this.players.length&&a.writeRepeatedMessage(2,this.players,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Dl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,1,se.deserialize(a),se));break;case 2:a.readMessage(h.players,()=>c.Message.addToRepeatedWrapperField(h,2,ce.deserialize(a),ce));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Dl.deserialize(n)}};Tp=new WeakMap;let Bi=Dl;Ku.SC_REQUEST_ROOM_DATA=Dl;let Ol=class Ol extends c.Message{constructor(n){super();fe(this,Cp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,Cp)),!Array.isArray(n)&&typeof n=="object"&&(this.info=n.info)}get info(){return c.Message.getFieldWithDefault(this,1,[])}set info(n){c.Message.setField(this,1,n)}static fromObject(n){return new Ol({info:n.info})}toObject(){return{info:this.info}}serialize(n){let a=n||new c.BinaryWriter;if(this.info.length&&a.writeRepeatedString(1,this.info),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Ol;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Ol.deserialize(n)}};Cp=new WeakMap;let Ti=Ol;Ku.SC_INVITE_LIST=Ol;let Nl=class Nl extends c.Message{constructor(n){super();fe(this,Ap,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Ap)),!Array.isArray(n)&&typeof n=="object"&&(this.roleId=n.roleId,"type"in n&&n.type!=null&&(this.type=n.type))}get roleId(){return c.Message.getField(this,1)}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getFieldWithDefault(this,2,0)}set type(n){c.Message.setField(this,2,n)}get has_type(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new Nl({roleId:n.roleId});return n.type!=null&&(a.type=n.type),a}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),this.type!=null&&(n.type=this.type),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_type&&a.writeInt32(2,this.type),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Nl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Nl.deserialize(n)}};Ap=new WeakMap;let Xi=Nl;Ku.CS_REQUEST_INFO=Nl;let Fl=class Fl extends c.Message{constructor(n){super();fe(this,Mp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Mp)),!Array.isArray(n)&&typeof n=="object"&&(this.roleInfo=n.roleInfo)}get roleInfo(){return c.Message.getWrapperField(this,x,1)}set roleInfo(n){c.Message.setWrapperField(this,1,n)}get has_roleInfo(){return c.Message.getField(this,1)!=null}static fromObject(n){return new Fl({roleInfo:x.fromObject(n.roleInfo)})}toObject(){let n={};return this.roleInfo!=null&&(n.roleInfo=this.roleInfo.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleInfo&&a.writeMessage(1,this.roleInfo,()=>this.roleInfo.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Fl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.roleInfo,()=>h.roleInfo=x.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Fl.deserialize(n)}};Mp=new WeakMap;let Zi=Fl;Ku.SC_REQUEST_INFO=Fl;let Pl=class Pl extends c.Message{constructor(n){super();fe(this,Rp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Rp)),!Array.isArray(n)&&typeof n=="object"&&(this.id=n.id,"symbolId"in n&&n.symbolId!=null&&(this.symbolId=n.symbolId),"num"in n&&n.num!=null&&(this.num=n.num))}get id(){return c.Message.getField(this,1)}set id(n){c.Message.setField(this,1,n)}get has_id(){return c.Message.getField(this,1)!=null}get symbolId(){return c.Message.getFieldWithDefault(this,2,0)}set symbolId(n){c.Message.setField(this,2,n)}get has_symbolId(){return c.Message.getField(this,2)!=null}get num(){return c.Message.getFieldWithDefault(this,3,0)}set num(n){c.Message.setField(this,3,n)}get has_num(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new Pl({id:n.id});return n.symbolId!=null&&(a.symbolId=n.symbolId),n.num!=null&&(a.num=n.num),a}toObject(){let n={};return this.id!=null&&(n.id=this.id),this.symbolId!=null&&(n.symbolId=this.symbolId),this.num!=null&&(n.num=this.num),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_id&&a.writeInt32(1,this.id),this.has_symbolId&&a.writeInt32(2,this.symbolId),this.has_num&&a.writeInt32(3,this.num),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Pl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.id=a.readInt32();break;case 2:h.symbolId=a.readInt32();break;case 3:h.num=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Pl.deserialize(n)}};Rp=new WeakMap;let hr=Pl;Ku.CS_SHOP_BUY=Pl;let Ul=class Ul extends c.Message{constructor(n){super();fe(this,Bp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1,2],de(this,Bp)),!Array.isArray(n)&&typeof n=="object"&&(this.cost=n.cost,this.items=n.items,"snake"in n&&n.snake!=null&&(this.snake=n.snake))}get cost(){return c.Message.getRepeatedWrapperField(this,S,1)}set cost(n){c.Message.setRepeatedWrapperField(this,1,n)}get items(){return c.Message.getRepeatedWrapperField(this,S,2)}set items(n){c.Message.setRepeatedWrapperField(this,2,n)}get snake(){return c.Message.getWrapperField(this,_,3)}set snake(n){c.Message.setWrapperField(this,3,n)}get has_snake(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new Ul({cost:n.cost.map(h=>S.fromObject(h)),items:n.items.map(h=>S.fromObject(h))});return n.snake!=null&&(a.snake=_.fromObject(n.snake)),a}toObject(){let n={};return this.cost!=null&&(n.cost=this.cost.map(a=>a.toObject())),this.items!=null&&(n.items=this.items.map(a=>a.toObject())),this.snake!=null&&(n.snake=this.snake.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.cost.length&&a.writeRepeatedMessage(1,this.cost,h=>h.serialize(a)),this.items.length&&a.writeRepeatedMessage(2,this.items,h=>h.serialize(a)),this.has_snake&&a.writeMessage(3,this.snake,()=>this.snake.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Ul;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.cost,()=>c.Message.addToRepeatedWrapperField(h,1,S.deserialize(a),S));break;case 2:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,2,S.deserialize(a),S));break;case 3:a.readMessage(h.snake,()=>h.snake=_.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Ul.deserialize(n)}};Bp=new WeakMap;let Cn=Ul;Ku.SC_SHOP_BUY=Ul;let Hl=class Hl extends c.Message{constructor(n){super();fe(this,Dp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,Dp)),!Array.isArray(n)&&typeof n=="object"&&(this.msgList=n.msgList,this.frame=n.frame)}get msgList(){return c.Message.getRepeatedWrapperField(this,l,1)}set msgList(n){c.Message.setRepeatedWrapperField(this,1,n)}get frame(){return c.Message.getField(this,2)}set frame(n){c.Message.setField(this,2,n)}get has_frame(){return c.Message.getField(this,2)!=null}static fromObject(n){return new Hl({msgList:n.msgList.map(h=>l.fromObject(h)),frame:n.frame})}toObject(){let n={};return this.msgList!=null&&(n.msgList=this.msgList.map(a=>a.toObject())),this.frame!=null&&(n.frame=this.frame),n}serialize(n){let a=n||new c.BinaryWriter;if(this.msgList.length&&a.writeRepeatedMessage(1,this.msgList,h=>h.serialize(a)),this.has_frame&&a.writeInt64(2,this.frame),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Hl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.msgList,()=>c.Message.addToRepeatedWrapperField(h,1,l.deserialize(a),l));break;case 2:h.frame=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Hl.deserialize(n)}};Dp=new WeakMap;let dr=Hl;Ku.SC_PUSH=Hl;let zl=class zl extends c.Message{constructor(n){super();fe(this,Op,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,Op)),!Array.isArray(n)&&typeof n=="object"&&(this.token=n.token)}get token(){return c.Message.getFieldWithDefault(this,1,[])}set token(n){c.Message.setField(this,1,n)}static fromObject(n){return new zl({token:n.token})}toObject(){return{token:this.token}}serialize(n){let a=n||new c.BinaryWriter;if(this.token.length&&a.writeRepeatedString(1,this.token),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new zl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return zl.deserialize(n)}};Op=new WeakMap;let ji=zl;Ku.SC_QUERY_TOKEN=zl;let jl=class jl extends c.Message{constructor(n){super();fe(this,Np,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Np)),!Array.isArray(n)&&typeof n=="object"&&(this.roleId=n.roleId)}get roleId(){return c.Message.getField(this,1)}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}static fromObject(n){return new jl({roleId:n.roleId})}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new jl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return jl.deserialize(n)}};Np=new WeakMap;let Fr=jl;Ku.SC_PLAYER_OUT=jl;let Gl=class Gl extends c.Message{constructor(n){super();fe(this,Fp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Fp)),!Array.isArray(n)&&typeof n=="object"&&"symbolId"in n&&n.symbolId!=null&&(this.symbolId=n.symbolId)}get symbolId(){return c.Message.getFieldWithDefault(this,2,0)}set symbolId(n){c.Message.setField(this,2,n)}get has_symbolId(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new Gl({});return n.symbolId!=null&&(a.symbolId=n.symbolId),a}toObject(){let n={};return this.symbolId!=null&&(n.symbolId=this.symbolId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_symbolId&&a.writeInt32(2,this.symbolId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Gl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 2:h.symbolId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Gl.deserialize(n)}};Fp=new WeakMap;let fr=Gl;Ku.CS_CHARGE=Gl;let Vl=class Vl extends c.Message{constructor(n){super();fe(this,Pp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Pp)),!Array.isArray(n)&&typeof n=="object"&&("symbolId"in n&&n.symbolId!=null&&(this.symbolId=n.symbolId),"depositAddress"in n&&n.depositAddress!=null&&(this.depositAddress=n.depositAddress),"abi"in n&&n.abi!=null&&(this.abi=n.abi),"chainId"in n&&n.chainId!=null&&(this.chainId=n.chainId))}get symbolId(){return c.Message.getFieldWithDefault(this,1,0)}set symbolId(n){c.Message.setField(this,1,n)}get has_symbolId(){return c.Message.getField(this,1)!=null}get depositAddress(){return c.Message.getFieldWithDefault(this,2,"")}set depositAddress(n){c.Message.setField(this,2,n)}get has_depositAddress(){return c.Message.getField(this,2)!=null}get abi(){return c.Message.getFieldWithDefault(this,3,"")}set abi(n){c.Message.setField(this,3,n)}get has_abi(){return c.Message.getField(this,3)!=null}get chainId(){return c.Message.getFieldWithDefault(this,4,0)}set chainId(n){c.Message.setField(this,4,n)}get has_chainId(){return c.Message.getField(this,4)!=null}static fromObject(n){let a=new Vl({});return n.symbolId!=null&&(a.symbolId=n.symbolId),n.depositAddress!=null&&(a.depositAddress=n.depositAddress),n.abi!=null&&(a.abi=n.abi),n.chainId!=null&&(a.chainId=n.chainId),a}toObject(){let n={};return this.symbolId!=null&&(n.symbolId=this.symbolId),this.depositAddress!=null&&(n.depositAddress=this.depositAddress),this.abi!=null&&(n.abi=this.abi),this.chainId!=null&&(n.chainId=this.chainId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_symbolId&&a.writeInt32(1,this.symbolId),this.has_depositAddress&&this.depositAddress.length&&a.writeString(2,this.depositAddress),this.has_abi&&this.abi.length&&a.writeString(3,this.abi),this.has_chainId&&a.writeInt32(4,this.chainId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Vl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.symbolId=a.readInt32();break;case 2:h.depositAddress=a.readString();break;case 3:h.abi=a.readString();break;case 4:h.chainId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Vl.deserialize(n)}};Pp=new WeakMap;let Is=Vl;Ku.SC_CHARGE=Vl;let Wl=class Wl extends c.Message{constructor(n){super();fe(this,Up,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Up)),!Array.isArray(n)&&typeof n=="object"&&(this.symbolId=n.symbolId,this.amount=n.amount)}get symbolId(){return c.Message.getField(this,1)}set symbolId(n){c.Message.setField(this,1,n)}get has_symbolId(){return c.Message.getField(this,1)!=null}get amount(){return c.Message.getField(this,2)}set amount(n){c.Message.setField(this,2,n)}get has_amount(){return c.Message.getField(this,2)!=null}static fromObject(n){return new Wl({symbolId:n.symbolId,amount:n.amount})}toObject(){let n={};return this.symbolId!=null&&(n.symbolId=this.symbolId),this.amount!=null&&(n.amount=this.amount),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_symbolId&&a.writeInt32(1,this.symbolId),this.has_amount&&a.writeDouble(2,this.amount),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Wl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.symbolId=a.readInt32();break;case 2:h.amount=a.readDouble();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Wl.deserialize(n)}};Up=new WeakMap;let xo=Wl;Ku.CS_WITHDRAW=Wl;let Kl=class Kl extends c.Message{constructor(n){super();fe(this,Hp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Hp)),!Array.isArray(n)&&typeof n=="object"&&"resp"in n&&n.resp!=null&&(this.resp=n.resp)}get resp(){return c.Message.getFieldWithDefault(this,1,"")}set resp(n){c.Message.setField(this,1,n)}get has_resp(){return c.Message.getField(this,1)!=null}static fromObject(n){let a=new Kl({});return n.resp!=null&&(a.resp=n.resp),a}toObject(){let n={};return this.resp!=null&&(n.resp=this.resp),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_resp&&this.resp.length&&a.writeString(1,this.resp),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Kl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.resp=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Kl.deserialize(n)}};Hp=new WeakMap;let Gu=Kl;Ku.SC_WITHDRAW=Kl;let $l=class $l extends c.Message{constructor(n){super();fe(this,zp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,zp)),!Array.isArray(n)&&typeof n=="object"&&(this.roleInfo=n.roleInfo)}get roleInfo(){return c.Message.getRepeatedWrapperField(this,x,1)}set roleInfo(n){c.Message.setRepeatedWrapperField(this,1,n)}static fromObject(n){return new $l({roleInfo:n.roleInfo.map(h=>x.fromObject(h))})}toObject(){let n={};return this.roleInfo!=null&&(n.roleInfo=this.roleInfo.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.roleInfo.length&&a.writeRepeatedMessage(1,this.roleInfo,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new $l;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.roleInfo,()=>c.Message.addToRepeatedWrapperField(h,1,x.deserialize(a),x));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return $l.deserialize(n)}};zp=new WeakMap;let ks=$l;Ku.SS_UPDATE_ROLE=$l;let ql=class ql extends c.Message{constructor(n){super();fe(this,jp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,jp)),!Array.isArray(n)&&typeof n=="object"&&(this.ids=n.ids)}get ids(){return c.Message.getFieldWithDefault(this,1,[])}set ids(n){c.Message.setField(this,1,n)}static fromObject(n){return new ql({ids:n.ids})}toObject(){return{ids:this.ids}}serialize(n){let a=n||new c.BinaryWriter;if(this.ids.length&&a.writeRepeatedString(1,this.ids),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new ql;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return ql.deserialize(n)}};jp=new WeakMap;let Xa=ql;Ku.SS_UPDATE_CALLBACK=ql;let Yl=class Yl extends c.Message{constructor(n){super();fe(this,Gp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1,2],de(this,Gp)),!Array.isArray(n)&&typeof n=="object"&&(this.items=n.items,this.snake=n.snake)}get items(){return c.Message.getRepeatedWrapperField(this,S,1)}set items(n){c.Message.setRepeatedWrapperField(this,1,n)}get snake(){return c.Message.getRepeatedWrapperField(this,_,2)}set snake(n){c.Message.setRepeatedWrapperField(this,2,n)}static fromObject(n){return new Yl({items:n.items.map(h=>S.fromObject(h)),snake:n.snake.map(h=>_.fromObject(h))})}toObject(){let n={};return this.items!=null&&(n.items=this.items.map(a=>a.toObject())),this.snake!=null&&(n.snake=this.snake.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.items.length&&a.writeRepeatedMessage(1,this.items,h=>h.serialize(a)),this.snake.length&&a.writeRepeatedMessage(2,this.snake,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Yl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,1,S.deserialize(a),S));break;case 2:a.readMessage(h.snake,()=>c.Message.addToRepeatedWrapperField(h,2,_.deserialize(a),_));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Yl.deserialize(n)}};Gp=new WeakMap;let vo=Yl;Ku.SC_PACK_INFO=Yl;let Ql=class Ql extends c.Message{constructor(n){super();fe(this,Vp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Vp)),!Array.isArray(n)&&typeof n=="object"&&(this.toAddress=n.toAddress,this.symbolId=n.symbolId,this.amount=n.amount)}get toAddress(){return c.Message.getField(this,1)}set toAddress(n){c.Message.setField(this,1,n)}get has_toAddress(){return c.Message.getField(this,1)!=null}get symbolId(){return c.Message.getField(this,2)}set symbolId(n){c.Message.setField(this,2,n)}get has_symbolId(){return c.Message.getField(this,2)!=null}get amount(){return c.Message.getField(this,3)}set amount(n){c.Message.setField(this,3,n)}get has_amount(){return c.Message.getField(this,3)!=null}static fromObject(n){return new Ql({toAddress:n.toAddress,symbolId:n.symbolId,amount:n.amount})}toObject(){let n={};return this.toAddress!=null&&(n.toAddress=this.toAddress),this.symbolId!=null&&(n.symbolId=this.symbolId),this.amount!=null&&(n.amount=this.amount),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_toAddress&&this.toAddress.length&&a.writeString(1,this.toAddress),this.has_symbolId&&a.writeInt32(2,this.symbolId),this.has_amount&&a.writeDouble(3,this.amount),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Ql;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.toAddress=a.readString();break;case 2:h.symbolId=a.readInt32();break;case 3:h.amount=a.readDouble();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Ql.deserialize(n)}};Vp=new WeakMap;let Za=Ql;Ku.CS_TRANSFER=Ql;let Xl=class Xl extends c.Message{constructor(n){super();fe(this,Wp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Wp)),!Array.isArray(n)&&typeof n=="object"&&(this.symbolId=n.symbolId)}get symbolId(){return c.Message.getField(this,1)}set symbolId(n){c.Message.setField(this,1,n)}get has_symbolId(){return c.Message.getField(this,1)!=null}static fromObject(n){return new Xl({symbolId:n.symbolId})}toObject(){let n={};return this.symbolId!=null&&(n.symbolId=this.symbolId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_symbolId&&a.writeInt32(1,this.symbolId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Xl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.symbolId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Xl.deserialize(n)}};Wp=new WeakMap;let Vu=Xl;Ku.CS_WITHDRAW_INFO=Xl;let Zl=class Zl extends c.Message{constructor(n){super();fe(this,Kp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Kp)),!Array.isArray(n)&&typeof n=="object"&&"resp"in n&&n.resp!=null&&(this.resp=n.resp)}get resp(){return c.Message.getFieldWithDefault(this,1,"")}set resp(n){c.Message.setField(this,1,n)}get has_resp(){return c.Message.getField(this,1)!=null}static fromObject(n){let a=new Zl({});return n.resp!=null&&(a.resp=n.resp),a}toObject(){let n={};return this.resp!=null&&(n.resp=this.resp),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_resp&&this.resp.length&&a.writeString(1,this.resp),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Zl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.resp=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Zl.deserialize(n)}};Kp=new WeakMap;let D=Zl;Ku.SC_WITHDRAW_INFO=Zl;let Jl=class Jl extends c.Message{constructor(n){super();fe(this,$p,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,$p)),!Array.isArray(n)&&typeof n=="object"&&(this.resp=n.resp)}get resp(){return c.Message.getFieldWithDefault(this,1,[])}set resp(n){c.Message.setField(this,1,n)}static fromObject(n){return new Jl({resp:n.resp})}toObject(){return{resp:this.resp}}serialize(n){let a=n||new c.BinaryWriter;if(this.resp.length&&a.writeRepeatedString(1,this.resp),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Jl;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Jl.deserialize(n)}};$p=new WeakMap;let v=Jl;Ku.SC_CHARGE_RECORD=Jl;let ec=class ec extends c.Message{constructor(n){super();fe(this,qp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,qp)),!Array.isArray(n)&&typeof n=="object"&&(this.resp=n.resp)}get resp(){return c.Message.getFieldWithDefault(this,1,[])}set resp(n){c.Message.setField(this,1,n)}static fromObject(n){return new ec({resp:n.resp})}toObject(){return{resp:this.resp}}serialize(n){let a=n||new c.BinaryWriter;if(this.resp.length&&a.writeRepeatedString(1,this.resp),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new ec;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return ec.deserialize(n)}};qp=new WeakMap;let A=ec;Ku.SC_WITHDRAW_RECORD=ec;let tc=class tc extends c.Message{constructor(n){super();fe(this,Yp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Yp)),!Array.isArray(n)&&typeof n=="object"&&(this.unkey=n.unkey)}get unkey(){return c.Message.getField(this,1)}set unkey(n){c.Message.setField(this,1,n)}get has_unkey(){return c.Message.getField(this,1)!=null}static fromObject(n){return new tc({unkey:n.unkey})}toObject(){let n={};return this.unkey!=null&&(n.unkey=this.unkey),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_unkey&&a.writeInt32(1,this.unkey),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new tc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.unkey=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return tc.deserialize(n)}};Yp=new WeakMap;let B=tc;Ku.CS_SNAKE_UPGRADE=tc;let ic=class ic extends c.Message{constructor(n){super();fe(this,Qp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,Qp)),!Array.isArray(n)&&typeof n=="object"&&(this.cost=n.cost,"snake"in n&&n.snake!=null&&(this.snake=n.snake))}get cost(){return c.Message.getRepeatedWrapperField(this,S,1)}set cost(n){c.Message.setRepeatedWrapperField(this,1,n)}get snake(){return c.Message.getWrapperField(this,_,3)}set snake(n){c.Message.setWrapperField(this,3,n)}get has_snake(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new ic({cost:n.cost.map(h=>S.fromObject(h))});return n.snake!=null&&(a.snake=_.fromObject(n.snake)),a}toObject(){let n={};return this.cost!=null&&(n.cost=this.cost.map(a=>a.toObject())),this.snake!=null&&(n.snake=this.snake.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.cost.length&&a.writeRepeatedMessage(1,this.cost,h=>h.serialize(a)),this.has_snake&&a.writeMessage(3,this.snake,()=>this.snake.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new ic;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.cost,()=>c.Message.addToRepeatedWrapperField(h,1,S.deserialize(a),S));break;case 3:a.readMessage(h.snake,()=>h.snake=_.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return ic.deserialize(n)}};Qp=new WeakMap;let F=ic;Ku.SC_SNAKE_UPGRADE=ic;let rc=class rc extends c.Message{constructor(n){super();fe(this,Xp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Xp)),!Array.isArray(n)&&typeof n=="object"&&(this.unkey=n.unkey)}get unkey(){return c.Message.getField(this,1)}set unkey(n){c.Message.setField(this,1,n)}get has_unkey(){return c.Message.getField(this,1)!=null}static fromObject(n){return new rc({unkey:n.unkey})}toObject(){let n={};return this.unkey!=null&&(n.unkey=this.unkey),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_unkey&&a.writeInt32(1,this.unkey),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new rc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.unkey=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return rc.deserialize(n)}};Xp=new WeakMap;let C=rc;Ku.CS_SNAKE_FIGHT=rc;let nc=class nc extends c.Message{constructor(n){super();fe(this,Zp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,Zp)),!Array.isArray(n)&&typeof n=="object"&&(this.mailId=n.mailId)}get mailId(){return c.Message.getField(this,1)}set mailId(n){c.Message.setField(this,1,n)}get has_mailId(){return c.Message.getField(this,1)!=null}static fromObject(n){return new nc({mailId:n.mailId})}toObject(){let n={};return this.mailId!=null&&(n.mailId=this.mailId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new nc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return nc.deserialize(n)}};Zp=new WeakMap;let Y=nc;Ku.CS_MAIL_CHECK=nc;let sc=class sc extends c.Message{constructor(n){super();fe(this,Jp,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,Jp)),!Array.isArray(n)&&typeof n=="object"&&(this.mail=n.mail)}get mail(){return c.Message.getRepeatedWrapperField(this,E,1)}set mail(n){c.Message.setRepeatedWrapperField(this,1,n)}static fromObject(n){return new sc({mail:n.mail.map(h=>E.fromObject(h))})}toObject(){let n={};return this.mail!=null&&(n.mail=this.mail.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.mail.length&&a.writeRepeatedMessage(1,this.mail,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new sc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.mail,()=>c.Message.addToRepeatedWrapperField(h,1,E.deserialize(a),E));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return sc.deserialize(n)}};Jp=new WeakMap;let ee=sc;Ku.SC_MAIL_LIST=sc;let oc=class oc extends c.Message{constructor(n){super();fe(this,em,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,em)),!Array.isArray(n)&&typeof n=="object"&&(this.mailId=n.mailId)}get mailId(){return c.Message.getField(this,1)}set mailId(n){c.Message.setField(this,1,n)}get has_mailId(){return c.Message.getField(this,1)!=null}static fromObject(n){return new oc({mailId:n.mailId})}toObject(){let n={};return this.mailId!=null&&(n.mailId=this.mailId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new oc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return oc.deserialize(n)}};em=new WeakMap;let le=oc;Ku.CS_MAIL_GET=oc;let ac=class ac extends c.Message{constructor(n){super();fe(this,tm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[2],de(this,tm)),!Array.isArray(n)&&typeof n=="object"&&("mailId"in n&&n.mailId!=null&&(this.mailId=n.mailId),this.items=n.items,"snake"in n&&n.snake!=null&&(this.snake=n.snake))}get mailId(){return c.Message.getFieldWithDefault(this,1,0)}set mailId(n){c.Message.setField(this,1,n)}get has_mailId(){return c.Message.getField(this,1)!=null}get items(){return c.Message.getRepeatedWrapperField(this,S,2)}set items(n){c.Message.setRepeatedWrapperField(this,2,n)}get snake(){return c.Message.getWrapperField(this,_,3)}set snake(n){c.Message.setWrapperField(this,3,n)}get has_snake(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new ac({items:n.items.map(h=>S.fromObject(h))});return n.mailId!=null&&(a.mailId=n.mailId),n.snake!=null&&(a.snake=_.fromObject(n.snake)),a}toObject(){let n={};return this.mailId!=null&&(n.mailId=this.mailId),this.items!=null&&(n.items=this.items.map(a=>a.toObject())),this.snake!=null&&(n.snake=this.snake.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),this.items.length&&a.writeRepeatedMessage(2,this.items,h=>h.serialize(a)),this.has_snake&&a.writeMessage(3,this.snake,()=>this.snake.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new ac;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;case 2:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,2,S.deserialize(a),S));break;case 3:a.readMessage(h.snake,()=>h.snake=_.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return ac.deserialize(n)}};tm=new WeakMap;let xe=ac;Ku.SC_MAIL_GET=ac;let lc=class lc extends c.Message{constructor(n){super();fe(this,im,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,im)),!Array.isArray(n)&&typeof n=="object"&&(this.mailId=n.mailId)}get mailId(){return c.Message.getField(this,1)}set mailId(n){c.Message.setField(this,1,n)}get has_mailId(){return c.Message.getField(this,1)!=null}static fromObject(n){return new lc({mailId:n.mailId})}toObject(){let n={};return this.mailId!=null&&(n.mailId=this.mailId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new lc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return lc.deserialize(n)}};im=new WeakMap;let Oe=lc;Ku.CS_MAIL_DELETE=lc;let cc=class cc extends c.Message{constructor(n){super();fe(this,rm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,rm)),!Array.isArray(n)&&typeof n=="object"&&(this.msg=n.msg)}get msg(){return c.Message.getField(this,1)}set msg(n){c.Message.setField(this,1,n)}get has_msg(){return c.Message.getField(this,1)!=null}static fromObject(n){return new cc({msg:n.msg})}toObject(){let n={};return this.msg!=null&&(n.msg=this.msg),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_msg&&this.msg.length&&a.writeString(1,this.msg),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new cc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.msg=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return cc.deserialize(n)}};rm=new WeakMap;let be=cc;Ku.SC_SYS_NOTICE=cc;let uc=class uc extends c.Message{constructor(n){super();fe(this,nm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,nm)),!Array.isArray(n)&&typeof n=="object"&&(this.type=n.type,this.value=n.value)}get type(){return c.Message.getField(this,1)}set type(n){c.Message.setField(this,1,n)}get has_type(){return c.Message.getField(this,1)!=null}get value(){return c.Message.getField(this,2)}set value(n){c.Message.setField(this,2,n)}get has_value(){return c.Message.getField(this,2)!=null}static fromObject(n){return new uc({type:n.type,value:n.value})}toObject(){let n={};return this.type!=null&&(n.type=this.type),this.value!=null&&(n.value=this.value),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),this.has_value&&this.value.length&&a.writeString(2,this.value),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new uc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;case 2:h.value=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return uc.deserialize(n)}};nm=new WeakMap;let Ce=uc;Ku.CS_CHANGE_INFO=uc;let pc=class pc extends c.Message{constructor(n){super();fe(this,sm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,sm)),!Array.isArray(n)&&typeof n=="object"&&("kills"in n&&n.kills!=null&&(this.kills=n.kills),"score"in n&&n.score!=null&&(this.score=n.score))}get kills(){return c.Message.getFieldWithDefault(this,1,0)}set kills(n){c.Message.setField(this,1,n)}get has_kills(){return c.Message.getField(this,1)!=null}get score(){return c.Message.getFieldWithDefault(this,2,0)}set score(n){c.Message.setField(this,2,n)}get has_score(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new pc({});return n.kills!=null&&(a.kills=n.kills),n.score!=null&&(a.score=n.score),a}toObject(){let n={};return this.kills!=null&&(n.kills=this.kills),this.score!=null&&(n.score=this.score),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_kills&&a.writeInt32(1,this.kills),this.has_score&&a.writeInt32(2,this.score),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new pc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.kills=a.readInt32();break;case 2:h.score=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return pc.deserialize(n)}};sm=new WeakMap;let Ze=pc;Ku.CS_AI_END=pc;let mc=class mc extends c.Message{constructor(n){super();fe(this,om,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,om)),!Array.isArray(n)&&typeof n=="object"&&(this.items=n.items)}get items(){return c.Message.getRepeatedWrapperField(this,S,1)}set items(n){c.Message.setRepeatedWrapperField(this,1,n)}static fromObject(n){return new mc({items:n.items.map(h=>S.fromObject(h))})}toObject(){let n={};return this.items!=null&&(n.items=this.items.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.items.length&&a.writeRepeatedMessage(1,this.items,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new mc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,1,S.deserialize(a),S));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return mc.deserialize(n)}};om=new WeakMap;let ue=mc;Ku.SC_AI_END=mc;let hc=class hc extends c.Message{constructor(n){super();fe(this,am,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,am)),!Array.isArray(n)&&typeof n=="object"&&(this.boxId=n.boxId)}get boxId(){return c.Message.getField(this,1)}set boxId(n){c.Message.setField(this,1,n)}get has_boxId(){return c.Message.getField(this,1)!=null}static fromObject(n){return new hc({boxId:n.boxId})}toObject(){let n={};return this.boxId!=null&&(n.boxId=this.boxId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_boxId&&a.writeInt32(1,this.boxId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new hc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.boxId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return hc.deserialize(n)}};am=new WeakMap;let ct=hc;Ku.CS_OPEN_BOX=hc;let dc=class dc extends c.Message{constructor(n){super();fe(this,lm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1,2],de(this,lm)),!Array.isArray(n)&&typeof n=="object"&&(this.cost=n.cost,this.items=n.items,"snake"in n&&n.snake!=null&&(this.snake=n.snake))}get cost(){return c.Message.getRepeatedWrapperField(this,S,1)}set cost(n){c.Message.setRepeatedWrapperField(this,1,n)}get items(){return c.Message.getRepeatedWrapperField(this,S,2)}set items(n){c.Message.setRepeatedWrapperField(this,2,n)}get snake(){return c.Message.getWrapperField(this,_,3)}set snake(n){c.Message.setWrapperField(this,3,n)}get has_snake(){return c.Message.getField(this,3)!=null}static fromObject(n){let a=new dc({cost:n.cost.map(h=>S.fromObject(h)),items:n.items.map(h=>S.fromObject(h))});return n.snake!=null&&(a.snake=_.fromObject(n.snake)),a}toObject(){let n={};return this.cost!=null&&(n.cost=this.cost.map(a=>a.toObject())),this.items!=null&&(n.items=this.items.map(a=>a.toObject())),this.snake!=null&&(n.snake=this.snake.toObject()),n}serialize(n){let a=n||new c.BinaryWriter;if(this.cost.length&&a.writeRepeatedMessage(1,this.cost,h=>h.serialize(a)),this.items.length&&a.writeRepeatedMessage(2,this.items,h=>h.serialize(a)),this.has_snake&&a.writeMessage(3,this.snake,()=>this.snake.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new dc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.cost,()=>c.Message.addToRepeatedWrapperField(h,1,S.deserialize(a),S));break;case 2:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,2,S.deserialize(a),S));break;case 3:a.readMessage(h.snake,()=>h.snake=_.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return dc.deserialize(n)}};lm=new WeakMap;let ot=dc;Ku.SC_OPEN_BOX=dc;let fc=class fc extends c.Message{constructor(n){super();fe(this,cm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,cm)),!Array.isArray(n)&&typeof n=="object"&&(this.price=n.price)}get price(){return c.Message.getFieldWithDefault(this,1,[])}set price(n){c.Message.setField(this,1,n)}static fromObject(n){return new fc({price:n.price})}toObject(){return{price:this.price}}serialize(n){let a=n||new c.BinaryWriter;if(this.price.length&&a.writeRepeatedString(1,this.price),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new fc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return fc.deserialize(n)}};cm=new WeakMap;let ht=fc;Ku.SC_REQUEST_PRICE=fc;let gc=class gc extends c.Message{constructor(n){super();fe(this,um,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,um)),!Array.isArray(n)&&typeof n=="object"&&(this.type=n.type)}get type(){return c.Message.getField(this,1)}set type(n){c.Message.setField(this,1,n)}get has_type(){return c.Message.getField(this,1)!=null}static fromObject(n){return new gc({type:n.type})}toObject(){let n={};return this.type!=null&&(n.type=this.type),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new gc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return gc.deserialize(n)}};um=new WeakMap;let Lt=gc;Ku.CS_RANK_LIST=gc;let bc=class bc extends c.Message{constructor(n){super();fe(this,pm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,pm)),!Array.isArray(n)&&typeof n=="object"&&(this.rank=n.rank)}get rank(){return c.Message.getRepeatedWrapperField(this,Kt,1)}set rank(n){c.Message.setRepeatedWrapperField(this,1,n)}static fromObject(n){return new bc({rank:n.rank.map(h=>Kt.fromObject(h))})}toObject(){let n={};return this.rank!=null&&(n.rank=this.rank.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.rank.length&&a.writeRepeatedMessage(1,this.rank,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new bc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.rank,()=>c.Message.addToRepeatedWrapperField(h,1,Kt.deserialize(a),Kt));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return bc.deserialize(n)}};pm=new WeakMap;let Ji=bc;Ku.SC_RANK_LIST=bc;let yc=class yc extends c.Message{constructor(n){super();fe(this,mm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,mm)),!Array.isArray(n)&&typeof n=="object"&&("roleId"in n&&n.roleId!=null&&(this.roleId=n.roleId),"userName"in n&&n.userName!=null&&(this.userName=n.userName),"icon"in n&&n.icon!=null&&(this.icon=n.icon),"num"in n&&n.num!=null&&(this.num=n.num),"addr"in n&&n.addr!=null&&(this.addr=n.addr),"country"in n&&n.country!=null&&(this.country=n.country))}get roleId(){return c.Message.getFieldWithDefault(this,1,"")}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}get userName(){return c.Message.getFieldWithDefault(this,2,"")}set userName(n){c.Message.setField(this,2,n)}get has_userName(){return c.Message.getField(this,2)!=null}get icon(){return c.Message.getFieldWithDefault(this,3,"")}set icon(n){c.Message.setField(this,3,n)}get has_icon(){return c.Message.getField(this,3)!=null}get num(){return c.Message.getFieldWithDefault(this,4,0)}set num(n){c.Message.setField(this,4,n)}get has_num(){return c.Message.getField(this,4)!=null}get addr(){return c.Message.getFieldWithDefault(this,5,"")}set addr(n){c.Message.setField(this,5,n)}get has_addr(){return c.Message.getField(this,5)!=null}get country(){return c.Message.getFieldWithDefault(this,6,0)}set country(n){c.Message.setField(this,6,n)}get has_country(){return c.Message.getField(this,6)!=null}static fromObject(n){let a=new yc({});return n.roleId!=null&&(a.roleId=n.roleId),n.userName!=null&&(a.userName=n.userName),n.icon!=null&&(a.icon=n.icon),n.num!=null&&(a.num=n.num),n.addr!=null&&(a.addr=n.addr),n.country!=null&&(a.country=n.country),a}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),this.userName!=null&&(n.userName=this.userName),this.icon!=null&&(n.icon=this.icon),this.num!=null&&(n.num=this.num),this.addr!=null&&(n.addr=this.addr),this.country!=null&&(n.country=this.country),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_userName&&this.userName.length&&a.writeString(2,this.userName),this.has_icon&&this.icon.length&&a.writeString(3,this.icon),this.has_num&&a.writeInt64(4,this.num),this.has_addr&&this.addr.length&&a.writeString(5,this.addr),this.has_country&&a.writeInt32(6,this.country),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new yc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.userName=a.readString();break;case 3:h.icon=a.readString();break;case 4:h.num=a.readInt64();break;case 5:h.addr=a.readString();break;case 6:h.country=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return yc.deserialize(n)}};mm=new WeakMap;let Kt=yc;Ku.RankObject=yc;let _c=class _c extends c.Message{constructor(n){super();fe(this,hm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[3],de(this,hm)),!Array.isArray(n)&&typeof n=="object"&&("lv"in n&&n.lv!=null&&(this.lv=n.lv),"exp"in n&&n.exp!=null&&(this.exp=n.exp),this.items=n.items)}get lv(){return c.Message.getFieldWithDefault(this,1,0)}set lv(n){c.Message.setField(this,1,n)}get has_lv(){return c.Message.getField(this,1)!=null}get exp(){return c.Message.getFieldWithDefault(this,2,0)}set exp(n){c.Message.setField(this,2,n)}get has_exp(){return c.Message.getField(this,2)!=null}get items(){return c.Message.getRepeatedWrapperField(this,S,3)}set items(n){c.Message.setRepeatedWrapperField(this,3,n)}static fromObject(n){let a=new _c({items:n.items.map(h=>S.fromObject(h))});return n.lv!=null&&(a.lv=n.lv),n.exp!=null&&(a.exp=n.exp),a}toObject(){let n={};return this.lv!=null&&(n.lv=this.lv),this.exp!=null&&(n.exp=this.exp),this.items!=null&&(n.items=this.items.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_lv&&a.writeInt32(1,this.lv),this.has_exp&&a.writeInt32(2,this.exp),this.items.length&&a.writeRepeatedMessage(3,this.items,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new _c;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.lv=a.readInt32();break;case 2:h.exp=a.readInt32();break;case 3:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,3,S.deserialize(a),S));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return _c.deserialize(n)}};hm=new WeakMap;let Di=_c;Ku.SC_LVUP_NOTICE=_c;let xc=class xc extends c.Message{constructor(n){super();fe(this,dm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,dm)),!Array.isArray(n)&&typeof n=="object"&&(this.name=n.name,this.icon=n.icon,this.type=n.type)}get name(){return c.Message.getField(this,1)}set name(n){c.Message.setField(this,1,n)}get has_name(){return c.Message.getField(this,1)!=null}get icon(){return c.Message.getField(this,2)}set icon(n){c.Message.setField(this,2,n)}get has_icon(){return c.Message.getField(this,2)!=null}get type(){return c.Message.getField(this,3)}set type(n){c.Message.setField(this,3,n)}get has_type(){return c.Message.getField(this,3)!=null}static fromObject(n){return new xc({name:n.name,icon:n.icon,type:n.type})}toObject(){let n={};return this.name!=null&&(n.name=this.name),this.icon!=null&&(n.icon=this.icon),this.type!=null&&(n.type=this.type),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_name&&this.name.length&&a.writeString(1,this.name),this.has_icon&&this.icon.length&&a.writeString(2,this.icon),this.has_type&&a.writeInt32(3,this.type),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new xc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.name=a.readString();break;case 2:h.icon=a.readString();break;case 3:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return xc.deserialize(n)}};dm=new WeakMap;let Io=xc;Ku.CS_CREATE_CLUB=xc;let vc=class vc extends c.Message{constructor(n){super();fe(this,fm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,fm)),!Array.isArray(n)&&typeof n=="object"&&(this.clubId=n.clubId,this.type=n.type)}get clubId(){return c.Message.getField(this,1)}set clubId(n){c.Message.setField(this,1,n)}get has_clubId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getField(this,2)}set type(n){c.Message.setField(this,2,n)}get has_type(){return c.Message.getField(this,2)!=null}static fromObject(n){return new vc({clubId:n.clubId,type:n.type})}toObject(){let n={};return this.clubId!=null&&(n.clubId=this.clubId),this.type!=null&&(n.type=this.type),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_clubId&&a.writeInt64(1,this.clubId),this.has_type&&a.writeInt32(2,this.type),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new vc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.clubId=a.readInt64();break;case 2:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return vc.deserialize(n)}};fm=new WeakMap;let Ss=vc;Ku.SC_CREATE_CLUB=vc;let Ic=class Ic extends c.Message{constructor(n){super();fe(this,gm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,gm)),!Array.isArray(n)&&typeof n=="object"&&("point"in n&&n.point!=null&&(this.point=n.point),"clubId"in n&&n.clubId!=null&&(this.clubId=n.clubId))}get point(){return c.Message.getFieldWithDefault(this,1,"")}set point(n){c.Message.setField(this,1,n)}get has_point(){return c.Message.getField(this,1)!=null}get clubId(){return c.Message.getFieldWithDefault(this,2,0)}set clubId(n){c.Message.setField(this,2,n)}get has_clubId(){return c.Message.getField(this,2)!=null}static fromObject(n){let a=new Ic({});return n.point!=null&&(a.point=n.point),n.clubId!=null&&(a.clubId=n.clubId),a}toObject(){let n={};return this.point!=null&&(n.point=this.point),this.clubId!=null&&(n.clubId=this.clubId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_point&&this.point.length&&a.writeString(1,this.point),this.has_clubId&&a.writeInt64(2,this.clubId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Ic;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.point=a.readString();break;case 2:h.clubId=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Ic.deserialize(n)}};gm=new WeakMap;let An=Ic;Ku.CS_CLUB_INFO=Ic;let kc=class kc extends c.Message{constructor(n){super();fe(this,bm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[7,8,10],de(this,bm)),!Array.isArray(n)&&typeof n=="object"&&(this.clubId=n.clubId,this.type=n.type,"name"in n&&n.name!=null&&(this.name=n.name),"icon"in n&&n.icon!=null&&(this.icon=n.icon),"creater"in n&&n.creater!=null&&(this.creater=n.creater),"createTime"in n&&n.createTime!=null&&(this.createTime=n.createTime),this.members=n.members,this.rooms=n.rooms,this.community=n.community,"createrId"in n&&n.createrId!=null&&(this.createrId=n.createrId),"myRate"in n&&n.myRate!=null&&(this.myRate=n.myRate))}get clubId(){return c.Message.getField(this,1)}set clubId(n){c.Message.setField(this,1,n)}get has_clubId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getField(this,2)}set type(n){c.Message.setField(this,2,n)}get has_type(){return c.Message.getField(this,2)!=null}get name(){return c.Message.getFieldWithDefault(this,3,"")}set name(n){c.Message.setField(this,3,n)}get has_name(){return c.Message.getField(this,3)!=null}get icon(){return c.Message.getFieldWithDefault(this,4,"")}set icon(n){c.Message.setField(this,4,n)}get has_icon(){return c.Message.getField(this,4)!=null}get creater(){return c.Message.getFieldWithDefault(this,5,"")}set creater(n){c.Message.setField(this,5,n)}get has_creater(){return c.Message.getField(this,5)!=null}get createTime(){return c.Message.getFieldWithDefault(this,6,0)}set createTime(n){c.Message.setField(this,6,n)}get has_createTime(){return c.Message.getField(this,6)!=null}get members(){return c.Message.getFieldWithDefault(this,7,[])}set members(n){c.Message.setField(this,7,n)}get rooms(){return c.Message.getFieldWithDefault(this,8,[])}set rooms(n){c.Message.setField(this,8,n)}get community(){return c.Message.getFieldWithDefault(this,10,[])}set community(n){c.Message.setField(this,10,n)}get createrId(){return c.Message.getFieldWithDefault(this,11,"")}set createrId(n){c.Message.setField(this,11,n)}get has_createrId(){return c.Message.getField(this,11)!=null}get myRate(){return c.Message.getFieldWithDefault(this,12,0)}set myRate(n){c.Message.setField(this,12,n)}get has_myRate(){return c.Message.getField(this,12)!=null}static fromObject(n){let a=new kc({clubId:n.clubId,type:n.type,members:n.members,rooms:n.rooms,community:n.community});return n.name!=null&&(a.name=n.name),n.icon!=null&&(a.icon=n.icon),n.creater!=null&&(a.creater=n.creater),n.createTime!=null&&(a.createTime=n.createTime),n.createrId!=null&&(a.createrId=n.createrId),n.myRate!=null&&(a.myRate=n.myRate),a}toObject(){let n={members:this.members,rooms:this.rooms,community:this.community};return this.clubId!=null&&(n.clubId=this.clubId),this.type!=null&&(n.type=this.type),this.name!=null&&(n.name=this.name),this.icon!=null&&(n.icon=this.icon),this.creater!=null&&(n.creater=this.creater),this.createTime!=null&&(n.createTime=this.createTime),this.createrId!=null&&(n.createrId=this.createrId),this.myRate!=null&&(n.myRate=this.myRate),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_clubId&&a.writeInt64(1,this.clubId),this.has_type&&a.writeInt32(2,this.type),this.has_name&&this.name.length&&a.writeString(3,this.name),this.has_icon&&this.icon.length&&a.writeString(4,this.icon),this.has_creater&&this.creater.length&&a.writeString(5,this.creater),this.has_createTime&&a.writeInt64(6,this.createTime),this.members.length&&a.writeRepeatedString(7,this.members),this.rooms.length&&a.writeRepeatedString(8,this.rooms),this.community.length&&a.writeRepeatedString(10,this.community),this.has_createrId&&this.createrId.length&&a.writeString(11,this.createrId),this.has_myRate&&a.writeFloat(12,this.myRate),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new kc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.clubId=a.readInt64();break;case 2:h.type=a.readInt32();break;case 3:h.name=a.readString();break;case 4:h.icon=a.readString();break;case 5:h.creater=a.readString();break;case 6:h.createTime=a.readInt64();break;case 7:c.Message.addToRepeatedField(h,7,a.readString());break;case 8:c.Message.addToRepeatedField(h,8,a.readString());break;case 10:c.Message.addToRepeatedField(h,10,a.readString());break;case 11:h.createrId=a.readString();break;case 12:h.myRate=a.readFloat();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return kc.deserialize(n)}};bm=new WeakMap;let ws=kc;Ku.SC_CLUB_INFO=kc;let Sc=class Sc extends c.Message{constructor(n){super();fe(this,ym,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,ym)),!Array.isArray(n)&&typeof n=="object"&&(this.roleId=n.roleId,this.rate=n.rate)}get roleId(){return c.Message.getField(this,1)}set roleId(n){c.Message.setField(this,1,n)}get has_roleId(){return c.Message.getField(this,1)!=null}get rate(){return c.Message.getField(this,2)}set rate(n){c.Message.setField(this,2,n)}get has_rate(){return c.Message.getField(this,2)!=null}static fromObject(n){return new Sc({roleId:n.roleId,rate:n.rate})}toObject(){let n={};return this.roleId!=null&&(n.roleId=this.roleId),this.rate!=null&&(n.rate=this.rate),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_rate&&a.writeFloat(2,this.rate),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Sc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.rate=a.readFloat();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Sc.deserialize(n)}};ym=new WeakMap;let Wu=Sc;Ku.CS_SET_COMMISION=Sc;let wc=class wc extends c.Message{constructor(n){super();fe(this,_m,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,_m)),!Array.isArray(n)&&typeof n=="object"&&(this.type=n.type,this.value=n.value)}get type(){return c.Message.getField(this,1)}set type(n){c.Message.setField(this,1,n)}get has_type(){return c.Message.getField(this,1)!=null}get value(){return c.Message.getField(this,2)}set value(n){c.Message.setField(this,2,n)}get has_value(){return c.Message.getField(this,2)!=null}static fromObject(n){return new wc({type:n.type,value:n.value})}toObject(){let n={};return this.type!=null&&(n.type=this.type),this.value!=null&&(n.value=this.value),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),this.has_value&&this.value.length&&a.writeString(2,this.value),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new wc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;case 2:h.value=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return wc.deserialize(n)}};_m=new WeakMap;let hx=wc;Ku.CS_CLUB_CHANGE_INFO=wc;let Ec=class Ec extends c.Message{constructor(n){super();fe(this,xm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,xm)),!Array.isArray(n)&&typeof n=="object"&&(this.type=n.type,this.ticketId=n.ticketId,this.ticketValue=n.ticketValue,this.map=n.map,this.fruit=n.fruit,this.bgm=n.bgm,this.point=n.point,this.itemId=n.itemId)}get type(){return c.Message.getField(this,1)}set type(n){c.Message.setField(this,1,n)}get has_type(){return c.Message.getField(this,1)!=null}get ticketId(){return c.Message.getField(this,2)}set ticketId(n){c.Message.setField(this,2,n)}get has_ticketId(){return c.Message.getField(this,2)!=null}get ticketValue(){return c.Message.getField(this,3)}set ticketValue(n){c.Message.setField(this,3,n)}get has_ticketValue(){return c.Message.getField(this,3)!=null}get map(){return c.Message.getField(this,4)}set map(n){c.Message.setField(this,4,n)}get has_map(){return c.Message.getField(this,4)!=null}get fruit(){return c.Message.getField(this,5)}set fruit(n){c.Message.setField(this,5,n)}get has_fruit(){return c.Message.getField(this,5)!=null}get bgm(){return c.Message.getField(this,6)}set bgm(n){c.Message.setField(this,6,n)}get has_bgm(){return c.Message.getField(this,6)!=null}get point(){return c.Message.getField(this,7)}set point(n){c.Message.setField(this,7,n)}get has_point(){return c.Message.getField(this,7)!=null}get itemId(){return c.Message.getField(this,8)}set itemId(n){c.Message.setField(this,8,n)}get has_itemId(){return c.Message.getField(this,8)!=null}static fromObject(n){return new Ec({type:n.type,ticketId:n.ticketId,ticketValue:n.ticketValue,map:n.map,fruit:n.fruit,bgm:n.bgm,point:n.point,itemId:n.itemId})}toObject(){let n={};return this.type!=null&&(n.type=this.type),this.ticketId!=null&&(n.ticketId=this.ticketId),this.ticketValue!=null&&(n.ticketValue=this.ticketValue),this.map!=null&&(n.map=this.map),this.fruit!=null&&(n.fruit=this.fruit),this.bgm!=null&&(n.bgm=this.bgm),this.point!=null&&(n.point=this.point),this.itemId!=null&&(n.itemId=this.itemId),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),this.has_ticketId&&a.writeInt32(2,this.ticketId),this.has_ticketValue&&a.writeDouble(3,this.ticketValue),this.has_map&&this.map.length&&a.writeString(4,this.map),this.has_fruit&&this.fruit.length&&a.writeString(5,this.fruit),this.has_bgm&&this.bgm.length&&a.writeString(6,this.bgm),this.has_point&&this.point.length&&a.writeString(7,this.point),this.has_itemId&&a.writeInt32(8,this.itemId),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Ec;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;case 2:h.ticketId=a.readInt32();break;case 3:h.ticketValue=a.readDouble();break;case 4:h.map=a.readString();break;case 5:h.fruit=a.readString();break;case 6:h.bgm=a.readString();break;case 7:h.point=a.readString();break;case 8:h.itemId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Ec.deserialize(n)}};xm=new WeakMap;let dx=Ec;Ku.CS_CREATE_CUSTOM_ROOM=Ec;let Lc=class Lc extends c.Message{constructor(n){super();fe(this,vm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[2],de(this,vm)),!Array.isArray(n)&&typeof n=="object"&&(this.roomNo=n.roomNo,this.cost=n.cost)}get roomNo(){return c.Message.getField(this,1)}set roomNo(n){c.Message.setField(this,1,n)}get has_roomNo(){return c.Message.getField(this,1)!=null}get cost(){return c.Message.getRepeatedWrapperField(this,S,2)}set cost(n){c.Message.setRepeatedWrapperField(this,2,n)}static fromObject(n){return new Lc({roomNo:n.roomNo,cost:n.cost.map(h=>S.fromObject(h))})}toObject(){let n={};return this.roomNo!=null&&(n.roomNo=this.roomNo),this.cost!=null&&(n.cost=this.cost.map(a=>a.toObject())),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_roomNo&&this.roomNo.length&&a.writeString(1,this.roomNo),this.cost.length&&a.writeRepeatedMessage(2,this.cost,h=>h.serialize(a)),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Lc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roomNo=a.readString();break;case 2:a.readMessage(h.cost,()=>c.Message.addToRepeatedWrapperField(h,2,S.deserialize(a),S));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Lc.deserialize(n)}};vm=new WeakMap;let fx=Lc;Ku.SC_CREATE_CUSTOM_ROOM=Lc;let Tc=class Tc extends c.Message{constructor(n){super();fe(this,Im,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[1],de(this,Im)),!Array.isArray(n)&&typeof n=="object"&&(this.rooms=n.rooms)}get rooms(){return c.Message.getFieldWithDefault(this,1,[])}set rooms(n){c.Message.setField(this,1,n)}static fromObject(n){return new Tc({rooms:n.rooms})}toObject(){return{rooms:this.rooms}}serialize(n){let a=n||new c.BinaryWriter;if(this.rooms.length&&a.writeRepeatedString(1,this.rooms),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Tc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Tc.deserialize(n)}};Im=new WeakMap;let gx=Tc;Ku.SC_CLUB_ROOM=Tc;let Cc=class Cc extends c.Message{constructor(n){super();fe(this,km,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[],de(this,km)),!Array.isArray(n)&&typeof n=="object"&&(this.pageNo=n.pageNo,this.pageSize=n.pageSize)}get pageNo(){return c.Message.getField(this,1)}set pageNo(n){c.Message.setField(this,1,n)}get has_pageNo(){return c.Message.getField(this,1)!=null}get pageSize(){return c.Message.getField(this,2)}set pageSize(n){c.Message.setField(this,2,n)}get has_pageSize(){return c.Message.getField(this,2)!=null}static fromObject(n){return new Cc({pageNo:n.pageNo,pageSize:n.pageSize})}toObject(){let n={};return this.pageNo!=null&&(n.pageNo=this.pageNo),this.pageSize!=null&&(n.pageSize=this.pageSize),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_pageNo&&a.writeInt32(1,this.pageNo),this.has_pageSize&&a.writeInt32(2,this.pageSize),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Cc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.pageNo=a.readInt32();break;case 2:h.pageSize=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Cc.deserialize(n)}};km=new WeakMap;let bx=Cc;Ku.CS_REQUEST_PROFIT=Cc;let Ac=class Ac extends c.Message{constructor(n){super();fe(this,Sm,[]);c.Message.initialize(this,Array.isArray(n)?n:[],0,-1,[4],de(this,Sm)),!Array.isArray(n)&&typeof n=="object"&&("profitTotal"in n&&n.profitTotal!=null&&(this.profitTotal=n.profitTotal),"profitToday"in n&&n.profitToday!=null&&(this.profitToday=n.profitToday),"total"in n&&n.total!=null&&(this.total=n.total),this.profits=n.profits)}get profitTotal(){return c.Message.getFieldWithDefault(this,1,0)}set profitTotal(n){c.Message.setField(this,1,n)}get has_profitTotal(){return c.Message.getField(this,1)!=null}get profitToday(){return c.Message.getFieldWithDefault(this,2,0)}set profitToday(n){c.Message.setField(this,2,n)}get has_profitToday(){return c.Message.getField(this,2)!=null}get total(){return c.Message.getFieldWithDefault(this,3,0)}set total(n){c.Message.setField(this,3,n)}get has_total(){return c.Message.getField(this,3)!=null}get profits(){return c.Message.getFieldWithDefault(this,4,[])}set profits(n){c.Message.setField(this,4,n)}static fromObject(n){let a=new Ac({profits:n.profits});return n.profitTotal!=null&&(a.profitTotal=n.profitTotal),n.profitToday!=null&&(a.profitToday=n.profitToday),n.total!=null&&(a.total=n.total),a}toObject(){let n={profits:this.profits};return this.profitTotal!=null&&(n.profitTotal=this.profitTotal),this.profitToday!=null&&(n.profitToday=this.profitToday),this.total!=null&&(n.total=this.total),n}serialize(n){let a=n||new c.BinaryWriter;if(this.has_profitTotal&&a.writeInt64(1,this.profitTotal),this.has_profitToday&&a.writeInt64(2,this.profitToday),this.has_total&&a.writeInt32(3,this.total),this.profits.length&&a.writeRepeatedString(4,this.profits),!n)return a.getResultBuffer()}static deserialize(n){let a=n instanceof c.BinaryReader?n:new c.BinaryReader(n),h=new Ac;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.profitTotal=a.readInt64();break;case 2:h.profitToday=a.readInt64();break;case 3:h.total=a.readInt32();break;case 4:c.Message.addToRepeatedField(h,4,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(n){return Ac.deserialize(n)}};Sm=new WeakMap;let yx=Ac;Ku.SC_REQUEST_PROFIT=Ac})(t=r.socket||(r.socket={}))})(i=e.snake||(e.snake={}))})(b||(b={}));var _e=class i{static encodeMessage(e,t,r){var s=i.createHeadMessage(e,r),o=i.createMessageBase(s,t),l=o.serializeBinary(),u=l.length,p=new Uint8Array([(u&4278190080)>>>24,(u&16711680)>>>16,(u&65280)>>>8,(u&255)>>>0]),m=new Uint8Array(p.byteLength+l.byteLength);return m.set(new Uint8Array(p),0),m.set(new Uint8Array(l),p.byteLength),m}static decodeMessage(e,t){var r=new DataView(e,t+0,t+4).getInt32(0,!1),s=t+4+r,o=e.slice(t+4,t+4+r),l=b.snake.socket.CMsgBase.deserializeBinary(o);return[l,s]}static createHeadMessage(e,t,r,s){t||(r=!0),!s&&U.playerDto&&(s=U.playerDto.pid);var o=b.snake.socket.CMsgHead.fromObject({msgtype:e,msgcode:1,roleId:s});return o}static createMessageBase(e,t){var r=b.snake.socket.CMsgBase.fromObject({msghead:e,msgbody:t});return r}static getMsgBody(e,t=null){var r=null,s=e.msghead.msgtype,o=e.msghead.msgcode;return t||(t=Laya.ClassUtils.getClass(s+"")),t?(r=t.deserializeBinary(e.msgbody).toObject(),re.Debug==2&&console.log(ae.GetLogTime,"[DataUtil]  ------<<<<<<<< RECV CMD:"+s+", CODE:",o+", DATA:",r)):console.warn(ae.GetLogTime,"[DataUtil]  ------<<<<<<<< RECV CMD:"+s+", CODE:",o+", className!"),r}};var nn=class{};var lo=class{};var ki=class ki{constructor(){this._m_bPlayMusic=!0;this._m_bPlayeSound=!0;this._musicVolume=1;this._soundVolume=1;this.soundName_bg="bgm";this.soundName_hit="hit.mp3";this.soundName_win="result_win.mp3";this.soundName_fail="result_fail.mp3";this.soundName_kill_1="kill_1.mp3";this.soundName_kill_2="kill_2.mp3";this.soundName_kill_3="kill_3.mp3";this.soundName_kill_4="kill_4.mp3";this.soundName_kill_5="kill_5.mp3";this.soundName_eat_food_1="eat_food1.mp3";this.soundName_eat_food_2="eat_food2.mp3";this.soundName_eat_food_3="eat_food3.mp3";this.soundName_kill_die="kill_die.mp3";this.soundName32="ui32.ogg"}static getInstance(){return ki._instance||(ki._instance=new ki),ki._instance}get m_bPlayMusic(){return this._m_bPlayMusic}set m_bPlayMusic(e){this._m_bPlayMusic=e,e?this.m_strMusicURL!=null&&this.playMusicByURL(this.m_strMusicURL):this.musicChannel&&this.musicChannel.stop()}getMusicVolume(){return this._musicVolume}setMusicVolume(e){this._musicVolume=e,Laya.SoundManager.setMusicVolume(e),this.saveMusicVolume()}getSoundVolume(){return this._soundVolume}setSoundVolume(e){this._soundVolume=e,Laya.SoundManager.setSoundVolume(e),this.saveSoundVolume()}saveMusicVolume(){Laya.LocalStorage.setItem(ki.COOKIE_CF_MUSIC,this._musicVolume.toString())}saveSoundVolume(){Laya.LocalStorage.setItem(ki.COOKIE_CF_SOUND,this._soundVolume.toString())}loadVolumeSettings(){let e=Laya.LocalStorage.getItem(ki.COOKIE_CF_MUSIC);e!=null&&e!==""&&(this._musicVolume=parseFloat(e),Laya.SoundManager.setMusicVolume(this._musicVolume));let t=Laya.LocalStorage.getItem(ki.COOKIE_CF_SOUND);t!=null&&t!==""&&(this._soundVolume=parseFloat(t),Laya.SoundManager.setSoundVolume(this._soundVolume))}init(){this.loadVolumeSettings();let e=Laya.LocalStorage.getItem(ki.COOKIE_CF_MUSIC);e!=null&&e!=""&&(this.m_bPlayMusic=parseFloat(e)>0);let t=Laya.LocalStorage.getItem(ki.COOKIE_CF_SOUND);t!=null&&t!=""&&(this.m_bPlayeSound=parseFloat(t)>0),this.switchMusic(this.m_bPlayMusic),this.switchSound(this.m_bPlayeSound)}get m_bPlayeSound(){return this._m_bPlayeSound}set m_bPlayeSound(e){this._m_bPlayeSound=e}playMusicByURL(e){this.m_bPlayMusic&&(this.m_strMusicURL,this.m_strMusicURL==e&&this.musicChannel,this.m_strMusicURL=e,Laya.SoundManager.stopMusic(),this.musicChannel=Laya.SoundManager.playMusic(e,0,new Laya.Handler(this,this.onComplete)))}playMusicByName(e,t=".ogg"){let r=J.getSoundURL(e,t);this.playMusicByURL(r)}playSound(e,t=1){this.m_bPlayeSound&&Laya.SoundManager.playSound(e,t,new Laya.Handler(this,this.onComplete))}playSoundByName(e,t=1){let r=J.getSoundURLogg(e);this.playSound(r,t)}stopSoundByName(e){let t=J.getSoundURLogg(e);Laya.SoundManager.stopSound(t)}switchMusic(e){let t=e?this._musicVolume:0;Laya.SoundManager.setMusicVolume(t),ki.getInstance().m_bPlayMusic=e}switchSound(e){let t=e?this._soundVolume:0;Laya.SoundManager.setSoundVolume(t),ki.getInstance().m_bPlayeSound=e}onComplete(){}};ki.COOKIE_CF_MUSIC="COOKIE_CF_MUSIC",ki.COOKIE_CF_SOUND="COOKIE_CF_SOUND";var T1=ki,Xe=T1.getInstance();var X=class{};X.GameConfig={debug:!1,version:"1.0.0",frameRate:"30",defaultVolume:.7,skills:{speedUp:{duration:5,cooldown:10},shield:{duration:3,cooldown:15},magnet:{duration:8,cooldown:20},invisible:{duration:4,cooldown:25}}},X.uiZOrder={common:1e3,hint:2e3,loading:2001},X.closeType={cancel:1,close:2,ok:3,keyback:4},X.JoystickMODE={FIXED:1,MOVED:2},X.JoystickEventType={JET_TOUCH_BEGIN:1,JET_TOUCH_MOVE:2,JET_TOUCH_END:3},X.JoystickSize={JoyStickBg:80,JoyStickHandleBg:40},X.snakeType={SELF:1,OTHERS:2},X.roomType={1:{1:{1:2,2:3,3:4},2:5,3:6},2:7,3:1,4:8},X.snakeSpeedRate={default:1,speedUp:2},X.mapSize={offsetDistance:150,width:64+1280*3+64,height:60+720*4+60,offsetX:64,offsetY:60,defaultMapRes:{width:1280,height:720,resPath:"res/snake/manual/game/img_back.png"}},X.collision={quadTree:{maxObjects:10,maxLevels:5},snake:{headRadius:18,bodyRadius:14},food:{radius:25,maxRadius:25}},X.food={size:50,initCount:200,maxCount:300,spawnInterval:1e3},X.res={snakeRingImg:"res/match2/img_ring.png"},X.snake={defaultSpeed:6,defaultRotateSpeed:500,defaultLen:20,intervalBoneToDrawSkin:4,defaultRotation:270,defaultRadio:35/2,defaultMoveInterval:.033,defaultInvincibleTime:3,defaultShineInterval:.1,skinFlag:{head:1,body:2},initCount:20,maxCount:20,spawnInterval:1e3,aiMinLen:5,aiMaxLen:80,aiPrefix:"AI",battleCd:10*60*1e3,skinIds:[101,102,103,104,105]},X.SYNC_CONFIG={MAX_ALLOWED_ERROR:50,CORRECTION_TIME:300,SYNC_INTERVAL:100,PREDICTION_MULTIPLIER:1.2},X.invincibleRing={margin:2,minScale:.5};var Ct=class{static clamp(e,t,r){return Math.max(t,Math.min(r,e))}static lerp(e,t,r){return e+(t-e)*r}static angleToRadian(e){return e*Math.PI/180}static radianToAngle(e){return e*180/Math.PI}static randomRange(e,t){return e+Math.random()*(t-e)}static randomInt(e,t){return Math.floor(this.randomRange(e,t+1))}static getDistance(e,t){let r=e.x-t.x,s=e.y-t.y;return Math.sqrt(r*r+s*s)}static getVecDistance(e,t){let r=e.x-t.x,s=e.y-t.y;return Math.sqrt(r*r+s*s)}static distance(e,t,r,s){let o=e-r,l=t-s;return Math.sqrt(o*o+l*l)}static getAngle(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}};Ct.PI2=Math.PI*2;var TC=20,CC=8,Nu=class i{constructor(e,t=0,r){this.bounds=e;this.level=t;this.objects=[];this.nodes=[];this.root=r||this}insert(e){if(this.nodes.length>0){let t=this.getIndex(e);if(t!==void 0&&t!==-1){this.nodes[t].insert(e);return}}this.objects.push(e),this.shouldSplit()&&this.splitAndRedistribute()}retrieve(e){let t=new Set,r=this.getIndexes(e);if(this.nodes.length>0)for(let s of r)s===-1?this.nodes.forEach(o=>{o.retrieve(e).forEach(l=>t.add(l))}):this.nodes[s]?.retrieve(e).forEach(o=>t.add(o));return this.objects.forEach(s=>{s!==e&&t.add(s)}),Array.from(t)}refresh(){let e=[];for(let t=this.objects.length-1;t>=0;t--){let r=this.objects[t];this.isInBounds(r)||(e.push(r),this.objects.splice(t,1))}e.forEach(t=>this.root.insert(t)),this.nodes.forEach(t=>t.refresh())}remove(e){let t=this.objects.indexOf(e);if(t>-1)return this.objects.splice(t,1),!0;if(this.nodes.length>0){for(let r of this.nodes)if(r.remove(e))return!0}return!1}isInBounds(e){return i.checkBounds(this.bounds,e.getBoundingBox())}shouldSplit(){return this.nodes.length===0&&this.objects.length>TC&&this.level<CC}splitAndRedistribute(){this.split();for(let e=this.objects.length-1;e>=0;e--){let t=this.objects[e],r=this.getIndex(t);r!==void 0&&r!==-1&&(this.nodes[r].insert(t),this.objects.splice(e,1))}}split(){if(this.nodes.length>0)return;let e=this.bounds.x,t=this.bounds.y,r=this.bounds.width/2,s=this.bounds.height/2;this.nodes=[new i(new Laya.Rectangle(e+r,t+s,r,s),this.level+1,this.root),new i(new Laya.Rectangle(e,t+s,r,s),this.level+1,this.root),new i(new Laya.Rectangle(e,t,r,s),this.level+1,this.root),new i(new Laya.Rectangle(e+r,t,r,s),this.level+1,this.root)]}getIndex(e){let t=e.getBoundingBox();if(!i.checkBounds(this.bounds,t))return;let r=this.bounds.x+this.bounds.width/2,s=this.bounds.y+this.bounds.height/2,o=t.y<s,l=t.y+t.height>s,u=t.x<r,p=t.x+t.width>r;return u&&p||o&&l?-1:t.x>=r?t.y>=s?0:3:t.y>=s?1:2}getIndexes(e){let t=e.getBoundingBox(),r=this.bounds.x+this.bounds.width/2,s=this.bounds.y+this.bounds.height/2,o=t.y<s,l=t.y+t.height>s,u=t.x<r,p=t.x+t.width>r,m=[];return u&&o&&m.push(2),p&&o&&m.push(3),u&&l&&m.push(1),p&&l&&m.push(0),u&&p&&(o?(m.push(2),m.push(3)):l&&(m.push(1),m.push(0))),o&&l&&(u?(m.push(2),m.push(1)):p&&(m.push(3),m.push(0))),m.length===4&&m.push(-1),m}static checkBounds(e,t){return t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height}raycast(e,t,r){if(!this.intersectsRay(e,t))return!1;for(let s of this.objects)if(r(s)&&this.checkRayCollision(e,t,s.getBoundingBox()))return!0;return this.nodes.some(s=>s.raycast(e,t,r))}intersectsRay(e,t){return i.rayIntersectsAABB(e.x,e.y,t.x-e.x,t.y-e.y,this.bounds)}checkRayCollision(e,t,r){return i.rayIntersectsAABB(e.x,e.y,t.x-e.x,t.y-e.y,r)}static rayIntersectsAABB(e,t,r,s,o){if(e>=o.x&&e<=o.x+o.width&&t>=o.y&&t<=o.y+o.height)return!0;let l=0,u=1;if(Math.abs(r)>1e-6){let p=(o.x-e)/r,m=(o.x+o.width-e)/r;l=Math.max(l,Math.min(p,m)),u=Math.min(u,Math.max(p,m))}else if(e<o.x||e>o.x+o.width)return!1;if(Math.abs(s)>1e-6){let p=(o.y-t)/s,m=(o.y+o.height-t)/s;l=Math.max(l,Math.min(p,m)),u=Math.min(u,Math.max(p,m))}else if(t<o.y||t>o.y+o.height)return!1;return u>=l&&l<=1&&u>=0}clear(){this.objects=[],this.nodes.forEach(e=>e.clear()),this.nodes=[]}drawDebug(e){this.bounds.width<3e3&&(e.drawRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height,this.level%2===0?"#ff0000":"#00ff00",this.level%2===0?"#ff0000":"#00ff00",this.level),e.fillText(`L: ${this.level}`,this.bounds.x+this.bounds.width/2,this.bounds.y+this.bounds.height/2,"16px Arial","#ffffff","center")),this.objects.forEach(t=>{let r=t.getBoundingBox();e.drawRect(r.x,r.y,r.width,r.height,this.level%2===0?"#0000ff":"#00ff00",this.level%2===0?"#ff0000":"#00ff00",this.level),e.fillText(`L: ${this.level}`,r.x+r.width/2,r.y+r.height/2,"14px Arial","#ffffff","center")}),this.nodes.forEach(t=>t.drawDebug(e))}};var co=class co{static getInstance(e=null){return co.instance||(e||(e=new Laya.Rectangle(0,0,X.mapSize.width,X.mapSize.height)),co.instance=new co(e)),co.instance}constructor(e){this.quadTree=new Nu(e)}addSnake(e){e.forEach(t=>{this.quadTree.insert(t)})}addBodySkin(e){this.quadTree.insert(e)}removeSnake(e){e.forEach(t=>{this.quadTree.remove(t)})}removeBodySkin(e){this.quadTree.remove(e)}refresh(){this.quadTree.refresh()}drawDebug(e){this.quadTree.drawDebug(e)}retrieve(e){return this.quadTree.retrieve(e)}raycast(e,t,r){return this.quadTree.raycast(e,t,r)}getAllCollidables(){return this._getAllFromQuadTree(this.quadTree)}_getAllFromQuadTree(e){let t=[...e.objects];return e.nodes.forEach(r=>{t=t.concat(this._getAllFromQuadTree(r))}),t}};co.instance=null;var pr=co;var Pe=class{};Pe.arenaType=0,Pe.ARENA_TYPE_PVP=1,Pe.ARENA_TYPE_JULEBU=2,Pe.ARENA_TYPE_PVE=3,Pe.ARENA_TYPE_TEAM=4,Pe.ROOM_TYPE_AI=1,Pe.ROOM_TYPE_SHEQU=2,Pe.ROOM_TYPE_VIP=3,Pe.ROOM_TYPE_JINGYING=4,Pe.ROOM_TYPE_JULEBU=5,Pe.ROOM_TYPE_CUSTOM=6,Pe.ROOM_TYPE_MATCH=7,Pe.ACTION_CREATE=1,Pe.ACTION_JOIN=2,Pe.ACTION_SIGNUP=3,Pe.ACTION_WATCH=4,Pe.ACTION_CREATE_BOOKING=5,Pe.ACTION_JOIN_BOOKING=6,Pe.STATE_WAIT=0,Pe.STATE_SIGNUP=2,Pe.STATE_GROUPED=3,Pe.STATE_START=10,Pe.CAMERA_IDLE=0,Pe.CAMERA_FOLLOW_ME=1,Pe.CAMERA_MAP_CLICK=2,Pe.CAMERA_DIRECT_OPERATE=3,Pe.CAMERA_FOLLOW_OTHER=4,Pe.MATCHEND_REWARD=1,Pe.MATCHEND_QUAN=2,Pe.MATCHEND_DIEJIA=3;var yg=class extends Laya.Image{};var{regClass:AC}=Laya,Rr=class extends yg{set dataSource(t){this.roomPlayerDto=t,this.roomPlayerDto&&(this.skin=J.getSnakeBodyIcon(this.roomPlayerDto.skin))}setRotation(t){this.rotation=t}setScale(t){let r=this.width,s=this.height,o=t*2/r,l=t*2/s;this.scaleX=o,this.scaleY=l}setAlpha(t){this.alpha=t}setGray(t){this.gray=t}getRadio(){return this.width*this.scaleX/2}onDisable(){this.setGray(!1),this.setAlpha(1),this.scale(1,1),Laya.Pool.recover(Rr.POOL_NAME,this)}};Rr.POOL_NAME="MatchSnakeBodySpr",Rr=N([AC("Aeyt_emSSaCC6Np5nR_evQ")],Rr);var Br=class Br{constructor(){}static trim(e,t=null){t||(t=[" ","\r",`
`,"	",String.fromCharCode(65279)]);var r,s,o;for(r=e,o=t.length,s=0;s<o;s++)r=Br.getReplace(r,t[s],"");return r}static getReplace(e,t,r){if(!e)return"";var s;return s=e.replace(new RegExp(t,"g"),r),s}static isEmpty(e){return e.length<1?!0:Br.emptyStrDic.hasOwnProperty(e)}static trimLeft(e){var t;t=0;var r;for(r=e.length;Br.isEmpty(e.charAt(t))&&t<r;)t++;return t<r?e.substr(t):""}static trimRight(e){var t;for(t=e.length-1;Br.isEmpty(e.charAt(t))&&t>=0;)t--;var r;return r=e.substring(0,t),t>=0?e.substring(0,t+1):""}static trimSide(e){var t;return t=Br.trimLeft(e),t=Br.trimRight(t),t}static shortStr(e,t){return e.length>t?e.substr(0,t)+"...":e}static shortHeroStr(e,t=10){return Br.abbreviateString(e,t)}static abbreviateString(e,t=11){if(e.length<=t)return e;{let r=Math.floor((t-3)/2);return e.slice(0,r)+"..."+e.slice(-r)}}static caseInsensitiveSearchWithRegex(e,t){return new RegExp(t,"i").test(e)}static formatWalletAddress(e){let s="...";return e.length<=12+10?e:`${e.substring(0,12)}${s}${e.substring(e.length-10)}`}};Br.ANONYMOUS_NAME="***",Br.emptyStrDic={" ":!0,"\r":!0,"\n":!0,"	":!0};var Dr=Br;var _g=class extends Laya.Sprite{};var{regClass:MC}=Laya,Or=class extends _g{constructor(){super();this.isMe=!1;this.inGround=!1;this.speedRate=1;this.moveSpeed=10;this._speed=10;this.biasSpeed=0;this._roleDirection=-1;this.lastX=0}get speed(){return this._speed}set speed(t){this._speed=t,this.biasSpeed=Math.round(this.speed*Math.sin(45*Math.PI/180))}get roleDirection(){return this._roleDirection}set roleDirection(t){t!==-4&&(this._roleDirection=t)}set dataSource(t){this.roomPlayerDto=t,this.roomPlayerDto&&(this.heroSk.skin=J.getSnakeHeadIcon(this.roomPlayerDto.skin),this.tf_name.text=Dr.abbreviateString(this.roomPlayerDto.userName))}set x(t){super.x=t}get x(){return super.x}set visible(t){super.visible=t,this.smallHeroImg&&(this.smallHeroImg.visible=t)}get visible(){return super.visible}set alpha(t){super.alpha=t,this.smallHeroImg&&(this.smallHeroImg.alpha=t)}onAwake(){}showDamageLabelDetailDelay(t,r,s){Laya.timer.once(r,this,this.showDamageLabelDetail,[t,s],!1)}showDamageLabelDetail(t,r){var s=Laya.Pool.getItemByCreateFun("damageNumber",J.damageNumPrefab.create,J.damageNumPrefab);s.init(t,r),this.addChild(s)}setRotation(t){this.heroSk.rotation=t}setScale(t){let r=this.heroSk.width,s=this.heroSk.height,o=t*2/r,l=t*2/s;this.heroSk.scaleX=o,this.heroSk.scaleY=l}setAlpha(t){this.heroSk.alpha=t}setGray(t){this.heroSk.gray=t}getRadio(){return this.heroSk.width*this.heroSk.scaleX/2}onDisable(){Laya.timer.clearAll(this),Laya.Tween.clearAll(this),this.smallHeroImg=null,this.setGray(!1),this.setAlpha(1),this.scale(1,1),Laya.Pool.recover(Or.POOL_NAME,this)}setClientScore(t){this.tf_pos.text=`${t}`}setServerPosLog(t,r,s,o,l){re.Debug==2&&console.log(ae.GetLogTime+` ${this.roomPlayerDto.roleId} S(${r.loc.x}, ${r.loc.y}, ${s}, dir${o}, aimDir${l}, ${t})`)}showLogInHead(t){this.tf_server_pos.text=`${t}`}destroy(t){Laya.timer.clearAll(this),Laya.Tween.clearAll(this),this.smallHeroImg=null,this.owner=null,this.roomPlayerDto=null,super.destroy(t)}};Or.POOL_NAME="MatchSnakeSpr",Or=N([MC("tWPXV-AGQQ2kGHES5HnI0w")],Or);var uo=class uo{get gameMap(){return this._gameMap}set gameMap(e){this._gameMap=e}static getInstance(){return uo._instance||(uo._instance=new uo),uo._instance}constructor(){}init(){}destroy(){this._gameMap=null,this.img_smallMap=null}move(e){if(!e)return;let t=X.mapSize,r=Laya.stage.width,s=Laya.stage.height;var o=0,l=0;e.x>r/2&&e.x<t.width-.5*r?o=-(e.x-r/2):e.x<=r/2?o=0:e.x>=t.width-.5*r&&(o=-(t.width-r)),e.y>s/2&&e.y<t.height-.5*s?l=-(e.y-s/2):e.y<=s/2?l=0:e.y>=t.height-.5*s&&(l=-(t.height-s));var u=ft.distancePoint(o,l,this.gameMap.x,this.gameMap.y);u<200&&(o=ft.lerp(this.gameMap.x,o,.1),l=ft.lerp(this.gameMap.y,l,.1)),this.gameMap.pos(o,l)}};uo._instance=null;var C1=uo,Ri=C1.getInstance();var kn=class kn{constructor(e,t,r,s,o){this._manualVisible=!0;this.updateData(e,t,r,s,o)}updateData(e,t,r,s,o){if(this.pos=new it(kn.INIT_POS,kn.INIT_POS),this.logicPos=new it(kn.INIT_POS,kn.INIT_POS),this.tag=s,this.owner=o,e===X.snake.skinFlag.head){let l=Laya.Pool.getItemByCreateFun(Or.POOL_NAME,J.roleAniPrefab.create,J.roleAniPrefab);l.owner=this,this.node=l,l.dataSource=s,this.owner.isLogicSnake||(this.smallHeroImg=new Laya.Image,this.updateSmallHeroImg(),Ri.img_smallMap.addChild(this.smallHeroImg))}else{let l=Laya.Pool.getItemByCreateFun(Rr.POOL_NAME,J.matchSnakeBodyPrefab.create,J.matchSnakeBodyPrefab);this.node=l,l.dataSource=s}this.skinFlag=e,this.node.tag=s,this.owner.isLogicSnake||t.addChild(this.node)}reset(e,t,r,s,o){this.updateData(e,t,r,s,o)}resetForPool(){this.destroy()}destroy(){ie.getInstance().removeBodySkin(this),Laya.Tween.clearAll(this.node),this.node.removeSelf(),this.smallHeroImg&&this.smallHeroImg.removeSelf()}updateSmallHeroImg(){if(this.smallHeroImg)if(this.owner.isSelf){this.smallHeroImg.skin="res/match2/img_dian1.png";var e=15,t=15;this.smallHeroImg.size(e,t),this.smallHeroImg.pivot(e/2,t/2)}else if(this.owner.tag.roleId==ie.getInstance().kingId){this.smallHeroImg.skin="res/match2/img_phb_icon2.png";var r=21,s=19;this.smallHeroImg.size(r,s),this.smallHeroImg.pivot(r/2,s/2)}else{this.smallHeroImg.skin="res/match2/img_dian2.png";var o=4,l=4;this.smallHeroImg.size(o,l),this.smallHeroImg.pivot(o/2,l/2)}}setPosition(e){if(this.smallHeroImg){var t=ft.fromBigToSmall(e.x,e.y),r=t[0],s=t[1];this.smallHeroImg.pos(r,s)}var o,l;if(this.pos.x!=kn.INIT_POS||this.pos.y!=kn.INIT_POS)if(this.isHead){var u=ft.distancePoint(e.x,e.y,this.node.x,this.node.y);let p=.3;o=ft.lerp(this.node.x,e.x,p),l=ft.lerp(this.node.y,e.y,p)}else o=ft.lerp(this.node.x,e.x,.3),l=ft.lerp(this.node.y,e.y,.3);else o=e.x,l=e.y;this.node.pos(o,l),this.pos.x=o,this.pos.y=l,this.logicPos.x=e.x,this.logicPos.y=e.y,this.updateFinalVisibility()}getPosition(){return this.pos}gotoDiePos(){if(Laya.Tween.to(this.node,{x:this.logicPos.x,y:this.logicPos.y},100),this.smallHeroImg){var e=ft.fromBigToSmall(this.logicPos.x,this.logicPos.y),t=e[0],r=e[1];this.smallHeroImg.pos(t,r)}}getLoogicPosition(){return this.logicPos}setRotation(e){this.node.setRotation(e)}setLocalZOrder(e){this.node.zOrder=e}updateAlpha(e,t){let r=t==1?1:.75;this.node.setAlpha(r)}updateScale(e,t){let r=e*(1+.1*t);this.setScale(r)}setScale(e){this.node.setScale(e)}getRadio(){return this.node.getRadio()}setGray(e){this.node.setGray(e)}isVisible(){return this.node.visible}getBoundingBox(){let e;return this.isHead?e=this.owner.suctionRadius:e=this.getRadio(),new Laya.Rectangle(this.logicPos.x-e,this.logicPos.y-e,e*2,e*2)}getSkinFlag(){return this.skinFlag}checkCollision(e,t,r){let s=this.getPosition();return Ct.distance(s.x,s.y,e,t)<r+this.getRadio()}get isHead(){return this.skinFlag===X.snake.skinFlag.head}setServerPosLog(e,t,r,s,o){this.skinFlag===X.snake.skinFlag.head&&this.node.setServerPosLog(e,t,r,s,o)}showLogInHead(e){this.skinFlag===X.snake.skinFlag.head&&this.node.showLogInHead(e)}setClientScore(e){this.skinFlag===X.snake.skinFlag.head&&this.node.setClientScore(e)}setVisible(e){this._manualVisible=e,this.updateFinalVisibility(),this.smallHeroImg&&(this.smallHeroImg.visible=e)}updateFinalVisibility(){let e=this.checkInScreen(),t=this._manualVisible&&e;this.node.visible=t}checkInScreen(){let e=Ri.gameMap;if(!e)return!1;let t=-e.x,r=-e.y,s=this.pos.x-t,o=this.pos.y-r,l=Laya.stage.width,u=Laya.stage.height,p=this.isHead?this.owner.suctionRadius:this.getRadio()*this.node.scaleX,m=p*1.5;return s+p+m>0&&s-p-m<l&&o+p+m>0&&o-p-m<u}};kn.INIT_POS=-1e6;var zi=kn;var po=class{static checkCollisions(e,t,r,s){var o=!1;if(e.getIsSend(o))return;let l=X.mapSize;if(e&&e.tag){let _=e.getHeadCollisionBounds(o);if(_&&(_.x<l.offsetX||_.x+_.width>l.width-l.offsetX||_.y<l.offsetY||_.y+_.height>l.height-l.offsetY)){e.isAlive(o)&&(e.readyDie(),e.setIsSend(!0,o));return}if(e.isAlive(o)&&!e.getIsStop(o)){if(!e.getHeadCollisionBounds(o))return;{let O=gt.getAllFoods();var u=[],p=0;if(O.forEach(j=>{if(!j.getHaveEaten(s)&&e.checkFoodCollision(j,o)){console.log(ae.GetLogTime+" FOOD_TEST   foodId",j.foodObject.unkey,"currentFrame:"+Te.getClientRuningFrame(o),"isLogicSnake:"+o,"hasConfirmed:"+s),j.beEattenByPlayerSnake(e,o,s),u.push(j.foodObject.unkey);var Q=j.getScore();p+=Q}}),u&&u.length>0){var m=new b.snake.socket.SC_EAT_FOOD;m.fid=u,m.score=p;var d=e.getScore(o)+p,f=e.getSkinLength(o),g=e.tag.snakeId,y=ie.getInstance().countSnakeLen(g,f,d,e.intervalBoneToDrawSkin(o));m.lenght=y,m.roleId=e.tag.roleId,m.score=d,m.remain=[],ie.getInstance().eatFoodAndAddScore(m,o),re.Debug==2&&console.log(ae.GetLogTime+" FOOD_TEST  ","roleId:"+e.tag.roleId,"foodIds:["+u+"], totalScore:"+d,"newLen:"+y,"currentFrame:"+Te.getClientRuningFrame(o),"isLogicSnake:"+o,"hasConfirmed:"+s)}}}let S=ie.getInstance().getBodySkinsWithOutOne(e,o);for(let M of S)if(M.owner.owner!==e&&e.checkBodyCollision(M,o))if(!e.isInvincible(o)&&!M.owner.owner.isInvincible(o)){if(e.isAlive(o)&&M.owner.owner.isAlive(o)&&!e.isViewReadyDie&&!M.owner.owner.isViewReadyDie){var x=!1,E=!M.isHead;if((E||e.len(o)<M.owner.owner.len(o)||e.len(o)==M.owner.owner.len(o)&&e.tag.enterTime>=e.tag.enterTime)&&(x=!0),x){e.readyDie(),e.setIsSend(!0,o);return}}}else console.log(e.tag.roleId+"  "+M.owner.tag.roleId+" ")}}static checkCollisionsWithConfirm(e,t,r,s){var o=!0;if(e.getIsSend(o)||!s)return;let l=X.mapSize;if(e&&e.tag){let V=e.getHeadCollisionBounds(o);if(V&&(V.x<l.offsetX||V.x+V.width>l.width-l.offsetX||V.y<l.offsetY||V.y+V.height>l.height-l.offsetY)){if(e.isAlive(o)){e.sendDie();var u=e.getToServerHead(o),p=b.snake.socket.MessageType.MSG_PLAYER_COLLISION,m=b.snake.socket.CS_PLAYER_COLLISION.fromObject({roleId:e.tag.roleId,head:u,frame:Te.getClientRuningFrame(o),body:!1});je.sendData(p,m),e.setIsSend(!0,o)}return}if(e.isAlive(o)&&!e.getIsStop(o)){if(!e.getHeadCollisionBounds(o))return;if(s){let ne=gt.getAllFoods();var d=[],f=0;if(ne.forEach(se=>{if(!se.getHaveEaten(s)&&e.checkFoodCollision(se,o)){console.log(ae.GetLogTime+" FOOD_TEST    foodId",se.foodObject.unkey,"currentFrame:"+Te.getClientRuningFrame(o),"isLogicSnake:"+o,"hasConfirmed:"+s),se.beEattenByPlayerSnake(e,o,s),d.push(se.foodObject.unkey);var ce=se.getScore();f+=ce}}),d&&d.length>0){var g=new b.snake.socket.SC_EAT_FOOD;g.fid=d,g.score=f;var y=e.getScore(o)+f,x=e.getSkinLength(o),E=e.tag.snakeId,_=ie.getInstance().countSnakeLen(E,x,y,e.intervalBoneToDrawSkin(o));g.lenght=_,g.roleId=e.tag.roleId,g.score=y,g.remain=[],ie.getInstance().eatFoodAndAddScore(g,o),re.Debug==2&&console.log(ae.GetLogTime+" FOOD_TEST SEND 112   ","roleId:"+e.tag.roleId,"foodIds:["+d+"], totalScore:"+y,"newLen:"+_,"currentFrame:"+Te.getClientRuningFrame(o),"isLogicSnake:"+o,"hasConfirmed:"+s);var S=e.tag.roleId,u=e.getToServerHead(o),p=b.snake.socket.MessageType.MSG_EAT_FOOD,M=b.snake.socket.CS_EAT_FOOD.fromObject({roleId:S,fid:d,head:u,frame:Te.getClientRuningFrame(o)});je.sendData(p,M)}}}if(!s)return;let K=ie.getInstance().getBodySkinsWithOutOne(e,o);for(let W of K)if(W.owner.owner!==e&&e.checkBodyCollision(W,o))if(!e.isInvincible(o)&&!W.owner.owner.isInvincible(o)){if(e.isAlive(o)&&W.owner.owner.isAlive(o)&&!e.isLogicReadyDie&&!W.owner.owner.isLogicReadyDie){var O=!1,j=!W.isHead;if((j||e.len(o)<W.owner.owner.len(o)||e.len(o)==W.owner.owner.len(o)&&e.tag.enterTime>=e.tag.enterTime)&&(O=!0),O){e.sendDie();var j=!W.isHead,Q=W.owner.tag.roleId,u=e.getToServerHead(o),p=b.snake.socket.MessageType.MSG_PLAYER_COLLISION,m=b.snake.socket.CS_PLAYER_COLLISION.fromObject({roleId:e.tag.roleId,target:Q,head:u,frame:Te.getClientRuningFrame(o),body:j});je.sendData(p,m),e.setIsSend(!0,o);return}}}else console.log(e.tag.roleId+"  "+W.owner.tag.roleId+" ")}}static checkCollisionsWithPve(e,t,r,s){var o=!1;let l=X.mapSize;if(e&&e.tag){re.Debug==2&&console.log("",e.tag.roleId);let V=e.getHeadCollisionBounds(o);if(V){var u=l.offsetX,p=l.offsetY;if(e.isAi&&(u+=50,p+=50),V.x<u||V.x+V.width>l.width-u||V.y<p||V.y+V.height>l.height-p){if(e.isAlive(o))if(e.isAi){var m=it.create(l.width/2,l.height/2);e.goTargetPos(m)}else e.pveDie();return}}if(e.isAlive(o)&&!e.getIsStop(o)){if(!e.getHeadCollisionBounds(o))return;if(s){let ne=r.retrieve(e.getHead(o)).filter(se=>se instanceof sn);var d=[],f=[],g=0;if(ne.forEach(se=>{if(f.push(se.foodObject.unkey),!se.getHaveEaten(s)&&e.checkFoodCollision(se,o)){se.beEattenByPlayerSnake(e,o,s),d.push(se.foodObject.unkey);var ce=se.getScore();g+=ce}}),d&&d.length>0){var y=new b.snake.socket.SC_EAT_FOOD;y.fid=d,y.score=g;var x=e.getScore(o)+g,E=e.getSkinLength(o),_=e.tag.snakeId,S=ie.getInstance().countSnakeLen(_,E,x,e.intervalBoneToDrawSkin(o));y.lenght=S,y.roleId=e.tag.roleId,y.score=x,y.remain=[],ie.getInstance().eatFoodAndAddScore(y,o)}}}let K=r.retrieve(e.getHead(o)).filter(W=>W instanceof zi);for(let W of K)if(W.owner.owner!==e&&e.checkBodyCollision(W,o))if(!e.isInvincible(o)&&!W.owner.owner.isInvincible(o)){if(e.isAlive(o)&&W.owner.owner.isAlive(o)&&!e.isViewReadyDie&&!W.owner.owner.isViewReadyDie){var M=!1,O=!W.isHead;if((O||e.len(o)<W.owner.owner.len(o)||e.len(o)==W.owner.owner.len(o)&&e.tag.enterTime>=W.owner.tag.enterTime)&&(M=!0),M){e.pveDie();var j=W.owner.owner,Q=q.getSheetDataByMultiKey(q.m_dicSnakeLengthRules,[j.tag.snakeId,j.getSkinLength(!1)]),g=Math.ceil(Q.consumePoints/3),y=new b.snake.socket.SC_EAT_FOOD;y.fid=[],y.score=g;var x=j.getScore(o)+g,E=j.getSkinLength(o),_=j.tag.snakeId,S=ie.getInstance().countSnakeLen(_,E,x,j.intervalBoneToDrawSkin(o));y.lenght=S,y.roleId=j.tag.roleId,y.score=x,y.remain=[],ie.getInstance().eatFoodAndAddScore(y,o);break}}}else console.log(e.tag.roleId+"  "+W.owner.tag.roleId+" ")}}};var xg=class{constructor(e){this.state="searching";this.target=null;this.dangerDistance=100;this.viewDistance=300;this.ATTACK_OFFSET=30;this.PREDICT_FACTOR=.8;this.SAFE_ANGLE=45;this.DANGER_CHECK_DIST=150;this.snake=e,this.collision=pr.getInstance(null)}update(){if(!this.snake.isAlive(!1))return;if(this.checkImmediateDanger()){this.escapeBehavior(null);return}let e=this.findNearestFood(),t=this.findNearestThreat();switch(this.updateState(e,t),re.Debug==2&&this.snake.showLogInHead(this.state,!1),this.state){case"searching":this.searchBehavior(e);break;case"pursuing":this.pursueBehavior();break;case"escaping":this.escapeBehavior(t);break;case"attacking":let r=this.findNearestAttackTarget();this.attackBehavior(r);break}}checkImmediateDanger(){let e=this.snake.getLogicHeadPosition(!1);return this.collision.retrieve(this.snake.getHead(!1)).filter(r=>r instanceof zi&&r.owner.owner!==this.snake&&Ct.getVecDistance(e,r.getLoogicPosition())<this.snake.getRadio(!1)*3).length>0}updateState(e,t){let r=this.findNearestAttackTarget(),s=r&&this.snake.getLength(!1)>r.getLength(!1)*1.2&&this.isPathSafe(r);t&&this.isInDangerRange(t)?this.state="escaping":s?(this.state="attacking",this.target=null):e?this.state="pursuing":this.state="searching"}isPathSafe(e){let t=this.predictTargetPosition(e);return!this.collision.raycast(this.snake.getLogicHeadPosition(!1),t,r=>r instanceof zi&&r.owner.owner!==this.snake)}isInAttackRange(e){return Ct.getVecDistance(this.snake.getLogicHeadPosition(!1),e.getLogicHeadPosition(!1))<this.viewDistance}findNearestFood(){let e=this.snake.getHead(!1),t=this.collision.retrieve(e).filter(l=>l instanceof sn),r=null,s=this.viewDistance,o=this.snake.getLogicHeadPosition(!1);for(let l of t){let u=Ct.distance(o.x,o.y,l.getPosition().x,l.getPosition().y);u<s&&(s=u,r=l)}return r}findNearestThreat(){let e=this.snake.getHead(!1),t=this.collision.retrieve(e).filter(l=>l instanceof zi&&l.getSkinFlag()===X.snake.skinFlag.head).map(l=>l.owner.owner).filter(l=>l!==this.snake&&l.isAlive(!1)&&l.getLength(!1)>=this.snake.getLength(!1)),r=null,s=this.viewDistance,o=this.snake.getLogicHeadPosition(!1);for(let l of t){let u=Ct.distance(o.x,o.y,l.getLogicHeadPosition(!1).x,l.getLogicHeadPosition(!1).y);u<s&&(s=u,r=l)}return r}findNearestAttackTarget(){let e=this.snake.getHead(!1),t=this.collision.retrieve(e).filter(l=>l instanceof zi&&l.getSkinFlag()===X.snake.skinFlag.head).map(l=>l.owner.owner).filter(l=>l!==this.snake&&l.isAlive(!1)&&!l.isInvincible(!1)&&l.getLength(!1)<this.snake.getLength(!1)),r=null,s=this.viewDistance,o=this.snake.getLogicHeadPosition(!1);for(let l of t){let u=Ct.distance(o.x,o.y,l.getLogicHeadPosition(!1).x,l.getLogicHeadPosition(!1).y);u<s&&(s=u,r=l)}return r}attackBehavior(e){if(!e||!e.isAlive(!1)){this.state="searching";return}let t=this.predictTargetPosition(e),r=this.calculateInterceptPosition(t,e),s=this.getSafeDirection(r);this.goAttackTargetPos(s),Ct.getVecDistance(this.snake.getLogicHeadPosition(!1),e.getLogicHeadPosition(!1))>this.viewDistance&&(this.state="searching")}predictTargetPosition(e){let t=e.getLogicHeadPosition(!1),r=e.getSpeed(!1)*e.getSpeedRate(!1),s=ft.getAngleToVec(e.getCurDir()),o=Ct.getVecDistance(this.snake.getLogicHeadPosition(!1),t),l=Math.min(2.5,o*this.PREDICT_FACTOR/r);return new it(t.x+s.x*r*l,t.y+s.y*r*l)}calculateInterceptPosition(e,t){let r=ft.getAngleToVec(t.getCurDir()),s=new it(-r.y,r.x),o=Math.random()>.5?this.ATTACK_OFFSET:-this.ATTACK_OFFSET;return new it(e.x+s.x*o,e.y+s.y*o)}getSafeDirection(e){let t=this.getDirectionToTarget(e),r=this.detectFrontalObstacles(t);return r.length===0?t:this.findAlternativeDirection(t,r)||t}detectFrontalObstacles(e){let t=this.snake.getLogicHeadPosition(!1);return this.collision.retrieve(this.snake.getHead(!1)).filter(r=>{if(r instanceof zi&&r.owner.owner!==this.snake){let s=r.getLoogicPosition().sub(t),o=e.getRotationTo(s);return Math.abs(o)<this.SAFE_ANGLE&&s.length()<this.DANGER_CHECK_DIST}return!1})}findAlternativeDirection(e,t){let r=[-45,45];for(let s of r){e.rotate(s);let o=e.normalize();if(!t.some(u=>{let p=u.getLoogicPosition().sub(this.snake.getLogicHeadPosition(!1));return o.getRotationTo(p)<this.SAFE_ANGLE}))return o}return null}goAttackTargetPos(e){this.target=e;let r=this.getDirectionToTarget(this.target).getRotation();this.snake.rotate(r,!1)}searchBehavior(e){e?(this.target=e.getPosition(),this.state="pursuing"):(!this.target||Ct.getVecDistance(this.snake.getLogicHeadPosition(!1),this.target)<50)&&(this.target=new it(Ct.randomRange(0,X.mapSize.width),Ct.randomRange(0,X.mapSize.height)))}goTargetPos(e){this.target=e;var r=this.getDirectionToTarget(this.target).getRotation();this.snake.rotate(r,!1),this.state="pursuing"}pursueBehavior(){if(this.target){if(Ct.getVecDistance(this.snake.getLogicHeadPosition(!1),this.target)<this.snake.getRadio(!1)*8)return;var e=this.getDirectionToTarget(this.target).getRotation();this.snake.rotate(e,!1)}}escapeBehavior(e){if(e){let r=this.getDirectionToTarget(e.getLogicHeadPosition(!1));r.x*=-1,r.y*=-1;var t=r.getRotation();this.snake.rotate(t,!1)}else{let s=this.snake.getCurDir()+180;s=ft.normalizeAngle(s),this.snake.rotate(s,!1)}}getDirectionToTarget(e){let t=this.snake.getLogicHeadPosition(!1),r=e.x-t.x,s=e.y-t.y,o=new it(r,s);if(Math.abs(o.getRotation()-this.snake.getCurDir())<5){var u=this.snake.getCurDir(),p=ft.getAngleToVec(u);return p}if(o.length()<.1){var u=this.snake.getCurDir(),p=ft.getAngleToVec(u);return p}return o.normalize(),o}isInDangerRange(e){return Ct.getVecDistance(this.snake.getLogicHeadPosition(!1),e.getLogicHeadPosition(!1))<this.dangerDistance}destroy(){this.snake=null,this.collision=null,this.target=null}};var qi=class i extends Laya.Sprite{constructor(){super(...arguments);this.collidables=[];this.isVisible=!1}static getInstance(){return i._instance||(i._instance=new i,i._instance.zOrder=9999,i._instance.mouseEnabled=!1),i._instance}toggleVisible(){this.isVisible=!this.isVisible,console.log("DebugLayer.toggleVisible",this.isVisible),this.graphics.clear()}updateCollidables(t){this.collidables=t}clearDraw(){this.graphics.clear(),this.graphics.alpha(.5)}draw(){this.isVisible&&(this.graphics.clear(),this.graphics.alpha(.5),this.collidables.forEach(t=>{t instanceof zi?this.drawSnakeBody(t):t instanceof sn&&this.drawFood(t)}))}drawSnakeBody(t){let r=t.getLoogicPosition(),s=t.getRadio();this.graphics.drawCircle(r.x,r.y,s,"#FF0000",2,.5)}drawFood(t){let r=t.getBoundingBox();this.graphics.drawRect(r.x,r.y,r.width,r.height,"#00FF00",2,.5)}};var mo=class mo{static getInstance(){return mo.instance||(mo.instance=new mo),mo.instance}init(e){if(!e)throw new Error("gameLayer Must Be Not Null");ie.getInstance().init(),gt.init();let t=ie.getInstance().container,r=gt.container,s=new Laya.Sprite;e.addChild(r),e.addChild(t),e.addChild(s),s.addChild(qi.getInstance()),gt.init()}createData(){ie.getInstance().createSnakes(),gt.createFoodsByData()}startGame(){Yi.start()}clearTimer(){}endTimer(){Yi.end()}update(e,t,r){if(ie.getInstance().updateSnakes(Laya.timer.delta,t,r),!t&&(Ri.move(ie.getInstance().getSelfSnakePos(t)),re.needDraw)){let s=qi.getInstance();s&&(s.clearDraw(),pr.getInstance(null).drawDebug(s.graphics))}}clear(){this.clearTimer()}};mo.instance=null;var A1=mo,ds=A1.getInstance();var M1=class i{constructor(){this._frameInterval=33;this._currentFrame=0;this.isStart=!1}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){this.stop(),this._currentFrame=0}start(){Laya.timer.loop(this._frameInterval,this,this.update)}stop(){Laya.timer.clear(this,this.update)}end(){this.stop(),this.isStart=!1}update(){this._currentFrame++,this.executeFrame(this._currentFrame)}executeFrame(e,t=!0){ie.getInstance().selfSnake&&ie.getInstance().selfSnake.tag==null||(ds.update(e,!1,t),gt.update(Laya.timer.delta),ie.getInstance().update(Laya.timer.delta))}get currentFrame(){return this._currentFrame}sendAiEnter(){var e=b.snake.socket.MessageType.MSG_AI_ENTER;ve.send(e,null)}sendAiEnd(e,t){var r=b.snake.socket.MessageType.MSG_AI_END,s=b.snake.socket.CS_AI_END.fromObject({kills:e,score:t});ve.send(r,s)}onPveEnd(){var e=new b.snake.socket.SC_BATTLE_END,t=ie.getInstance().selfSnake;e.res=!1,e.roleId=t.tag.roleId,e.score=t.viewSnake.score,e.kills=t.tag.kills,e.length=t.viewSnake.getSkinLength(),e.alive=X.snake.battleCd/1e3-Ee.matchCoolDownTime,e.rank=t.rankNum,e.items=[],console.log("onPveEnd",e),Ee.onAiSetMatchEnd(e)}},Yi=M1.getInstance();var Wa=class{constructor(e,t,r,s){this.clientFrame=1;this.serverFrame=1;this.dFrame=0;this.oprIndex=-1;this.serverHeadPoss=[];this.ringCenter=new it;this.baseRingSize=100;this.isSend=!1;this.isStop=!1;this.lastRingUpdate=0;this.isOutSide=!1;this.lastSendFrame=-1;this.lastDir=-1;this.lastSendDir=-1;this.isLogicSnake=e,this.pnl=t,this.owner=s,this.bodySkinPool=ie.getInstance().getBodySkinPool(),this.updateData(r),this.showLogInHead(e+"")}updateData(e){if(this.skins)for(let t=0;t<this.skins.length;t++){let r=this.skins[t];r&&this.bodySkinPool.returnBodySkin(r)}this.skins=[],this._initData(e),this._initSnake(),this._updateSkinRadio()}_initData(e){this.snakeItem=q.m_dicSnakes.get(e.snakeId),this.radio=this.snakeItem.bodyRadius,this.collisionHeadRadius=this.snakeItem.collisionHeadRadius,this.suctionRadius=this.snakeItem.suctionRadius,this.speed=this.snakeItem.baseSpeed,this.maxLen=this.snakeItem.maxLength,this.tag=e||null,this.score=e.score,this.speedRate=e.speed;var t=e.direction;this.dir=t,this.lastDir=t;var r=e.aimDir;this.aimDir=r,this.rotateSpeed=X.snake.defaultRotateSpeed;let s=e.attr;for(let x=0;x<s.length;x++)if(s[x]){let E=s[x].split(","),_=E[0],S=E[1];if(_=="1"){var o=parseInt(S),l=e.length;l+=o,console.log("ATTR: len: "+l)}else if(_=="2"){var u=parseInt(S);this.maxLen+=u,console.log("ATTR: maxLen: "+this.maxLen+", addMaxLen: "+u)}else if(_=="3"){var p=parseInt(S),m=p/100*this.speed;this.speed+=m,console.log("ATTR: speed: "+this.speed+", addSpeed: "+m)}else if(_!="4"){if(_=="5"){var d=parseInt(S),f=d/100*this.suctionRadius;this.suctionRadius+=f,this.suctionRadius=Math.floor(this.suctionRadius),console.log("ATTR: suctionRadius: "+this.suctionRadius+", addSuctionRadius: "+f)}}}this.len=e.snake.length,this.intervalBoneToDrawSkin=this.snakeItem.intervalBoneToDrawSkin,this.skins=[],this.bones=[],this.alive=!0;var g=e.wdTime-e.oprTime;this.defaultInvincibleTime=Date.now()+g,this.isInvincible=g>0;let y=Math.random()+.5;y=y>1?y-.5:y;for(let x=0;x<this.len;x++){let E=e.snake[x].loc,_=it.create(E.x,E.y);this.bones[x]=_}this.isLogicSnake||this.bodyRing||(this.bodyRing=new Laya.Image,this.bodyRing.skin=X.res.snakeRingImg,this.bodyRing.width=this.bodyRing.height=this.baseRingSize,this.bodyRing.anchorX=this.bodyRing.anchorY=.5,this.bodyRing.visible=!1,this.pnl.addChild(this.bodyRing))}_updateBodyRing(){if(this.lastRingUpdate=Date.now(),!!this.isInvincible&&this.bodyRing){var e=this.getHeadPosition();this.bodyRing.pos(e.x,e.y)}}_initSnake(){console.log(ae.GetLogTime,"","isLogicSnake: "+this.isLogicSnake);let e=this.getSkinLength();for(let t=0;t<e;t++){t===0?this.skins[t]=this.bodySkinPool.getBodySkin(X.snake.skinFlag.head,this.color,this.tag,this):this.skins[t]=this.bodySkinPool.getBodySkin(X.snake.skinFlag.body,this.color,this.tag,this);let r=t*this.intervalBoneToDrawSkin;if(this.bones[r]){this.skins[t].setPosition(this.bones[r]),ie.getInstance().addBodySkin(this.skins[t]),this.skins[t].setLocalZOrder(-(t+1));let s;r+1<this.bones.length?s=this.bones[r+1]:r-1>=0?s=this.bones[r-1]:s=this.bones[r];let o=this.bones[r].getRotationTo(s),l=X.snake.defaultRotation-o;this.skins[t].setRotation(l),this.skins[t].setVisible(!0)}else console.error("_initSnake error",e,t),this.skins[t].setVisible(!1)}}move(e,t){if(this.alive){if(this.isLogicSnake){if(!t&&this.getIsStop())return}else if(this.getIsStop())return;if(re.Debug==2){var r=ae.GetLogTime+" C : ======== "+this.tag.roleId+" frame: "+(Te.getClientRuningFrame(!0)-1)+", pos: "+this.bones[0].x+", "+this.bones[0].y+", hasConfirmed: "+t+", isLogicSnake: "+this.isLogicSnake;console.debug(r),re.Debug==2&&!this.isOutSide&&this.isLogicSnake&&t&&!this.owner.isLogicReadyDie&&Te.checkClientAndServerFrame(Te.clientRuningFrame,this.tag.roleId,this.bones[0])}for(let p=0;p<this.speedRate;p++){let m=this.aimDir-this.dir,d=this.rotateSpeed*X.snake.defaultMoveInterval;if(Math.abs(m)<d)this.dir=this.aimDir;else{m=(m+360)%360,m>180&&(m-=360);var s=Math.abs(m)<d?m:d*(m>0?1:-1);this.dir+=s,this.dir>=360&&(this.dir-=360),this.dir<0&&(this.dir+=360)}let f=ft.getAngleToVec(this.dir);re.Debug==3&&console.log(ae.GetLogTime,this.tag.roleId+": ======= LOC BEFORE ==== "+Te.getClientRuningFrame(!0)+" ",this.dir,"",f.x,f.y,"bones[0]",this.bones[0].x,this.bones[0].y,"speed"+this.speed+", speedRate: "+this.speedRate,"isLogicSnake: "+this.isLogicSnake,"hasConfirmed: "+t);var o=this.bones[0].add(f.mul(this.speed)),l=10,u=X.mapSize;if(o.x<u.offsetX-l||o.x>u.width-u.offsetX+l||o.y<u.offsetY-l||o.y>u.height-u.offsetY+l){this.isOutSide=!0;return}this.bones[0].assign(o);for(let g=1;g<this.bones.length;g++){let y=this.bones[g-1],x=this.bones[g],E=.6,_=x.add(y.sub(x).mul(E));this.bones[g].x=_.x,this.bones[g].y=_.y}p===this.speedRate-1&&(this._processGrowth(),this._moveBody(),this._updateSkinRadio())}this.isInvincible&&(this.bodyRing&&(this.bodyRing.visible||(this.bodyRing.visible=!0),this._updateBodyRing()),Date.now()>this.defaultInvincibleTime&&(this.isInvincible=!1,this.bodyRing&&(this.bodyRing.visible=!1)))}}getCurDir(){return this.dir}getAimDir(){return this.aimDir}rorateReadySend(){this.isSelf&&this.lastSendFrame!=Te.currentFrame&&(this.rotateSend(),this.lastSendFrame=Te.currentFrame)}showServerPos(e,t,r,s,o){this.getHead().setServerPosLog(e,t,r,s,o)}showLogInHead(e){this.getHead()&&this.getHead().showLogInHead(e)}setClientScore(e){this.getHead()&&this.getHead().setClientScore(e)}setLength(e){this.len=e}setScore(e){this.score=e}_processGrowth(){var e=this.len,t=this.bones.length;if(!(e==t&&e>=this.maxLen)){if(e>t){let m=this.bones[this.bones.length-1];for(var r,s=t+1;s<=e;s++)r=it.create(m.x,m.y),this.bones.push(r)}else e<t&&this.bones.splice(e);var o=this.getSkinLength(),l=this.skins.length;if(o>l)for(var u=l+1;u<=o;u++){let m=(u-1)*this.intervalBoneToDrawSkin,d=this.bodySkinPool.getBodySkin(X.snake.skinFlag.body,this.color,this.tag,this);d.setPosition(this.bones[m]),ie.getInstance().addBodySkin(d),d.setLocalZOrder(-(u+1));let f=this.bones[m],g=this.bones[m].getRotationTo(f);d.setRotation(X.snake.defaultRotation-g),this.skins.push(d)}else if(o<l){for(var u=o+1;u<=l;u++){var p=this.skins[u-1];this.bodySkinPool.returnBodySkin(p)}this.skins.splice(o)}this._updateSkinRadio()}}_moveBody(){let e=this.getSkinLength();for(let t=0;t<e;t++){let r=t*this.intervalBoneToDrawSkin;if(this.skins[t])if(this.bones[r]){this.skins[t].setPosition(this.bones[r]);let s;r+1<this.bones.length?s=this.bones[r+1]:r-1>=0?s=this.bones[r-1]:s=this.bones[r];let o=this.bones[r].getRotationTo(s);this.skins[t].setRotation(X.snake.defaultRotation-o),this.skins[t].setVisible(!0)}else this.skins[t].setVisible(!1)}}_updateSkinRadio(){let e=this.getSkinLength();for(let t=0;t<e;t++)this.skins[t]&&this.skins[t].updateAlpha(this.radio,this.speedRate)}showAddScore(e){this.isSelf&&this.getHead().node.showDamageLabelDetailDelay(e,100,!1)}get isSelf(){return this.tag&&this.tag.roleId==U.playerDto.pid}getHeadCollisionBounds(){let e=this.collisionHeadRadius,t=this.getLogicHeadPosition();return t?new Laya.Rectangle(t.x-e,t.y-e,e*2,e*2):null}checkBodyCollision(e){let t=this.getLogicHeadPosition();return t?e.checkCollision(t.x,t.y,this.collisionHeadRadius):!1}checkFoodCollision(e){let t=this.getLogicHeadPosition();return t?e.checkCollision(t.x,t.y,this.suctionRadius):!1}rotateControl(e,t=!1){this.lastDir!=e&&(this.lastDir=e)}rotateSend(){if(Te.clientRuningFrame!=Te.startFrame){var e=U.playerDto.pid,t=this.getToServerHead(),r=b.snake.socket.MessageType.MSG_PLAYER_OPR,s=b.snake.socket.CS_PLAYER_OPR.fromObject({roleId:e,opr:1,value:this.lastDir,head:t,frame:Te.getClientCurrentFrame(),curDir:this.getCurDir(),aimDir:this.getAimDir(),snake:[]});je.sendData(r,s),this.lastDir!=-1&&this.lastSendDir!=this.lastDir&&(s.frame=Te.getPredictFrameHalf(),Te.frameNetQueue.addLocalOperation(s),this.lastSendDir=this.lastDir)}}rotate(e,t=!1){this.aimDir=e}updateSpeedRate(e){this.speedRate=e}getLogicHeadPosition(){return this.getHead()?this.getHead().getLoogicPosition():null}getHeadPosition(){return this.getHead()?this.getHead().getPosition():null}gotoDiePos(){if(this.skins)for(let e=0;e<this.skins.length;e++){let t=this.skins[e];t&&t.gotoDiePos()}}getHead(){return this.skins?this.skins[0]:null}getSpeed(){return this.speed}getSpeedRate(){return this.speedRate}getIsSend(){return this.isSend}setIsSend(e){this.isSend=e}getIsStop(){return this.isStop}setIsStop(e){this.isStop=e}getToServerHead(){var e=new b.snake.socket.SnakeObject,t=new b.snake.socket.PointObject;return t.x=this.bones[0].x,t.y=this.bones[0].y,e.loc=t,e}updateHead106(e,t,r,s,o){if(this.isAlive()&&s){if(this.oprIndex!=-1&&o!=this.oprIndex+1){var l=this.tag.roleId,u="106 "+l+""+ae.GetLogTime+" "+l+" "+this.oprIndex+" "+o+", C: ("+this.bones[0].x+", "+this.bones[0].y+"), "+this.clientFrame+" S:("+t.loc.x+", "+t.loc.y+"), "+e+", hasConfirmed: "+s;console.error(u),re.Debug==2&&o-this.oprIndex>1&&ae.alertYes(u);return}this.oprIndex=o}}shine(e){let t=this.skins.length;for(let r=0;r<t;r++)this.skins[r].setVisible(!this.skins[r].isVisible())}show(){let e=this.skins.length;for(let t=0;t<e;t++)this.skins[t].setVisible(!0)}getSkins(){return this.skins}getRadio(){return this.radio}setAlive(e){this.alive=e}setGray(e){for(let t=0;t<this.skins.length;t++)this.skins[t].setGray(e)}isAlive(){return this.alive}getLength(){return this.len}getScore(){return this.score}getSkinLength(){return Math.floor(this.len/this.intervalBoneToDrawSkin)}recordBones(){var e=[];for(let t=0;t<this.bones.length;t++){let r=this.bones[t];e.push(r.clone())}return e}getState(){return{dir:this.dir,aimDir:this.aimDir,bones:this.recordBones(),speedRate:this.speedRate,oprIndex:this.oprIndex,alive:this.isAlive()}}restoreState(e){re.Debug>2&&console.log("============= restoreState: ","roleId:"+this.tag.roleId,"lastOprIndex:"+this.oprIndex,"oprIndex:"+e.oprIndex,"lastLen:"+this.len,"confirmLen:"+e.len,"lastScore:"+this.score,"confirmScore:"+e.score,"lastBoneLen:"+this.bones.length,"confirmBoneLen:"+e.bones.length,"isLogicSnake:"+this.isLogicSnake),this.dir=e.dir,this.aimDir=e.aimDir,this.bones=this.deepCopyBones(e.bones),this.speedRate=e.speedRate,this.oprIndex=e.oprIndex,this.alive=e.alive}deepCopyBones(e){var t=[];for(let r=0;r<e.length;r++){let s=e[r];t.push(s.clone())}return t}getDoublePointsProbability(){return this.snakeItem.doublePointsProbability}adjustVisualState(e){this.dir=e.dir,this.aimDir=e.aimDir,this.bones=this.deepCopyBones(e.bones),this.speedRate=e.speedRate,this.oprIndex=e.oprIndex,this.alive=e.alive,this.len=e.len,this.score=e.score}destroy(){Laya.timer.clearAll(this),this.isSelf&&(ie.getInstance().skinLen=this.getSkinLength(),ie.getInstance().kills=this.tag.kills),this.skins.forEach(e=>this.bodySkinPool.returnBodySkin(e)),this.skins=[],this.bodyRing&&this.bodyRing.removeSelf(),this.bodyRing=null,this.snakeItem=null,this.tag=null,this.owner=null}};var on=class{constructor(){}};on.MONTH="months",on.DAYS="days",on.HOURS="hours",on.MINUTES="minutes",on.SECOUNDS="seconds",on.MS="ms";var Ut=class Ut{constructor(){}static formatMM(e){if(e<=0)return"00:000";let t,r;t=e/1e3,r=e%1e3;let s="";return t<=9&&(s+="0"),s+=Math.floor(t),s+=":",r<=9?s+="00":r<=99&&(s+="0"),s+=r,s}static format(e,t=":",r=!0){if(e<=0)return r?"00:00:00":"00:00";let s,o,l,u,p;u=e/3600,l=e%3600,p=l/60,s=l%60;let m="";return r&&(u<=9&&(m+="0"),m+=Math.floor(u)+t),p<=9&&(m+="0"),m+=Math.floor(p)+t,Math.ceil(s)<=9&&(m+="0"),m+=Math.ceil(s),m}static formatWithDay(e,t=":",r=!1){if(e<=0)return"00:00";let s,o,l,u,p;o=e/86400,l=e%86400,u=l/3600,l=l%3600,p=l/60,s=l%60;let m="";return o>=1?(m=P.getLanguage(16,Math.floor(o))+" ",u<=9&&(m+="0"),r&&s%2!=0&&(t=ae.getColorText(t,"#412b20")),m+=Math.floor(u)+t,p<=9&&(m+="0"),m+=Math.floor(p)):(u<=9&&(m+="0"),m=Math.floor(u)+t,p<=9&&(m+="0"),m+=Math.floor(p)+t,Math.ceil(s)<=9&&(m+="0"),m+=Math.ceil(s)),m}static formatWithSecondByMs(e){return`${e/1e3}`}static getTimeByMs(e){let t=new Date(e);return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()}static formatWithDayByMs(e,t=":",r=!1){if(e<=0)return"00:00";let s,o,l,u,p,m;l=e/864e5,u=e%864e5,p=u/36e5,u=u%36e5,m=u/6e4,u=u%6e4,o=u/1e3,s=u%1e3;let d="";return l>=1&&(d=P.getLanguage(16,Math.floor(l))+" "),p<=9&&(d+="0"),d+=Math.floor(p)+t,m<=9&&(d+="0"),d+=Math.floor(m)+t,Math.ceil(o)<=9&&(d+="0"),d+=Math.floor(o)+" ",d+=Math.ceil(s),d}static getTimeArray(e,t="HH-MM-SS"){if(e=Math.max(0,e),t.indexOf("-")==-1)return[];let r=[],s=t.split("-");for(let o of s)o=="DD"?r.push(Math.floor(e/Ut.OneDaySceond)):o=="HH"?r.push(Math.floor(e%Ut.OneDaySceond/Ut.OneHourSceond)):o=="MM"?r.push(Math.floor(e%Ut.OneHourSceond/Ut.OneMiniuteSecond)):o=="SS"&&r.push(e%Ut.OneMiniuteSecond);return r}static getServerDate(e){return new Date(e)}static formatTimeStamp(e,t="YY-MT-DD HH:MM:SS",r=!1){let s=Ut.getServerDate(e),o="";if(t.indexOf("YY")>=0&&(o=(r?s.getUTCFullYear():s.getFullYear())+"",t=t.replace("YY",o)),t.indexOf("MT")>=0){let l=(r?s.getUTCMonth():s.getMonth())+1;l>9?o=l+"":o="0"+l,t=t.replace("MT",o)}if(t.indexOf("DD")>=0){let l=r?s.getUTCDate():s.getDate();l>9?o=l+"":o="0"+l,t=t.replace("DD",o)}if(t.indexOf("HH")>=0){let l=r?s.getUTCHours():s.getHours();l>9?o=l+"":o="0"+l,t=t.replace("HH",o)}if(t.indexOf("MM")>=0){let l=r?s.getUTCMinutes():s.getMinutes();l>9?o=l+"":o="0"+l,t=t.replace("MM",o)}if(t.indexOf("SS")>=0){let l=r?s.getUTCSeconds():s.getSeconds();l>9?o=l+"":o="0"+l,t=t.replace("SS",o)}return t}static formatTimeStamps(e,t="YY-MT-DD HH:MM:SS"){let r=Ut.getServerDate(e),s=t;return s=Ut.parseTimeDetail(r,s,"YY",!1),s=Ut.parseTimeDetail(r,s,"MT",!1),s=Ut.parseTimeDetail(r,s,"DD",!1),s=Ut.parseTimeDetail(r,s,"HH",!0),s=Ut.parseTimeDetail(r,s,"MM",!0),s=Ut.parseTimeDetail(r,s,"SS",!0),s}static parseTimeDetail(e,t,r,s){if(t.indexOf(r)>=0){let o,l;r=="YY"?l=e.getFullYear():r=="MT"?l=e.getMonth()+1:r=="DD"?l=e.getDate():r=="HH"?l=e.getHours():r=="MM"?l=e.getMinutes():r=="SS"&&(l=e.getSeconds()),l>9||!s?o=l.toString():o="0"+l,t=t.replace(r,o)}return t}static getServerTimeStr(){return Ut.formatTimeStamp(Laya.timer.currTimer)}static getTimeArr(){return Ut.getServerTimeStr().split("/")}static get getDay(){let t=Ut.getServerTimeStr().split("/");return parseInt(t[2])}static parseSheetTime(e){let t="";if(e){let r=e.length;for(let s=0;s<r;s++){let o="";e[s]<10?o="0"+e[s]:o=e[s],s!==r-1&&(o=o+":"),t+=o}}return t}static dateStringToTimestamp(e,t){let[r,s,o]=e.split("-").map(Number),l=Number(t),u=new Date(r,s-1,o,l).getTime();return Number(u)}static getTimestamp(e,t,r,s,o){return new Date(e,t-1,r,s,o).getTime()}static getCurrentDayTimestamp(){let e=new Date,t=e.getHours();return e.setHours(t,0,0,0),e.getTime()}static getYearMonthDat(e,t="-"){let r=new Date(e),s=r.getFullYear(),o=r.getMonth()+1<10?"0"+(r.getMonth()+1):""+(r.getMonth()+1),l=r.getDate()<10?"0"+r.getDate():""+r.getDate();return`${s}${t}${o}${t}${l}`}static formatDayAndTime(e,t="-"){let r=new Date(e),s=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0"),u=String(r.getHours()).padStart(2,"0"),p=String(r.getMinutes()).padStart(2,"0");return{date:`${s}${t}${o}${t}${l}`,time:`${u}:${p}`}}static formatTimeExpires(e){return e<60*1e3?P.getLanguage(1214,e):e<60*60*1e3?P.getLanguage(1215,Math.floor(e/6e4)):e<24*60*60*1e3?P.getLanguage(1216,Math.floor(e/36e5)):P.getLanguage(1217,Math.floor(e/(24*60*60*1e3)))}static getTimeDifference(e,t=on.MONTH){let r=new Date,o=new Date(e*1e3).getTime()-r.getTime();if(o<0)return{months:0,days:0,hours:0,minutes:0,seconds:0,ms:0};let l=o,u=Math.floor(o/1e3),p=Math.floor(u/60),m=Math.floor(p/60),d=Math.floor(m/24),f=Math.floor(d/30);return t==="months"?(d%=30,m%=24,p%=60,u%=60,l%=1e3):t==="days"?(m%=24,p%=60,u%=60,l%=1e3,f=0):t==="hours"?(p%=60,u%=60,l%=1e3,f=0,d=0):t==="minutes"?(u%=60,l%=1e3,f=0,d=0,m=0):t==="seconds"?(l%=1e3,f=0,d=0,m=0,p=0):t==="ms"&&(f=0,d=0,m=0,p=0,u=0),{months:t==="months"?f:0,days:t==="months"||t==="days"?d:0,hours:t==="months"||t==="days"||t==="hours"?m:0,minutes:t==="months"||t==="days"||t==="hours"||t==="minutes"?p:0,seconds:t!=="ms"?u:0,ms:l}}static checkTimeValid(e){let t=Math.floor(Date.now()/1e3),r=24*60*60;return!(t-e>r)}static formatTimeAgoFromTimestamp(e){let r=new Date().getTime()-e,s=Math.floor(r/(60*1e3)),o="";if(s<60)o=P.getLanguage(17,s);else if(s<24*60){let l=Math.floor(s/60);o=P.getLanguage(15,l)}else{let l=Math.floor(s/1440);o=P.getLanguage(16,l)}return P.getLanguage(18,o)}static formatTimeAgo(e){if(e<60*1e3)return P.getLanguage(40);if(e<60*60*1e3){var t=P.getLanguage(17,Math.floor(e/6e4));return P.getLanguage(18,t)}else if(e<24*60*60*1e3){var t=P.getLanguage(15,Math.floor(e/36e5));return P.getLanguage(18,t)}else{var t=P.getLanguage(16,Math.floor(e/864e5));return P.getLanguage(18,t)}}static formatDateDDMMYYYY(e,t="/"){let r=new Date(e),s=String(r.getDate()).padStart(2,"0"),o=String(r.getMonth()+1).padStart(2,"0"),l=r.getFullYear();return`${s}${t}${o}${t}${l}`}static getRestTime(e){let t=Math.floor(Date.now()/1e3),r=e-t;if(r<=0)return"00:00:00";let s=Math.floor(r/3600);r%=3600;let o=Math.floor(r/60),l=r%60,u=s<10?`0${s}`:`${s}`,p=o<10?`0${o}`:`${o}`,m=l<10?`0${l}`:`${l}`;return`${u}:${p}:${m}`}};Ut.OneDaySceond=24*3600,Ut.OneHourSceond=3600,Ut.OneMiniuteSecond=60;var vt=Ut;var ho=class{constructor(e,t){this.isViewReadyDie=!1;this.isLogicReadyDie=!1;this.isStartShineed=!1;this.isShineed=!1;this.isConfirmDied=!1;this.dieRuningFrame=0;this.logicDieRuningFrame=0;this.logicDieTime=0;this.viewSnake=new Wa(!1,e,t,this),Ee.matchDto.arenaType!=Pe.ARENA_TYPE_PVE&&(this.logicSnake=new Wa(!0,e,t,this)),this.tag=t}updateData(e){this.logicSnake.updateData(e),this.viewSnake.updateData(e),this.tag=e}getCurDir(){return this.viewSnake.dir}getAimDir(){return this.viewSnake.aimDir}getHead(e){return e?this.logicSnake.getHead():this.viewSnake.getHead()}showLogInHead(e,t){t?this.logicSnake.showLogInHead(e):this.viewSnake.showLogInHead(e)}setClientScore(e,t){t?this.logicSnake.setClientScore(e):this.viewSnake.setClientScore(e)}get isSelf(){return this.tag&&this.tag.roleId==U.playerDto.pid}move(e,t,r){if(t){if(r){if(this.dieRuningFrame!=0&&this.isViewReadyDie&&Te.clientRuningFrame>this.dieRuningFrame+10&&!this.isLogicReadyDie&&this.isAlive(!0)){var s=ae.GetLogTime+" Snake DIE "+this.tag.roleId+" ==== : clientRuningFrame: "+Te.clientRuningFrame+", dieRuningFrame: "+this.dieRuningFrame;console.warn(s),re.Debug==2&&Me.notice(s),this.relive(),this.dieRuningFrame=0}var o=Laya.Browser.now();if(this.logicDieTime!=0&&this.isLogicReadyDie&&o>this.logicDieTime+8e3&&this.isAlive(!0)){var s=ae.GetLogTime+" Snake DIE "+this.tag.roleId+" ==== : now: "+vt.getTimeByMs(o)+", logicDieTime: "+vt.getTimeByMs(this.logicDieTime)+", clientRuningFrame: "+Te.clientRuningFrame+", logicDieRuningFrame: "+this.logicDieRuningFrame;console.warn(s),re.vType==0&&ae.alertYes(s)}}this.logicSnake.move(e,r)}else this.viewSnake.move(e,r),this.updateOther()}setLength(e,t){t?this.logicSnake.setLength(e):this.viewSnake.setLength(e)}setScore(e,t){t?this.logicSnake.setScore(e):this.viewSnake.setScore(e)}showAddScore(e,t){t?this.logicSnake.showAddScore(e):this.viewSnake.showAddScore(e)}rotateControl(e,t=!1){this.viewSnake&&this.viewSnake.rotateControl(e,t)}rotateSend(){this.viewSnake.rotateSend()}rotate(e,t){t?this.logicSnake.rotate(e):this.viewSnake.rotate(e)}updateSpeedRate(e,t){t?this.logicSnake.updateSpeedRate(e):this.viewSnake.updateSpeedRate(e)}getToServerHead(e){return e?this.logicSnake.getToServerHead():this.viewSnake.getToServerHead()}getSpeed(e){return e?this.logicSnake.getSpeed():this.viewSnake.getSpeed()}getSpeedRate(e){return e?this.logicSnake.getSpeedRate():this.viewSnake.getSpeedRate()}getHeadPosition(e){return e?this.logicSnake.getHeadPosition():this.viewSnake.getHeadPosition()}getLogicHeadPosition(e){return e?this.logicSnake.getLogicHeadPosition():this.viewSnake.getLogicHeadPosition()}addKill(e){if(this.tag&&(this.tag.kills+=e),this.isSelf){var t=this.tag.kills>5?5:this.tag.kills;let r=`soundName_kill_${t}`;Xe[r]?Xe.playSoundByName(Xe[r]):console.warn(` ${r} `),this.getHead(!1).node.showDamageLabelDetailDelay(e,100,!0)}}sendDie(){this.isLogicReadyDie=!0;var e=Laya.Browser.now();console.log(`Snake DIE ${this.tag.roleId} `,"sendDie now: "+e,this.logicDieTime,"clientRuningFrame: "+Te.clientRuningFrame,this.logicDieRuningFrame,this.getHeadPosition(!1)),this.logicDieTime=e,this.logicDieRuningFrame=Te.clientRuningFrame,this.setIsStop(!0,!0)}readyDie(){console.log(ae.GetLogTime+` Snake DIE ${this.tag.roleId} `,this.isStartShineed,"readyDie "+Te.clientRuningFrame,this.dieRuningFrame),!this.isStartShineed&&(this.dieRuningFrame=Te.clientRuningFrame+1,this.isStartShineed=!0,this.isViewReadyDie=!0,this.isShineed=!1,this.setIsStop(!0,!1),this.viewSnake.gotoDiePos(),this.startShine())}startShine(){console.log(`Snake ${this.tag.roleId} `,"startShine"),Laya.timer.clear(this,this.shine),Laya.timer.frameLoop(5,this,this.shine),Laya.timer.once(2e3,this,this.haveShined)}shine(e){this.viewSnake.shine(e),this.logicSnake&&this.logicSnake.shine(e)}haveShined(){console.log(`Snake ${this.tag.roleId} `,"haveShined"),this.isStartShineed=!1,this.isShineed=!0,this.stopShine(),this.isConfirmDied&&this.die()}stopShine(){console.log(`Snake ${this.tag.roleId} `,"stopShine"),this.viewSnake.show(),this.logicSnake&&this.logicSnake.show(),Laya.timer.clear(this,this.shine)}relive(){console.log(`Snake ${this.tag.roleId} `,"relive","this.isConfirmReadyDie: "+this.isLogicReadyDie),this.setIsStop(!1,!1),this.isViewReadyDie=!1,this.setIsSend(!1,!1),this.stopShine()}confirmDie(){console.log(`Snake ${this.tag.roleId} `,"confirmDie","this.isShineed: "+this.isShineed),this.stopShine(),this.die()}die(){console.log(`Snake ${this.tag.roleId} has died.`),this.viewSnake.setAlive(!1),this.logicSnake&&this.logicSnake.setAlive(!1),this.isSelf?(this.viewSnake.setGray(!0),this.logicSnake&&this.logicSnake.setGray(!0),Xe.playSoundByName(Xe.soundName_kill_die),Laya.timer.once(1e3,this,this.goMatchEnd)):ie.getInstance().removeSnake(this.tag.roleId)}goMatchEnd(){Ee.matchDto.arenaType==Pe.ARENA_TYPE_PVE?Yi.onPveEnd():(ie.getInstance().removeSnake(this.tag.roleId),Ee.onMockMatchEnd())}isAlive(e){return e?this.logicSnake.isAlive():this.viewSnake.isAlive()}getSkinLength(e){return e?this.logicSnake.getSkinLength():this.viewSnake.getSkinLength()}getScore(e){return e?this.logicSnake.getScore():this.viewSnake.getScore()}getHeadCollisionBounds(e){return e?this.logicSnake.getHeadCollisionBounds():this.viewSnake.getHeadCollisionBounds()}isInvincible(e){return e?this.logicSnake.isInvincible:this.viewSnake.isInvincible}len(e){return e?this.logicSnake.len:this.viewSnake.len}intervalBoneToDrawSkin(e){return e?this.logicSnake.intervalBoneToDrawSkin:this.viewSnake.intervalBoneToDrawSkin}getSkins(e){return e?this.logicSnake.getSkins():this.viewSnake.getSkins()}getLength(e){return e?this.logicSnake.getLength():this.viewSnake.getLength()}getRadio(e){return e?this.logicSnake.getRadio():this.viewSnake.getRadio()}checkFoodCollision(e,t){return t?this.logicSnake.checkFoodCollision(e):this.viewSnake.checkFoodCollision(e)}getIsSend(e){return e?this.logicSnake.getIsSend():this.viewSnake.getIsSend()}setIsSend(e,t){t?this.logicSnake.setIsSend(e):this.viewSnake.setIsSend(e)}getIsStop(e){return this.tag?e?this.logicSnake.getIsStop():this.viewSnake.getIsStop():!0}setIsStop(e,t){t?this.logicSnake.setIsStop(e):this.viewSnake.setIsStop(e)}checkBodyCollision(e,t){return t?this.logicSnake.checkBodyCollision(e):this.viewSnake.checkBodyCollision(e)}updateOther(){}destroy(){console.log(`Snake ${this.tag.roleId} has been destroyed.`),Laya.timer.clearAll(this),this.viewSnake.destroy(),this.logicSnake&&this.logicSnake.destroy(),this.viewSnake=null,this.logicSnake=null,this.tag=null}};var Fu=class extends ho{constructor(t,r){super(t,r);this.isAi=!1;this.tag.roleId&&this.tag.roleId.startsWith(X.snake.aiPrefix)&&(this.aiController=new xg(this),this.isAi=!0)}pveDie(){this.isSelf?(this.isConfirmDied=!0,this.readyDie()):(this.toFood(),this.die())}toFood(){var t=this.getSkins(!1);for(let r=4;r<t.length;r+=5){let s=t[r],o=(Math.random()-.5)*20,l=(Math.random()-.5)*20,u=s.getLoogicPosition().x+o,p=s.getLoogicPosition().y+l;gt.addFoodByPosWithDie(u,p)}}goMatchEnd(){Yi.onPveEnd()}updateOther(){this.aiController&&this.aiController.update()}goTargetPos(t){this.aiController&&this.aiController.goTargetPos(t)}destroy(){super.destroy(),this.aiController&&(this.aiController.destroy(),this.aiController=null)}};var vg=class{constructor(e){this.pool=[];this.pnl=e}getBodySkin(e,t,r,s){if(this.pool.length>0){let o=this.pool.pop();return o.reset(e,this.pnl,t,r,s),o}else return new zi(e,this.pnl,t,r,s)}returnBodySkin(e){e.resetForPool(),this.pool.push(e)}clear(){this.pool.forEach(e=>e.destroy()),this.pool=[]}};var Ig=class{constructor(){this.selfSnake=null;this.isControl=!1}init(){this.container||(this.container=new Laya.Sprite),this.matchHeroSprDic=new Ne(!0),this.selfSnake=null,this.collision=pr.getInstance(null),this.bodySkinPool=new vg(this.container)}updateSnake(e,t){return console.log("updateSnake: "+t.roleId,U.playerDto.pid),e.updateData(t),U.playerDto.pid==t.roleId&&(this.selfSnake=e),e}addBodySkin(e){this.collision.addBodySkin(e)}removeBodySkin(e){this.collision.removeBodySkin(e)}updateSnakes(e,t,r){this.moveSnakes(e,t,r),this.collision.refresh(),this.checkAllSnakeCollision(t,r)}getSnake(e){return this.matchHeroSprDic.get(e)}removeSnake(e){var t=this.matchHeroSprDic.get(e);t?(t.destroy(),this.matchHeroSprDic.remove(e)):console.log("removeSnake error: "+e)}removeAllSnakes(){var e=this.matchHeroSprDic.getValues();for(let t of e)t.destroy();this.matchHeroSprDic=new Ne(!0)}moveSnakes(e,t,r){var s=this.matchHeroSprDic.getValues();for(let o of s)o.isAlive(t)&&o.move(e,t,r)}getSelfSnakePos(e){return this.selfSnake?this.selfSnake.getHeadPosition(e):null}createSnakes(){this.matchHeroSprDic=new Ne(!0);let e=Ee.matchDto.members.length;for(var t=0;t<e;t++)var r=Ee.matchDto.members[t],s=this.createSnake(r)}newAddSnake(e){var t=this.matchHeroSprDic.get(e.roleId);t?this.updateSnake(t,e):t=this.createSnake(e)}restoreSnakes(){this.removeAllSnakes(),this.matchHeroSprDic=new Ne(!0);let e=Ee.matchDto.members.length;for(var t=0;t<e;t++){var r=Ee.matchDto.members[t];try{var s=this.createSnake(r)}catch(o){console.warn(o)}}}getBodySkinsWithOutOne(e,t){var r=[],s=this.matchHeroSprDic.getValues();for(let l of s){var o=l;o.tag&&e.tag.roleId!=o.tag.roleId&&(r=r.concat(o.getSkins(t)))}return r}getBodySkinPool(){return this.bodySkinPool}showLogInHead(e,t){this.selfSnake&&this.selfSnake.tag&&this.selfSnake.showLogInHead(e,t)}countSnakeLen(e,t,r,s){var o=t+1,l=q.getSheetDataByMultiKey(q.m_dicSnakeLengthRules,[e,t+1]);return l&&r>=l.accumulatePoints?this.countSnakeLen(e,o,r,s):t*s}getRoleById(e){return this.matchHeroSprDic?this.matchHeroSprDic.get(e):null}setMyHeroDirection(e){this.selfSnake&&(e!=-4?(this.rorate(X.snakeType.SELF,e),this.isControl=!0):this.isControl=!1)}eatFoodAndAddScore(e,t){var r=e.fid,s=e.score,o=e.lenght,l=e.roleId,u=this.getRoleById(l);u&&(u.setLength(o,t),gt.eateFoodIds(u,r,s,t),u.setScore(s,t))}clear(){this.removeAllSnakes(),this.container.removeSelf(),this.container=null,this.selfSnake=null,this.matchHeroSprDic=null,this.bodySkinPool.clear(),this.collision=null}};Ig._instance=null;var kg=Ig;var fo=class fo extends kg{constructor(){super(...arguments);this.spawnTimer=0;this.snakeUnKey=0}static getInstance(){return fo._instance||(fo._instance=new fo),fo._instance}createSnake(t){if(this.container==null){console.log(t.roleId+"  container is null");return}let r=new Fu(this.container,t);if(this.matchHeroSprDic.get(t.roleId))throw new Error(t.roleId+" ");return this.matchHeroSprDic.set(t.roleId,r),console.log("createSnake: "+t.roleId,U.playerDto.pid),U.playerDto.pid==t.roleId&&(this.selfSnake=r),r}rorate(t,r){t===X.snakeType.SELF&&this.selfSnake&&this.selfSnake.tag&&this.selfSnake.rotate(r,!1)}updateSpeedRate(t,r){t===X.snakeType.SELF&&this.selfSnake&&this.selfSnake.tag&&this.selfSnake.updateSpeedRate(r,!1)}checkAllSnakeCollision(t,r){var s=this.matchHeroSprDic.getValues();for(let l of s){var o=l;o&&o.tag&&po.checkCollisionsWithPve(o,null,this.collision,r)}}async spawnSnakes(){var t=[],r=X.snake.initCount-1,s=await ae.getNpcNames(r);for(let u=1;u<=r;u++){var o=s[u-1],l=this.spawnRandomPlayerObject(o,!1,!1);t.push(l)}return t}spawnRandomPlayerObject(t,r=!0,s=!1){var o=X.mapSize.offsetDistance,l=Ct.randomRange(o,X.mapSize.width-o),u=Ct.randomRange(o,X.mapSize.height-o),p=this.getPlayerObjectByPos(t,l,u,r,s);return p}playerLen(){var t=this.matchHeroSprDic.size;return t}async spawnSnake(){if(!(this.playerLen()>=X.snake.maxCount)){var t=await ae.getNpcNames(1),r=t[0],s=this.spawnRandomPlayerObject(r,!0,!1);this.createSnake(s)}}update(t){this.spawnTimer+=t,this.spawnTimer>=X.snake.spawnInterval&&(this.spawnTimer=0,this.spawnSnake())}getPlayerObjectByPos(t,r,s,o=!0,l=!1){var u=new it(r,s),p="",m,d=0,f=0,g=new b.snake.socket.PlayerObject;g.aimDir=g.direction=Math.floor(Math.random()*360)+1,g.speed=1,g.state=!0;var y;if(g.enterTime=Laya.timer.currTimer,g.oprTime=Laya.timer.currTimer,o?g.wdTime=Laya.timer.currTimer+3e3:g.wdTime=Laya.timer.currTimer,l){var x=U.playerDto;d=x.snakeId,f=x.skinId,y=5,p=x.name,m=x.pid,g.roleId=m+""}else{this.snakeUnKey+=1,m=this.snakeUnKey;var E=q.m_dicSnakes.keys.length,_=Math.floor(Math.random()*E);d=q.m_dicSnakes.keys[_];var S=X.snake.skinIds.length,M=Math.floor(Math.random()*S);f=X.snake.skinIds[M],y=Ct.randomInt(X.snake.aiMinLen,X.snake.aiMaxLen),g.roleId=X.snake.aiPrefix+m,p=t}var O=q.m_dicSnakes.get(d);g.userName=p,g.snakeId=d,g.skin=f,g.length=y*O.intervalBoneToDrawSkin,g.score=0,g.kills=0;var j=[],Q=O.baseSpeed;let V=g.direction*Math.PI/180,K=it.create(Math.cos(V),Math.sin(V));for(let oe=0;oe<g.length;oe++){let Je;if(oe===0)Je=u||it.create(0,0);else{var W=j[oe-1],ne=it.create(W.loc.x,W.loc.y);let he=.6;Je=ne.add(K.mul(Q*he))}var se=new b.snake.socket.SnakeObject,ce=new b.snake.socket.PointObject;ce.x=Je.x,ce.y=Je.y,se.loc=ce,j[oe]=se}return g.snake=j,g}};fo._instance=null;var R1=fo,Nw=R1;var Pu=class extends ho{constructor(t,r){super(t,r);this.lastSendFrame=-1}rorateReadySend(){this.isSelf&&this.viewSnake&&this.lastSendFrame!=Te.currentFrame&&(this.rotateSend(),this.lastSendFrame=Te.currentFrame)}rotateSend(){this.viewSnake.rotateSend()}goMatchEnd(){ie.getInstance().removeSnake(this.tag.roleId),Ee.onMockMatchEnd()}adjustVisualState(){this.viewSnake.adjustVisualState(this.logicSnake)}updateOther(){}};var go=class go extends kg{static getInstance(){return go._instance||(go._instance=new go),go._instance}createSnake(e){let t=new Pu(this.container,e);if(this.matchHeroSprDic.get(e.roleId))throw new Error(e.roleId+" ");return this.matchHeroSprDic.set(e.roleId,t),console.log("createSnake: "+e.roleId,U.playerDto.pid),U.playerDto.pid==e.roleId&&(this.selfSnake=t),t}adjustVisualState(){var e=this.matchHeroSprDic.getValues();for(let t of e)t.tag&&t.adjustVisualState()}rorate(e,t){e===X.snakeType.SELF&&this.selfSnake&&this.selfSnake.tag&&this.selfSnake.rotateControl(t,!0)}rorateReadySend(){this.selfSnake&&(this.selfSnake.tag==null||!this.selfSnake.isAlive(!1))||this.selfSnake.rorateReadySend()}updateSpeedRate(e,t){if(e===X.snakeType.SELF&&this.selfSnake&&this.selfSnake.tag&&this.selfSnake.isAlive(!1)){var r=U.playerDto.pid,s=this.selfSnake.getToServerHead(!1),o=b.snake.socket.MessageType.MSG_PLAYER_OPR,l=b.snake.socket.CS_PLAYER_OPR.fromObject({roleId:r,opr:2,value:t,head:s,frame:Te.getClientCurrentFrame(),curDir:this.selfSnake.getCurDir(),aimDir:this.selfSnake.getAimDir(),snake:[]});je.sendData(o,l),l.frame=Te.getPredictFrameHalf(),Te.frameNetQueue.addLocalOperation(l)}}checkAllSnakeCollision(e,t){var r=this.matchHeroSprDic.getValues();for(let o of r){var s=o;s&&s.tag&&(e?po.checkCollisionsWithConfirm(s,null,this.collision,t):po.checkCollisions(s,null,this.collision,t))}}restoreSnakes(){this.removeAllSnakes(),this.matchHeroSprDic=new Ne(!0);let e=Ee.matchDto.members.length;for(var t=0;t<e;t++){var r=Ee.matchDto.members[t];try{var s=this.createSnake(r)}catch(o){console.warn(o)}}}getSnakesState(){let e={snakes:{}};var t=this.matchHeroSprDic.getValues();for(let s of t){var r=s;let o=r.tag.roleId;e.snakes[o]=r.logicSnake.getState()}return e}restoreState(e){for(let r in e.snakes){var t=this.matchHeroSprDic.get(r);t&&t.logicSnake.restoreState(e.snakes[r])}}};go._instance=null;var B1=go,Fw=B1;var ie=class{static getInstance(){return Pe.arenaType===Pe.ARENA_TYPE_PVE?Nw.getInstance():Fw.getInstance()}};var bo=class bo{static getInstance(){return bo.instance||(bo.instance=new bo),bo.instance}init(e=null){if(!e)throw new Error("gameLayer Must Be Not Null");ie.getInstance().init(),gt.init();let t=ie.getInstance().container,r=gt.container,s=new Laya.Sprite;e.addChild(r),e.addChild(t),e.addChild(s),s.addChild(qi.getInstance()),gt.init(),this.onConnectRoom()}onConnectRoom(){je.initSocket()}createData(){ie.getInstance().createSnakes(),gt.createFoodsByData()}startGame(){Te.start()}clearTimer(){Te.stop()}endTimer(){Te.end()}update(e,t,r){if(ie.getInstance().updateSnakes(Laya.timer.delta,t,r),!t&&(Ri.move(ie.getInstance().getSelfSnakePos(t)),re.needDraw)){let s=qi.getInstance();s&&(s.clearDraw(),pr.getInstance(null).drawDebug(s.graphics))}}restoreData(){ie.getInstance().restoreSnakes(),gt.restoreFoods()}clear(){this.clearTimer()}};bo.instance=null;var D1=bo,Qi=D1.getInstance();var O1=class{constructor(){this.arenaId=0;this.coinType=0;this.roomId=0;this.members=[];this.item=[];this.remainderCd=0;this.startTime=0;this.nowTime=0;this.arenaType=0;this.watch=[];this.anonymous=0}},Uu=O1;var Sg=class{constructor(){this.isStart=!1;this.eatFoodDic=new Ne;this._operationQueue={};this._localOperationQueue={};this.latestEventFrame=-1}enterRoom(e){var t=e.food,r=e.players;Te.init();var s=1e12,o=0,l=null;r.sort((m,d)=>m.enterTime-d.enterTime),r.forEach(m=>{if(re.Debug==2){var d="INIT : ======== "+m.roleId+" frame: "+m.frame+", pos: "+m.snake[0].loc.x+", "+m.snake[0].loc.y;console.table(d)}m.roleId==U.playerDto.pid&&(l=m,o=l.enterTime,s=l.frame)}),Te.setStartFrame(s,o);var u=[];r.forEach(m=>{if(m.state){var d=m.frame;if(d==s)u.push(m);else if(d>s){var f=new nn;f.msgtype=b.snake.socket.MessageType.MSG_NOTICE_ENTER,f.msgBody=m,this.addOperation(f)}}});var p=new Uu;p.members=u,p.myPlayerObject=l,p.item=t,p.arenaType=Pe.ARENA_TYPE_PVP,Ee.matchDto=p,k.event(w.EVENT_PVP_INIT_DATA),Ee.stopAll=!1}pushMsg(e){var t=e.frame,r=e.msgList,s=[],o=1e12;if(r.forEach(u=>{var p=u.msghead.msgtype,m=u.msghead.msgcode,d,f=Laya.ClassUtils.getClass(p+"");if(f){var g=Date.now();if(d=f.deserializeBinary(u.msgbody).toObject(),re.Debug>=1){var y=Date.now();console.log(ae.GetLogTime+" WS ------<<<<<<<< RECV BATCH_CMD:"+p+", CODE:",m+", DATA:",d," dt:",y-g)}}else re.Debug>=1&&console.warn(ae.GetLogTime+" WS ------<<<<<<<< RECV BATCH_CMD:"+p+", CODE:",m+", className!");if(p==b.snake.socket.MessageType.MSG_PLAYER_COLLISION)this.confirmPlayerCollision(d,!0);else{var x=new nn;x.msgtype=p,x.msgBody=d;var E=d.frame;E<o&&(o=E),s.push(x)}}),s&&s.length){var l=new lo;l.frame=t,l.minEventFrame=o,l.serverCmdDataDtos=s,this.addFrameOperations(l)}}noticeEnter(e,t){var r=t.players,s=r.frame,o=[],l=s,u=new nn;u.msgtype=e,u.msgBody=r,o.push(u);var p=new lo;p.frame=s,p.minEventFrame=l,p.serverCmdDataDtos=o,this.addFrameOperations(p)}handleOperationDetail(e,t,r){switch(re.Debug>2&&console.log("======handleOperationDetail=====",e.msgBody.frame,e,"isLogicSnake: "+t),e.msgtype){case b.snake.socket.MessageType.MSG_PLAYER_OPR:var s=e.msgBody;this.onRevOprPush(s,t,r);break;case b.snake.socket.MessageType.MSG_EAT_FOOD:let l=e.msgBody;break;case b.snake.socket.MessageType.MSG_PLAYER_COLLISION:let u=e.msgBody;break;case b.snake.socket.MessageType.MSG_NOTICE_ENTER:var o=e.msgBody;ie.getInstance().newAddSnake(o);break}}confirmPlayerCollision(e,t){var r=e.roleId,s=e.food,o=e.taret,l=e.head,u=e.frame,p=e.die,m=ie.getInstance().getRoleById(r);if(m&&p!="-1"){var d=ie.getInstance().getRoleById(o);p==r?(m.confirmDie(),d&&d.addKill(1)):(d&&d.confirmDie(),m.addKill(1)),s&&s.length&&gt.addFoods(s)}}addLocalOperation(e){if(Te.frameNetQueue.isStart){var t=new nn,r=b.snake.socket.MessageType.MSG_PLAYER_OPR;t.msgtype=r,t.msgBody=e;var s=t.msgBody.frame+1;re.Debug>2&&console.log("addLocalOperation (frame): ",e.frame," (frame+1): "+s,t),this._localOperationQueue[s]||(this._localOperationQueue[s]=[]),this._localOperationQueue[s].push(t)}}addFrameOperations(e){let t=e.frame,r=e.minEventFrame,s=e.serverCmdDataDtos;re.Debug>2&&console.log(ae.GetLogTime,"addFrameOperations: latestEventFrame: ",this.latestEventFrame,"serverFrame: "+t,"minEventFrame: "+r,s,"confirmedFrame: "+Te.confirmedFrame,"clientRuningFrame: "+Te.clientRuningFrame);for(let o of s)this.addOperation(o)}addOperation(e){var t=e.msgBody.frame+1;re.Debug>2&&console.log("addOperation (frame+1): ",t,e),this._operationQueue[t]||(this._operationQueue[t]=[]),this._operationQueue[t].push(e),t>this.latestEventFrame&&(this.latestEventFrame=t);var r=0;re.Debug>2&&console.debug("addOperation  (frame+1): "+t+", confirmedFrame: "+Te.confirmedFrame+", rollBackConfirmedFrame: "+Te.rollBackConfirmedFrame+", tempFrame: "+r+", dFrame: "+(t-Te.confirmedFrame)),t<=Te.confirmedFrame&&(r=t),r!=0&&r<Te.rollBackConfirmedFrame&&(Te.rollBackConfirmedFrame=r)}addEatOperation(e,t){if(Te.frameNetQueue.isStart){var r=t+1;re.Debug==2&&console.log(ae.GetLogTime+" FOOD_TEST  addEatOperation foodId: "+e+", (frame): ",t," (frame+1): "+r),this.eatFoodDic.set(e,r)}}removeEatOperation(e){this.eatFoodDic.remove(e)}onRevOprPush(e,t,r){if(e!=null){var s=ie.getInstance().getRoleById(e.roleId);if(s){if(t&&s.logicSnake.updateHead106(e.frame,e.head,e.speed,r,e.oprIndex),e.opr==1){var o=e.value;s.rotate(o,t)}else if(e.opr==2){var l=e.value;s.updateSpeedRate(l,t)}}else console.log(e.roleId+" snake is null")}}onUpdatePlayerObject(e,t){if(e!=null){var r=ie.getInstance().getRoleById(e.roleId);if(r){if(e.state!=!1)var s=e.eatenIds}else console.log(e.roleId+" snake is null")}}sendRestoreData(){if(Ee.msgEndbody==null&&ie.getInstance().selfSnake&&ie.getInstance().selfSnake.isAlive(!1)){var e=U.playerDto.pid,t=b.snake.socket.MessageType.MSG_REQUEST_ROOM_DATA,r=b.snake.socket.CS_REQUEST_ROOM_DATA.fromObject({roleId:e});je.sendData(t,r)}}requestRoomData(e){var t=e.food,r=e.players;Te.init();var s=1e12,o=0,l=null;r.sort((S,M)=>S.enterTime-M.enterTime),r.forEach(S=>{if(re.Debug==2){var M="REINIT : ======== "+S.roleId+" frame: "+S.frame+", pos: "+S.snake[0].loc.x+", "+S.snake[0].loc.y;console.table(M)}if(S.roleId==U.playerDto.pid&&(l=S,o=l.oprTime),S.state){var O=S.frame;O<s&&(s=O)}}),Te.setStartFrame(s,o);var u=[];r.forEach(S=>{if(S.state){var M=S.frame;if(M==s)u.push(S);else if(M>s){var O=new nn;O.msgtype=b.snake.socket.MessageType.MSG_NOTICE_ENTER,O.msgBody=S,this.addOperation(O)}}});var p=new Uu;if(p.members=u,p.myPlayerObject=l,p.item=t,l&&l.state)this.onRevRestorePush(p);else if(l.result){var m=l.result,d=m.msghead.msgtype,f=m.msghead.msgcode,g,y=Laya.ClassUtils.getClass(d+"");if(y){var x=Date.now();if(g=y.deserializeBinary(m.msgbody).toObject(),re.Debug>=1){var E=Date.now();console.log(ae.GetLogTime+" WS ------<<<<<<<< RECV INSERT_CMD:"+d+", CODE:",f+", DATA:",g," dt:",E-x)}}else re.Debug>=1&&console.warn(ae.GetLogTime+" WS ------<<<<<<<< RECV INSERT_CMD:"+d+", CODE:",f+", className!");var _=g;Ee.onSetMatchEnd(_,!0)}else{var _=new b.snake.socket.SC_BATTLE_END;_.res=!1,_.roleId=l.roleId,_.score=l.score,_.kills=l.kills,_.length=l.length,_.alive=l.length,_.items=[],Ee.onSetMatchEnd(_,!0)}}onRevRestorePush(e){e.arenaType=Pe.ARENA_TYPE_PVP,Ee.matchDto=e,k.event(w.EVENT_PVP_RESTORE_DATA)}};var N1=class i{constructor(){this._frameInterval=33;this.startFrameTime=0;this.startFrame=0;this._currentFrame=0;this.clientPredictFrame=0;this.clientRuningFrame=0;this.lastClearupFrame=0;this.confirmedFrame=0;this.rollBackConfirmedFrame=0;this.quickConfirmedFrame=0;this._snakeStates={};this.frameNetQueue=new Sg}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){this.stop(),this.frameNetQueue._operationQueue={},this.frameNetQueue._localOperationQueue={},this.frameNetQueue.eatFoodDic=new Ne,this._snakeStates={},this._currentFrame=0,this.startFrame=0,this.startFrameTime=Laya.Browser.now()}setStartFrame(e,t){this.clientPredictFrame=e,this.clientRuningFrame=e,this.lastClearupFrame=e,this.confirmedFrame=e,this.rollBackConfirmedFrame=this.confirmedFrame+1,this._currentFrame=e,this.startFrame=e,this.frameNetQueue.isStart=!0,this.startFrameTime=t+je.serverTimeOffset,console.log(ae.GetLogTime,"TEST_TIME: setStartFrame: this.startFrameTime: "+this.startFrameTime,"server enterTime: "+t,"serverTimeOffset: "+je.serverTimeOffset)}start(){this.saveSnapshot(this.startFrame),Laya.timer.loop(33,this,this.update),this.initTimer()}initTimer(){Laya.timer.frameLoop(2,this,this.onFrameLoop)}clearTimer(){Laya.timer.clear(this,this.onFrameLoop)}onFrameLoop(){ie.getInstance().rorateReadySend()}stop(){Laya.timer.clear(this,this.update),this.clearTimer()}end(){this.stop(),this.frameNetQueue.isStart=!1}update(){let e=Laya.Browser.now(),t=Math.floor((e-this.startFrameTime)/this._frameInterval),r=this.startFrame+t,s=this.frameNetQueue.latestEventFrame;console.log(ae.GetLogTime," ======================update: ","latestFrame: "+r,"confirmedFrame: "+this.confirmedFrame,"rollBackConfirmedFrame: "+this.rollBackConfirmedFrame,"latestEventFrame: "+s,"startFrame: "+this.startFrame,"addFrame: "+t,"_currentFrame: "+this._currentFrame,"clientConfirmedFrame: "+this.clientRuningFrame,this.confirmedFrame<s),this.rollBackConfirmedFrame<=s?(this.rollbackAndRedo(this.rollBackConfirmedFrame,s),this.predictFrameToNow(s+1,r-1,1),this.render(),s+1>r-1):(this.clientRuningFrame+1>r-1,this.predictFrameToNow(this.clientRuningFrame+1,r-1,2),this.render()),this._currentFrame++,this.executeFrame(r)}executeFrame(e){ie.getInstance().selfSnake&&(ie.getInstance().selfSnake.getIsStop(!1)||ie.getInstance().selfSnake.tag==null)||Qi.update(e,!1,!1)}saveSnapshot(e){this._snakeStates[e]==null?this._snakeStates[e]=ie.getInstance().getSnakesState():this._snakeStates[e]=ie.getInstance().getSnakesState()}cleanupOldData(e){if(this.lastClearupFrame!=-1){re.Debug==2&&console.log(ae.GetLogTime+" FOOD_TEST executeConfirmFrame:   [","lastClearupFrame: "+this.lastClearupFrame,"newSnapshotFrame: "+e+" )");var t=this.frameNetQueue.eatFoodDic.getMap();for(let[s,o]of t)o<e&&(console.log(ae.GetLogTime+" FOOD_TEST cleanupOldData removeDic frameIndex: ",o," foodId: "+s),gt.restoreViewFood(s),this.frameNetQueue.eatFoodDic.remove(s));console.log(ae.GetLogTime+" FOOD_TEST cleanupOldData remove  foodIds: "+this.frameNetQueue.eatFoodDic.keys);for(var r=this.lastClearupFrame;r<e;r++)delete this.frameNetQueue._localOperationQueue[r];for(var r=this.lastClearupFrame;r<e;r++)delete this.frameNetQueue._operationQueue[r];for(var r=this.lastClearupFrame;r<e;r++)delete this._snakeStates[r]}this.lastClearupFrame=e}get currentFrame(){return this._currentFrame}getClientRuningFrame(e){return this.clientRuningFrame}getPredictFrame(){let e=Laya.Browser.now(),t=Math.floor((e-this.startFrameTime+je.delaT)/this._frameInterval);return this.startFrame+t}getPredictFrameHalf(){let e=Laya.Browser.now(),t=Math.floor((e-this.startFrameTime+je.delaT)/this._frameInterval);return this.startFrame+t}getClientCurrentFrame(){return this.clientRuningFrame+1}checkClientAndServerFrame(e,t,r){var s=r.x,o=r.y,l=10,u=X.mapSize;if(!(s<u.offsetX-l||s>u.width-u.offsetX+l||o<u.offsetY-l||o>u.height-u.offsetY+l)){var p=this.frameNetQueue._operationQueue[e];p&&p.length&&p.forEach(m=>{if(m.msgBody.roleId==t){var d=m.msgBody.frame,f=[it.create(s,o)],g=m.msgBody.head;!g&&m.msgBody.snake&&(g=m.msgBody.snake[0]);var y=ft.distancePoint(g.loc.x,g.loc.y,f[0].x,f[0].y);if(y>.01){var x=`======  ${t} ${ae.GetLogTime} + " "${t}, checkClientAndServerFrame "${y},
                                "C:"${f[0].x}, ${f[0].y}, ${e-1}, "S:", ${g.loc.x}, ${g.loc.y}, ${d}`;re.Debug==2&&console.debug(x),ae.alertYes(x)}else re.Debug==2&&console.debug("====== "+t+" "+ae.GetLogTime+" "+t," checkClientAndServerFrame ",y,"C:",f[0].x,f[0].y,e-1,"S:",g.loc,d);return}})}}rollbackAndRedo(e,t){if(console.log("rollbackAndRedo: startFrame: "+e+", endFrame: "+t),!(e>t)&&!(ie.getInstance().selfSnake&&ie.getInstance().selfSnake.tag==null)){this._snakeStates[e-1]?ie.getInstance().restoreState(this._snakeStates[e-1]):console.error("",e,this._snakeStates);for(var r=e;r<=t;++r){let s=this.frameNetQueue._operationQueue[r]||[];for(let o of s)this.frameNetQueue.handleOperationDetail(o,!0,!0);this.clientRuningFrame=r,Qi.update(r,!0,!0),r>=t-2&&this.saveSnapshot(r)}this.cleanupOldData(t-2),this.confirmedFrame=t,this.rollBackConfirmedFrame=this.confirmedFrame+1}}predictFrameToNow(e,t,r){if(console.log("predictFrameToNow startFrame: "+e+", endFrame: "+t+", type: "+r),!(e>t)&&!(ie.getInstance().selfSnake&&(ie.getInstance().selfSnake.getIsStop(!0)||ie.getInstance().selfSnake.tag==null))){for(var s=e;s<=t;++s){let o=this.frameNetQueue._localOperationQueue[s]||[];for(let l of o)this.frameNetQueue.handleOperationDetail(l,!0,!1);this.clientRuningFrame=s,Qi.update(s,!0,!1)}this.clientPredictFrame=t}}render(){ie.getInstance().adjustVisualState()}},Te=N1.getInstance();var sn=class{constructor(e,t){this.minScale=1;this.maxScale=1.2;this.minDuration=800;this.maxDuration=1200;this._collisionRadius=X.collision.food.radius;this.position=it.create(t.loc.x,t.loc.y),this.oriPos=it.create(t.loc.x,t.loc.y),this.foodObject=t,this.init(e)}init(e){this.sprite=J.matchSnakeBeanPrefab.create();var t=q.m_dicFoods.get(this.foodObject.itemId);if(this.sprite.init(t),this._collisionRadius=t.collisionRadius,this.sprite.pos(this.position.x,this.position.y),this.sprite.zOrder=0,e.addChild(this.sprite),re.needDraw){let r=new Laya.Label;r.text=`${this.foodObject.unkey}:(${Math.round(this.position.x)}, ${Math.round(this.position.y)})`,r.color="#FFFFFF",r.fontSize=18,r.font="Arial",r.align="center",r.anchorX=.5,r.anchorY=1,r.stroke=2,r.strokeColor="#000000",r.y=-this.sprite.height/2-2,this.sprite.addChild(r)}}reset(e,t){this.position=it.create(t.loc.x,t.loc.y),this.oriPos=it.create(t.loc.x,t.loc.y),this.foodObject=t,this.setHaveEaten(!1,!0),this.setHaveEaten(!1,!1);var r=q.m_dicFoods.get(this.foodObject.itemId);this.sprite.init(r),this._collisionRadius=r.collisionRadius,this.sprite.alpha=1,this.sprite.pos(this.position.x,this.position.y),e.addChild(this.sprite)}resetForPool(){this.setHaveEaten(!1,!0),this.setHaveEaten(!1,!1),Laya.Tween.clearAll(this.sprite),this.sprite.removeSelf()}startScalingAnimation(){let e=this.minScale+Math.random()*(this.maxScale-this.minScale),t=this.minDuration+Math.random()*(this.maxDuration-this.minDuration);Laya.Tween.to(this.sprite,{scaleX:e,scaleY:e},t,null,Laya.Handler.create(this,()=>{let r=this.minScale+Math.random()*(1-this.minScale),s=this.minDuration+Math.random()*(this.maxDuration-this.minDuration);Laya.Tween.to(this.sprite,{scaleX:r,scaleY:r},s,null,Laya.Handler.create(this,this.startScalingAnimation))}),-1,!0)}getPosition(){return this.position}getScore(){var e=q.m_dicFoods.get(this.foodObject.itemId);return e.points}getHaveEaten(e){return e?this.haveEatenConfirm:this.haveEatenClient}beEattenByPlayerSnake(e,t,r){this.setHaveEaten(!0,r),this.beEatten(e.getHead(t).node.x,e.getHead(t).node.y,r)}setHaveEaten(e,t){t?this.haveEatenConfirm=e:this.haveEatenClient=e}beEatten(e,t,r){var s=this.foodObject.unkey;if(r)console.log(ae.GetLogTime+" FOOD_TEST beEatten removeEatOperation hasConfirmed: ",r," foodId: "+s),Te.frameNetQueue.removeEatOperation(s),Laya.Tween.clearAll(this.sprite),Laya.Tween.to(this.sprite,{x:e,y:t,alpha:.5},200,null,Laya.Handler.create(this,this.onFinish,[!0]));else if(Ee.matchDto.arenaType==Pe.ARENA_TYPE_PVE)Laya.Tween.clearAll(this.sprite),Laya.Tween.to(this.sprite,{x:e,y:t,alpha:.5},200,null,Laya.Handler.create(this,this.onFinish,[!0]));else if(console.log(ae.GetLogTime+" FOOD_TEST beEatten hasConfirmed: ",r," foodId: "+s," haveEatenConfirm: "+this.getHaveEaten(!0)),!this.getHaveEaten(!0)){var o=Te.getPredictFrame();Te.frameNetQueue.addEatOperation(s,o),Laya.Tween.clearAll(this.sprite),Laya.Tween.to(this.sprite,{x:e,y:t,alpha:.5},200,null,Laya.Handler.create(this,this.onFinish,[!1]))}this.setHaveEaten(!0,r)}onFinish(e){e?(console.log(ae.GetLogTime+" FOOD_TEST onFinish hasConfirmed: ",e+"haveEatenConfirm: ",this.haveEatenConfirm," foodId: "+this.foodObject.unkey),this.resetForPool(),gt.removeFood(this)):this.sprite.alpha=.5}restoreView(){console.log(ae.GetLogTime+" FOOD_TEST restoreView haveEatenConfirm: ",this.haveEatenConfirm," foodId: "+this.foodObject.unkey),this.haveEatenConfirm||(this.haveEatenClient=!1,this.position=it.create(this.oriPos.x,this.oriPos.y),this.sprite.alpha=1,this.sprite.pos(this.position.x,this.position.y))}destroy(){Laya.Tween.clearAll(this.sprite),this.sprite.removeSelf(),this.sprite.destroy(),this.sprite=null,this.oriPos=this.position=null}getBoundingBox(){return new Laya.Rectangle(this.position.x-this._collisionRadius,this.position.y-this._collisionRadius,this._collisionRadius*2,this._collisionRadius*2)}checkCollision(e,t,r){let s=this.position;return Ct.distance(s.x,s.y,e,t)<r+this._collisionRadius}};var wg=class{constructor(e){this.container=e;this.pool=[]}getFood(e){let t;return this.pool.length>0?(t=this.pool.pop(),t.reset(this.container,e)):t=new sn(this.container,e),t}returnFood(e){e.resetForPool(),this.pool.push(e)}clear(){this.pool.forEach(e=>e.destroy()),this.pool=[]}};var fs=class fs{constructor(){this.foods=[];this.foodDic=new Ne;this.spawnTimer=0;this.foodUnKey=0}static getInstance(){return fs._instance||(fs._instance=new fs),fs._instance}init(){this.container||(this.container=new Laya.Sprite),this._collision=pr.getInstance(),this.foodPool=new wg(this.container)}spawnFoods(){var e=[],t=X.food.initCount;for(let s=1;s<=t;s++){var r=this.spawnRandomFoodObject();e.push(r)}return e}spawnRandomFoodObject(){var e=X.mapSize.offsetDistance,t=Ct.randomRange(e,X.mapSize.width-e),r=Ct.randomRange(e,X.mapSize.height-e),s=this.getFoodObjectByPos(t,r);return s}spawnFood(){if(!(this.foods.length>=X.food.maxCount)){var e=this.spawnRandomFoodObject();this.addFood(e)}}update(e){this.spawnTimer+=e,this.spawnTimer>=X.food.spawnInterval&&(this.spawnTimer=0,this.spawnFood())}addFoodByPosWithDie(e,t){if(!(this.foods.length>=X.food.maxCount)){var r=this.getFoodObjectByPos(e,t);this.addFood(r)}}getFoodObjectByPos(e,t){this.foodUnKey+=1;var r=q.m_dicFoods.keys.length,s=Math.floor(Math.random()*r),o=q.m_dicFoods.keys[s],l=new b.snake.socket.FoodObject;l.itemId=o,l.unkey=this.foodUnKey+"";var u=new b.snake.socket.PointObject;return u.x=e,u.y=t,l.loc=u,l}addFoods(e){e&&e.forEach(t=>this.addFood(t))}addFood(e){if(!e)return;let t=this.foodPool.getFood(e);this._collision.addSnake([t]),this.foods.push(t),this.foodDic.set(e.unkey,t)}getFood(e){return this.foodDic.get(e)}eateFoodIds(e,t,r,s){re.Debug==2&&e.setClientScore(r,s);var o=r-e.getScore(s);if(o&&e.showAddScore(o,s),e.isSelf&&t&&t.length){var l=Math.floor(Math.random()*3)+1;let u=`soundName_eat_food_${l}`;Xe[u]?Xe.playSoundByName(Xe[u]):console.warn(` ${u} `)}}removeFood(e){this._collision.removeSnake([e]);let t=this.foods.indexOf(e);t!==-1&&this.foods.splice(t,1),console.log(ae.GetLogTime+" FOOD_TEST remove foodId: "+e.foodObject.unkey),this.foodDic.remove(e.foodObject.unkey),this.foodPool.returnFood(e)}removeAllFoods(){this._collision.removeSnake(this.foods),this.foods.forEach(e=>e.destroy()),this.foods=[],this.foodDic=new Ne,this.foodPool.clear()}getAllFoods(){return this.foods}clear(){this.container.removeSelf(),this.container=null,this.removeAllFoods(),this.foodPool.clear(),this.foodPool=null,fs._instance=null}restoreViewFood(e){var t=this.getFood(e);t?t.restoreView():console.log(ae.GetLogTime+" FOOD_TEST restoreViewFood foodId: "+e+" food is null ")}restoreFoods(){this.removeAllFoods(),this.createFoodsByData()}createFoodsByData(){let e=Ee.matchDto.item.length;for(var t=0;t<e;t++){var r=Ee.matchDto.item[t];this.addFood(r)}}};fs._instance=null;var F1=fs,gt=F1.getInstance();var Eg=class{constructor(){this._heartBeatInterval=30*1e3;this.requestTime=0;this.init()}init(){k.on(tt.EVENT_ROOM_SOCKET_OPEN,this,this.onSocketOpen),k.on(tt.EVENT_ROOM_SOCKET_ERROR,this,this.onScoketError),k.on(tt.EVENT_ROOM_SOCKET_CLOSE,this,this.onSocketClose),k.on(tt.EVENT_ROOM_STOP_HEART,this,this.stopHeartbearTimer),k.on(tt.EVENT_ROOM_SHOW_TIP_DELAY,this,this.onShowTipDelay),k.on("msg_"+b.snake.socket.MessageType.MSG_REQUEST_SERVER_TIME,this,this.onRecvServerTime),k.on("msg_"+b.snake.socket.MessageType.MSG_ENTER_ROOM,this,this.onGetEnterRoomDataBack),k.on("msg_"+b.snake.socket.MessageType.MSG_PUSH,this,this.onMsgPush),k.on("msg_"+b.snake.socket.MessageType.MSG_NOTICE_ENTER,this,this.onNoticeEnter),k.on("msg_"+b.snake.socket.MessageType.MSG_PLAYER_OUT,this,this.onPlayerOut),k.on("msg_"+b.snake.socket.MessageType.MSG_EAT_FOOD,this,this.onEatFood),k.on("msg_"+b.snake.socket.MessageType.MSG_PLAYER_COLLISION,this,this.onPlayerCollision),k.on("msg_"+b.snake.socket.MessageType.MSG_GEN_FOOD,this,this.onGenFood),k.on("msg_"+b.snake.socket.MessageType.MSG_REQUEST_ROOM_DATA,this,this.onRequestRoomData),k.on("msg_"+b.snake.socket.MessageType.MSG_BATTLE_END,this,this.onBattleEnd),k.on("msg_"+b.snake.socket.MessageType.MSG_PLAYER_OPR,this,this.onPlayerOpr),k.on("msg_"+b.snake.socket.MessageType.MSG_AI_ENTER,this,this.onAiEnter)}onGetEnterRoomDataBack(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_ENTER_ROOM),s=r;Te.frameNetQueue.enterRoom(s),this.clearShowTip(),this.heartbeatTimer()}onMsgPush(e,t){if(Te.frameNetQueue.isStart){var r=_e.getMsgBody(e,b.snake.socket.SC_PUSH),s=r;Te.frameNetQueue.pushMsg(s)}}onNoticeEnter(e,t){if(!Te.frameNetQueue.isStart)return;var r=_e.getMsgBody(e,b.snake.socket.SS_NOTICE_ENTER);let s=r;var o=e.msghead.msgtype;Te.frameNetQueue.noticeEnter(o,s)}onPlayerOut(e,t){if(!Te.frameNetQueue.isStart)return;var r=_e.getMsgBody(e,b.snake.socket.SC_PLAYER_OUT),o=r.roleId;ie.getInstance().removeSnake(o)}onEatFood(e,t){if(!Te.frameNetQueue.isStart)return;var r=_e.getMsgBody(e,b.snake.socket.SC_EAT_FOOD);let s=r}onPlayerCollision(e,t){if(!Te.frameNetQueue.isStart)return;var r=_e.getMsgBody(e,b.snake.socket.SC_PLAYER_COLLISION);let s=r;console.warn(ae.GetLogTime+"Snake DIE CMD:113   "+s.roleId+"  ",s),Te.frameNetQueue.confirmPlayerCollision(s,!0)}onGenFood(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_GEN_FOOD),s=r,o=s.frame;gt.addFoods(s.food)}onRequestRoomData(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_REQUEST_ROOM_DATA),s=r;console.log(""),Te.frameNetQueue.requestRoomData(s)}onBattleEnd(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_BATTLE_END),s=r,o=s.res;Ee.onSetMatchEnd(s)}onAiEnter(e,t){console.log("AI")}onPlayerOpr(e,t){var r=_e.getMsgBody(e,b.snake.socket.CS_PLAYER_OPR);if(Te.frameNetQueue.isStart){var s=r,o=s.frame,l=[],u=o,p=new nn,m=e.msghead.msgtype;if(p.msgtype=m,p.msgBody=s,l.push(p),re.Debug==2){var d="S : ======== "+s.roleId+" frame: "+s.frame+", pos: "+s.head.loc.x+", "+s.head.loc.y;console.table(d)}var f=new lo;f.frame=o,f.minEventFrame=u,f.serverCmdDataDtos=l,Te.frameNetQueue.addFrameOperations(f)}}onRequestTime(){this.clientSendTime=Date.now();var e=b.snake.socket.MessageType.MSG_REQUEST_SERVER_TIME,t=null;je.sendData(e,t)}onGetEnterRoomData(){var e=U.playerDto.pid,t=b.snake.socket.MessageType.MSG_ENTER_ROOM,r=b.snake.socket.CS_ENTER_ROOM.fromObject({roleId:e});je.sendData(t,r)}onRecvServerTime(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_REQUEST_SERVER_TIME),s=r,o=s.time;this.requestTime++;let l=Date.now();var u=(l+this.clientSendTime)/2,p=u-o;je.serverTimeOffsets.push(p);var m=(l-this.clientSendTime)/2;if(je.delaTs.push(m),console.log("TEST_TIME: this.requestTime: "+this.requestTime,"clientRecvTime: "+l,"clientSendTime: "+this.clientSendTime,"clientTimestamp: "+u,"serverTimestamp: "+o,"serverTimeOffset: "+p,"delaT: "+m),this.requestTime>4){je.serverTimeOffsets.sort((E,_)=>Math.abs(E)-Math.abs(_)),je.serverTimeOffsets.pop();for(var d=0,f=je.serverTimeOffsets.length,g=0;g<f;g++)d+=je.serverTimeOffsets[g];p=Math.round(d/f),je.serverTimeOffset=p,je.delaTs.sort((E,_)=>E-_),je.delaTs.pop();for(var y=0,x=je.delaTs.length,g=0;g<x;g++)y+=je.delaTs[g];m=Math.round(y/x),je.delaT=m,console.log("TEST_TIME: serverTimeOffset: "+je.serverTimeOffset+", delaT: "+je.delaT),this.requestTime=0,je.serverTimeOffsets=[],je.delaTs=[],this.onGetEnterRoomData()}else this.onRequestTime()}onSocketOpen(){this.onRequestTime()}onScoketError(){this.popToMain()}onSocketClose(){this.popToMain()}popToMain(){lt.hideLoading(),je.isMatching&&ae.popToMain()}onShowTipDelay(){Laya.timer.once(12e3,this,this.showTip)}clearShowTip(){Laya.timer.clear(this,this.showTip)}showTip(){ae.netError()}stopHeartbearTimer(){Laya.timer.clear(this,this.sendHeartBeat)}heartbeatTimer(){this.stopHeartbearTimer(),Laya.timer.loop(this._heartBeatInterval,this,this.sendHeartBeat)}sendHeartBeat(){je.sendData(b.snake.socket.MessageType.MSG_HEART_BEAT,null)}};var P1=class i{constructor(){this.m_strHttpHost=getWSServer();this.serverTimeOffset=0;this.serverTimeOffsets=[];this.delaT=0;this.delaTs=[];this._headerLength=4;this._packetLength=-1;this._isMatching=!1;new Eg,this._byte=new Laya.Byte,this._byte.endian="bigEndian",this._socket=new Laya.Socket,this._socket.on(Laya.Event.OPEN,this,this.onSocketOpen),this._socket.on(Laya.Event.CLOSE,this,this.onSocketClose),this._socket.on(Laya.Event.MESSAGE,this,this.onMessageReveived),this._socket.on(Laya.Event.ERROR,this,this.onConnectError)}static getInstance(){return i._instance==null&&(i._instance=new i),i._instance}get isMatching(){return this._isMatching}set isMatching(e){this._isMatching=e,e||(this.connected=!1)}close(){this._socket&&this._socket.close()}initSocket(){this.isMatching=!0,console.log("GlobalDataManager.nodeId===============>",U.nodeId);let e=null,t=U.nodeId;if(t&&q.m_dicNodes&&q.m_dicNodes.values){for(let o=0;o<q.m_dicNodes.values.length;o++)if(q.m_dicNodes.values[o].id===t){e=q.m_dicNodes.values[o];break}}let r=null;e&&e.socketUrl&&(r=e.socketUrl);var s=Ee.roomDto.connectAddr;this.m_strHttpHost=s,this.connect()}onSocketOpen(){this.connected=!0,this.emit(tt.EVENT_ROOM_SOCKET_OPEN)}onConnectError(e){this.connected=!1,this.emit(tt.EVENT_ROOM_SOCKET_ERROR)}onSocketClose(e){this.connected=!1,this.emit(tt.EVENT_ROOM_SOCKET_CLOSE)}connect(){this.isMatching&&(this.connected||(this._socket.connectByUrl(this.m_strHttpHost),this.emit(tt.EVENT_ROOM_SHOW_TIP_DELAY)))}sendData(e,t,r=!0){if(!(!this.isMatching&&r)&&this.connected){var s=t?t.serializeBinary():null;console.log(ae.GetLogTime,"[RoomWebSocket]  ------>>>>>>>> SEND CMD:"+e,t?t.toObject():null);var o=_e.encodeMessage(e,s,"");this._socket.send(o.buffer)}}async onMessageReveived(e){if(!(e instanceof ArrayBuffer)){console.warn(ae.GetLogTime,"[RoomWebSocket]: no ArrayBuffer data",e);return}let t=new Uint8Array(e);for(this._byte.writeArrayBuffer(t.buffer),this._byte.pos=0;this._byte.bytesAvailable>0;){if(this._packetLength===-1)if(this._byte.bytesAvailable>=this._headerLength)this._packetLength=this._byte.getUint32();else break;if(this._byte.bytesAvailable>=this._packetLength){let r=this._byte.readUint8Array(this._headerLength,this._packetLength);this.processPacket(r),this._packetLength=-1}else break}if(this._byte.pos>0){let r=this._byte.bytesAvailable;if(r>0){let s=this._byte.readUint8Array(0,r);this._byte.clear(),this._byte.writeArrayBuffer(s.buffer)}else this._byte.clear()}}processPacket(e){try{var t=b.snake.socket.CMsgBase.deserializeBinary(e),r=t.msghead.msgtype;this.emitter(r,t)}catch{}}emitter(e,t){var r=t.msghead.msgcode;r!=b.snake.socket.MessageCode.SYS_NORMAL&&this.emit(tt.EVENT_GLOBAL_ERROR_CODE,r),this.emit("msg_"+e,t,r)}emit(e,...t){k.event(e,t)}clearAll(){Laya.timer.clearAll(this),this.close(),this.emit(tt.EVENT_ROOM_STOP_HEART)}},je=P1.getInstance();var U1=class i{constructor(){this._notices=[];this._isPlaying=!1;this._currentIndex=0;this._textField=null;this._container=null;this._speed=2;this._noticePlayCounts=new Map;this._isInMainScene=!1;this._maxPlayCount=1;this._hasFullyEntered=!1}static getInstance(){return this._instance||(this._instance=new i),this._instance}init(e,t,r=2){this._container=e,this._textField=t,this._speed=r,this._configureTextField(),this._textField.visible=!1,this._container.scrollRect=new Laya.Rectangle(0,0,this._container.width,this._container.height),this._isInMainScene=!0,this.checkAndPlayStoredNotices()}_configureTextField(){this._textField&&(this._textField.overflow=Laya.Text.VISIBLE,this._textField.wordWrap=!1)}addNotice(e){if(!e||e.trim()==="")return;let t=this._notices.length===0;this._noticePlayCounts.has(e)||this._noticePlayCounts.set(e,0),this._notices.indexOf(e)===-1&&this._notices.push(e),t&&this._notices.length>0&&this._isInMainScene&&k.event(w.EVENT_NEW_NOTICE_ADDED),this._isInMainScene&&!this._isPlaying&&this._container&&this.play()}addNotices(e){if(!(!e||e.length===0))for(let t of e)this.addNotice(t)}clearNotices(){this._notices=[],this._isPlaying=!1,this._currentIndex=0,this._noticePlayCounts.clear(),this._textField&&(this._textField.visible=!1),Laya.timer.clearAll(this)}play(){this._notices.length===0||!this._container||(this._isPlaying=!0,this.showCurrentNotice())}showCurrentNotice(){if(this._notices.length===0){this._isPlaying=!1;return}let e=this._notices[this._currentIndex];this._textField.text=e,this._textField.width=this._textField.textWidth,this._textField.visible=!0,this._hasFullyEntered=!1,Laya.timer.frameOnce(1,this,()=>{this._textField.width=this._textField.textWidth,this._textField.x=this._container.width,Laya.timer.frameLoop(1,this,this.scrollText)})}scrollText(){if(this._textField.x-=this._speed,!this._hasFullyEntered&&this._textField.x+this._textField.width<=this._container.width&&(this._hasFullyEntered=!0),this._hasFullyEntered&&this._textField.x+this._textField.width<=0){Laya.timer.clear(this,this.scrollText);let e=this._notices[this._currentIndex];if(this._isInMainScene){let r=this._noticePlayCounts.get(e)||0;r++,this._noticePlayCounts.set(e,r)}let t=this._noticePlayCounts.get(e)||0;this._isInMainScene&&t>=this._maxPlayCount?(this._notices.splice(this._currentIndex,1),this._noticePlayCounts.delete(e),this._currentIndex>=this._notices.length&&(this._currentIndex=0)):this._currentIndex=(this._currentIndex+1)%this._notices.length,this._notices.length>0?this.showCurrentNotice():(this._isPlaying=!1,this._textField.visible=!1,this._isInMainScene&&k.event(w.EVENT_MARQUEE_EMPTY))}}pause(){Laya.timer.clear(this,this.scrollText),this._isPlaying=!1}resume(){!this._isPlaying&&this._notices.length>0&&this.play()}setSpeed(e){this._speed=e}setInMainScene(e){if(this._isInMainScene!==e)if(this._isInMainScene=e,e){if(this._notices.length>0){for(let t of this._notices)this._noticePlayCounts.set(t,0);k.event(w.EVENT_NEW_NOTICE_ADDED)}this.checkAndPlayStoredNotices()}else this.pause()}checkAndPlayStoredNotices(){this._notices.length>0&&this._isInMainScene&&!this._isPlaying&&this._container&&this.play()}getStoredNotices(){return[...this._notices]}getNoticePlayCount(e){return this._noticePlayCounts.get(e)||0}setMaxPlayCount(e){e>0&&(this._maxPlayCount=e)}hasNotices(){return this._notices.length>0}},Nr=U1.getInstance();var Lg=class{constructor(){this.connectTime=0;this.connectTimeMax=5;this.preTime=1e3;this.isOtherLogin=!1;this._heartBeatInterval=5e3;this.isFirst=!0;this.init()}init(){k.on(tt.EVENT_GLOBAL_ERROR_CODE,this,this.onShowGlobalErrorCode),k.on(tt.EVENT_HALL_SOCKET_OPEN,this,this.onSocketOpen),k.on(tt.EVENT_HALL_SOCKET_ERROR,this,this.onScoketError),k.on(tt.EVENT_HALL_SOCKET_CLOSE,this,this.onSocketClose),k.on(tt.EVENT_HALL_STOP_HEART,this,this.stopHeartbearTimer),k.on(tt.EVENT_HALL_SHOW_TIP_DELAY,this,this.onShowTipDelay),k.on("msg_"+b.snake.socket.MessageType.MSG_USER_LOGIN,this,this.onUserLogin),k.on("msg_"+b.snake.socket.MessageType.MSG_REPEAT_LOGIN_NOTICE,this,this.onOtherUserLogin),k.on("msg_"+b.snake.socket.MessageType.MSG_LVUP_NOTICE,this,this.onLvUpNotice),k.on("msg_"+b.snake.socket.MessageType.MSG_UPDATE_ROLE,this,this.onUpdateRole),k.on("msg_"+b.snake.socket.MessageType.MSG_SYS_NOTICE,this,this.onSysNotice)}onSocketOpen(){this.onLogin()}onScoketError(){this.startReconnect()}onSocketClose(){this.startReconnect()}startReconnect(){if(!this.isOtherLogin)if(console.log("websocket----closed connectTime:"+this.connectTime+", connectTimeMax: "+this.connectTimeMax),this.connectTime<=this.connectTimeMax){var e=this.connectTime*this.preTime;Laya.timer.once(e,this,this.onReconnect)}else lt.hideLoading(),this.showTip()}onReconnect(){this.reconnect(),this.connectTime++}reconnect(){if(console.log(ae.GetLogTime,"[HallWebSocket]  reconnect "),ve.connected)return;let e=String(this.connectTime)+"/"+String(this.connectTimeMax)+" "+P.getLanguage("");lt.showLoadingByInfo(e),ve.connectWebSocket(),console.log(ae.GetLogTime,"[HallWebSocket]  reconnect -------->",e)}onShowTipDelay(){Laya.timer.once(1e4,this,this.showTip)}clearShowTip(){Laya.timer.clear(this,this.showTip)}showTip(){ae.netError()}onLogin(){var e=b.snake.socket.MessageType.MSG_USER_LOGIN;let t=Ge.getloginRequestInfo;var r=b.snake.socket.CS_USER_LOGIN.fromObject(t);ve.send(e,r)}onUserLogin(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_USER_LOGIN);console.log("",r),t==b.snake.socket.MessageCode.USER_NOT_EXIST?(console.log("have no regist"),Qe.sendCustumEvent(23),De.intance.openModule(L.CreateLoginView)):t==b.snake.socket.MessageCode.SYS_NORMAL&&(lt.hideLoading(),console.log("have regist"),U.updatePlayerInfo(r.roleInfo),this.isFirst&&(k.event(w.EVENT_ENTER_MAIN),this.isFirst=!1)),this.connectTime=0,this.clearShowTip(),this.heartbeatTimer()}onOtherUserLogin(e,t){this.isOtherLogin=!0,ve.clearAll(),ve.close(),je.isOtherLogin=!0,je.clearAll(),je.close(),ae.otherLogin(),console.log("WS----------------------------otherLogin")}onShowGlobalErrorCode(e){if(e!=b.snake.socket.MessageCode.SYS_NORMAL){console.log(ae.GetLogTime,"[HallMessageHandle]  msgcode--------------->",e);let t=Zt.get(e);if(re.vType!=2){if(e!==b.snake.socket.MessageCode.NOT_ENOUGH_TOKEN&&e!==b.snake.socket.MessageCode.CREATE_ROOM_MAX){let r=P.getLanguage(e+1e4);ae.commTipWithYes(r)}}else ae.commTipWithYes(t)}}stopHeartbearTimer(){Laya.timer.clear(this,this.sendHeartBeat)}heartbeatTimer(){this.stopHeartbearTimer(),Laya.timer.loop(this._heartBeatInterval,this,this.sendHeartBeat)}sendHeartBeat(){ve.send(b.snake.socket.MessageType.MSG_HEART_BEAT,null,!1)}onLvUpNotice(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_LVUP_NOTICE);let s=r;De.intance.openModule(L.PlayerUpgradeSuccessDialog,s),console.log(":",s)}onUpdateRole(e,t){var r=_e.getMsgBody(e,b.snake.socket.SS_UPDATE_ROLE);if(console.log(":",r),!r.roleInfo||r.roleInfo.length===0){console.log("");return}U.updatePlayerInfo(r.roleInfo[0])}onSysNotice(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_SYS_NOTICE);t===b.snake.socket.MessageCode.SYS_NORMAL&&r&&r.msg&&(console.log(":",r.msg),r.msg=`${r.msg}`,r.msg&&r.msg.trim()!==""&&Nr.addNotice(r.msg),k.event(w.EVENT_NEW_NOTICE,r.msg))}};var H1=class i{constructor(){this._socket=null;this.wsUrl=getWSServer();this._headerLength=4;this._packetLength=-1;new Lg,this._byte=new Laya.Byte,this._byte.endian="bigEndian",this._socket=new Laya.Socket,this._socket.on(Laya.Event.OPEN,this,this.onSocketOpen),this._socket.on(Laya.Event.CLOSE,this,this.onSocketClose),this._socket.on(Laya.Event.MESSAGE,this,this.onMessageReveived),this._socket.on(Laya.Event.ERROR,this,this.onSocketError)}static getInstance(){return i._instance==null&&(i._instance=new i),i._instance}connect(){console.log(ae.GetLogTime,"[HallWebSocket] Try to connect url = "+this.wsUrl),!this.connected&&(this.connectWebSocket(),this.emit(tt.EVENT_HALL_SHOW_TIP_DELAY))}connectWebSocket(){this._socket.connectByUrl(this.wsUrl)}onSocketOpen(){this.connected=!0,console.log(ae.GetLogTime,"[HallWebSocket] ----onOpen------------> connected"),this.emit(tt.EVENT_HALL_SOCKET_OPEN)}onSocketError(e){this.connected=!1,console.log(ae.GetLogTime,"[HallWebSocket] ----onError------------>",e),this.emit(tt.EVENT_HALL_SOCKET_ERROR)}onSocketClose(){this.connected=!1,console.log(ae.GetLogTime,"[HallWebSocket] ----onClose------------>",this._socket),this.emit(tt.EVENT_HALL_SOCKET_CLOSE)}close(){this.connected=!1,console.log(ae.GetLogTime,"[HallWebSocket] ----WS:close"),this._socket&&this._socket.close()}clearAll(){Laya.timer.clearAll(this),this.close(),this.emit(tt.EVENT_HALL_STOP_HEART)}send(e,t,r=!0){if(this.connected){var s=t?t.serializeBinary():null;e!=b.snake.socket.MessageType.MSG_HEART_BEAT&&console.log(ae.GetLogTime,"[HallWebSocket]  ------>>>>>>>> SEND CMD:"+e,t?t.toObject():null);var o=_e.encodeMessage(e,s,"");this._socket.send(o.buffer)}else console.log(ae.GetLogTime,"[HallWebSocket]  ------>>>>>>>> SENDE RROR CMD:"+e,t?t.toObject():null)}onMessageReveived(e=null){if(!(e instanceof ArrayBuffer)){console.warn(ae.GetLogTime,"[HallWebSocket]: no ArrayBuffer data",e);return}let t=new Uint8Array(e);for(this._byte.writeArrayBuffer(t.buffer),this._byte.pos=0;this._byte.bytesAvailable>0;){if(this._packetLength===-1)if(this._byte.bytesAvailable>=this._headerLength)this._packetLength=this._byte.getUint32();else break;if(this._byte.bytesAvailable>=this._packetLength){let r=this._byte.readUint8Array(this._headerLength,this._packetLength);this.processPacket(r),this._packetLength=-1}else break}if(this._byte.pos>0){let r=this._byte.bytesAvailable;if(r>0){let s=this._byte.readUint8Array(0,r);this._byte.clear(),this._byte.writeArrayBuffer(s.buffer)}else this._byte.clear()}}processPacket(e){try{var t=b.snake.socket.CMsgBase.deserializeBinary(e),r=t.msghead.msgtype;r!=b.snake.socket.MessageType.MSG_HEART_BEAT&&(re.Debug==2||re.Debug==1&&console.log(ae.GetLogTime,"[HallWebSocket]: onMessage",r.toString(),t)),this.emitter(r,t)}catch(s){console.log(ae.GetLogTime,"[HallWebSocket] onSocketError e:"+s)}}emitter(e,t){var r=t.msghead.msgcode;r!=b.snake.socket.MessageCode.SYS_NORMAL&&this.emit(tt.EVENT_GLOBAL_ERROR_CODE,r),this.emit("msg_"+e,t,r)}emit(e,...t){k.event(e,t)}},ve=H1.getInstance();var gs=class{constructor(){this.coins={};this.needTip=!0}};var z1=class i{constructor(){this.account_contract=null;this.tokenId=0}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){typeof window.ethereum>"u"}async getAccountVoFromServer(){let e=await St.requestPost("cybertron-sys-api/api/v1/account/find",{address:Ge.walletAddress},!1,!1);if(e){let t=new gs;return Object.assign(t,e),console.log("info========"+JSON.stringify(t)),t}return e}async updateProfile(e,t,r){var s=U.playerDto.sex,o=U.playerDto;let l=await St.requestPost("wxgame/player/changeInfo",{name:e,sex:s,icon:t,country:r});return l?(o.icon=l.icon,o.country=l.country,o.createTime=l.createTime,o.name=l.name,o.sex=l.sex,o.snakeId=l.snakeId,o.skinId=l.skinId,o.maxKill=l.maxKill,o.maxAlive=l.maxAlive,o.score=l.score,o.lv=l.lv,o.club=l.club,o):null}async getTokenId(){return this.tokenId?this.tokenId:(this.tokenId=await this.account_contract.methods.tokenOfOwnerByIndex(Ge.walletAddress,0).call(),this.tokenId=parseInt(this.tokenId+""),this.tokenId)}},Tg=z1.getInstance();var j1=class i{constructor(){this.loginRequestInfo={time:0,randomHex:"",r:"",s:"",v:"",roleId:""}}get getloginRequestInfo(){return this.loginRequestInfo}static getInstance(){return i._instance||(i._instance=new i),i._instance}async init(){if(typeof window.ethereum>"u"||re.Debug==2){console.log(P.getLanguage(26));return}Qe.sendCustumEvent(10),this.walletClient=Ua({transport:La(window.ethereum)});var e,t=await i._instance.walletClient.getChainId();e=this.getChain(t),e||(e=Iu),this.publicClient=xu({chain:e,transport:pu()}),this.walletClient=Ua({chain:e,transport:La(window.ethereum)});let r=await i._instance.publicClient.getChainId();console.log("clientChainId",t,r),Qe.sendCustumEvent(12),this.registerProxy(),Qe.sendCustumEvent(17)}async registerProxy(){Tg.init()}async getWalletAddress(){if(this.walletAddress)return this.walletAddress;let[e]=await this.walletClient.requestAddresses();return e}async dappLogin(){console.log("dappLogin this.walletAddress: "+this.walletAddress),Qe.sendCustumEvent(13),this.walletAddress=await this.getWalletAddress(),Qe.sendCustumEvent(14),await this.signAndLogin()}async signAndLogin(e=!1){var t=!0;let r=new Date().getTime(),s="",o="",l="",u="";if(re.Debug!=0)t=!1;else{let d=localStorage.getItem("TOX-COOKIE-CODE"+i._instance.walletAddress);if(!e&&d){d=Pr.decode(d);let f=d.split("&");r=parseFloat(f[0]),s=f[1],o=f[2],l=f[3],u=f[4];let g=vt.checkTimeValid(r);d&&r&&g&&s&&o&&l&&u&&(t=!1),console.log("needSign: "+t)}}if(t){console.log("111");var p=vu().substring(0,32);s=Re(p,{size:32}),r=new Date().getTime();let f=this.walletAddress+s+r,g=new Cg.default("SHA-256","TEXT",{encoding:"UTF8"});g.update(f);let y=g.getHash("HEX");if(console.log("",1),this.walletClient)try{let x=await this.walletClient.signMessage({account:this.walletAddress,message:y});console.log("",1);let E=x.substring(2);o="0x"+E.substring(0,64),l="0x"+E.substring(64,128),u="0x"+E.substring(128,130)}catch{Me.notice(","),Laya.timer.once(1e3,this,this.signAndLogin,[e]);return}}this.loginRequestInfo.time=r,this.loginRequestInfo.randomHex=s,this.loginRequestInfo.r=o,this.loginRequestInfo.s=l,this.loginRequestInfo.v=u,this.loginRequestInfo.roleId=this.walletAddress,Qe.sendCustumEvent(15);var m=Pr.encode(r+"&"+s+"&"+o+"&"+l+"&"+u);localStorage.setItem("TOX-COOKIE-CODE"+i._instance.walletAddress,m),ve.connect()}async main(){let e=xu({chain:Ha,transport:pu()}),t=Ua({chain:Ha,transport:La(window.ethereum)}),[r]=await t.requestAddresses(),s=await t.signMessage({account:r,message:"Hello world!"}),o=await e.verifyMessage({address:r,message:"Hello world!",signature:s});console.log("valid: "+o);let l=await fetch("http://localhost:3000/api/login",{method:"POST",body:JSON.stringify({address:t.account.address,signature:s})})}async refreshToken(){let e,t=localStorage.getItem("TOX-COOKIE-CODE"+i._instance.walletAddress);t=Pr.decode(t);let r=t.split("&"),s=parseFloat(r[0]),o=r[1],l=r[2],u=r[3],p=r[4];if(s&&o&&l&&u&&p){let m={debug:re.Debug,address:this.walletAddress,time:s,randomHex:o,r:l,s:u,v:p};e=await St.requestPost("wxgame/player/getJwt",m,!1,!1).catch(d=>{}),e&&localStorage.setItem("TOX-COOKIE"+i._instance.walletAddress,e.loginToken)}return e}async checkNickName(e){let t={name:e,address:this.walletAddress};return await St.requestPost("wxgame/player/nameCheck",t,!1,!1).catch(s=>{lt.hideLoading(),console.log("checkResult ")})}waitGetAccount(){Laya.timer.loop(2e3,this,this.getAcccount)}async getAcccount(){console.log("getAcccount");var e=!0;let t=new Date().getTime(),r="",s="",o="",l="";if(re.Debug!=0)e=!1;else{let d=localStorage.getItem("TOX-COOKIE-CODE"+i._instance.walletAddress);d=Pr.decode(d);let f=d.split("&");t=parseFloat(f[0]),r=f[1],s=f[2],o=f[3],l=f[4],t&&r&&s&&o&&l&&(e=!1),console.log("needSign: "+e)}if(e){var u=vu().substring(0,32);r=Re(u,{size:32}),t=new Date().getTime();let f=this.walletAddress+r+t,g=new Cg.default("SHA-256","TEXT",{encoding:"UTF8"});g.update(f);let y=g.getHash("HEX");console.log("",1);let x=await this.walletClient.signMessage({account:this.walletAddress,message:y});console.log("",1);let E=x.substring(2);s="0x"+E.substring(0,64),o="0x"+E.substring(64,128),l="0x"+E.substring(128,130)}let p,m={address:this.walletAddress,time:t,randomHex:r,r:s,s:o,v:l};if(p=await St.requestPost("wxgame/player/getAccount",m,!1,!1).catch(d=>{}),p){Laya.timer.clear(this,this.getAcccount);let d=p.playerDto;localStorage.setItem("TOX-COOKIE"+i._instance.walletAddress,p.loginToken),k.event(w.EVENT_WAIT_PLAYERINFO,d)}}async createAcccount(e,t,r,s,o){console.log("createAcccount");var l=!0;let u=new Date().getTime(),p="",m="",d="",f="";if(re.Debug!=0)l=!1;else{let E=localStorage.getItem("TOX-COOKIE-CODE"+i._instance.walletAddress);E=Pr.decode(E);let _=E.split("&");u=parseFloat(_[0]),p=_[1],m=_[2],d=_[3],f=_[4],u&&p&&m&&d&&f&&(l=!1)}if(l){var g=vu().substring(0,32);p=Re(g,{size:32}),u=new Date().getTime();let _=this.walletAddress+p+u,S=new Cg.default("SHA-256","TEXT",{encoding:"UTF8"});S.update(_);let M=S.getHash("HEX");if(console.log("",1),this.walletClient){let O=await this.walletClient.signMessage({account:this.walletAddress,message:M});console.log("",1);let j=O.substring(2);m="0x"+j.substring(0,64),d="0x"+j.substring(64,128),f="0x"+j.substring(128,130)}}var y=b.snake.socket.MessageType.MSG_USER_REGISTER,x=b.snake.socket.CS_USER_REGISTER.fromObject({icon:r,userName:e,country:s,walletAddr:this.walletAddress,invite:o,time:this.loginRequestInfo.time,randomHex:this.loginRequestInfo.randomHex,r:this.loginRequestInfo.r,s:this.loginRequestInfo.s,v:this.loginRequestInfo.v});return ve.send(y,x),null}async newAllowanceAddress(e,t){let r=i._instance.walletAddress,s=e;try{if(console.log(", owner:"+r+", spender:"+s+", publicClient.chain.id:"+this.publicClient.chain.id),t==0)return!0;let o=await i._instance.publicClient.readContract({address:t,abi:jt.TOKEN_ERC20ABI,functionName:"allowance",args:[r,s]});if(o=="0"){console.log(", owner:"+r+", allowance:"+o+", walletClient.chain.id:"+this.walletClient.chain.id);let l=await i._instance.walletClient.writeContract({address:t,abi:jt.TOKEN_ERC20ABI,functionName:"approve",args:[s,"100000000000000000000000000000000000000000000000"],account:r});console.log("hash============"+l);let u=await i._instance.publicClient.waitForTransactionReceipt({hash:l});return console.log(`Tx with hash: ${l}`,u),u&&u.status=="success"?(console.log(`Tx successful with hash: ${l}`),!0):!1}else return console.log(", owner:"+r+", allowance:"+o),!0}catch(o){if(console.log("====",o),o instanceof Error){let l=o.message;console.log("====",l)}}}async allowanceAddressByTokenAddress(e,t){let r=new window.web3.eth.Contract(jt.TOKEN_ERC20ABI,t);return await r.methods.allowance(this.walletAddress,e).call()=="0"&&(console.log("ERC20 allowance!"),await r.methods.approve(e,"100000000000000000000000000000000000000000000000").send({from:this.walletAddress},(o,l)=>{if(o)return lt.hideLoading(),!1})),!0}async getERC20TokenBalance(e){return window.ethereum,await new window.web3.eth.Contract(jt.TOKEN_ERC20ABI,e).methods.balanceOf(this.walletAddress).call()}async getBalance2(e,t=void 0){let r=this.walletAddress;t&&(r=t);let s;return!e||e==jt.ADDRESS0?s=await i._instance.publicClient.getBalance({address:r}):s=await this.publicClient.readContract({address:e,abi:jt.TOKEN_ERC20ABI,functionName:"balanceOf",args:[r]}),console.log("getBalance2 publicClient.chain.id:"+this.publicClient.chain.id,"",e,"",s),s}async getBankBalance(e,t,r){if(r=="WBNB"){let s=await i._instance.publicClient.getBalance({address:t});if(s)return s}else{let s=this.getBalance2(e,t);if(s)return s}}async switchChain(e){var t=this.getChainName(e);let r=await i._instance.walletClient.getChainId();if(re.isInto&&Laya.Browser.onIOS&&r!==e)return Me.notice(P.getLanguage(37,t)),!1;try{console.log("switchChain id:"+e),await this.walletClient.switchChain({id:e})}catch(s){if(console.log(s),s instanceof Error){let o=s.message;console.log("====",o)}return Me.notice(P.getLanguage(37,t)),!1}return await this.resetPublicAndWallet(e),!0}async addChain(e){console.log(e);var t=this.getChain(e);return await this.walletClient.addChain({chain:t})}getChain(e){var t=null;switch(e){case Iu.id:t=Iu;break;case Qf.id:t=Qf;break;case Ha.id:t=Ha;break;case sg.id:t=sg;break;case og.id:t=og;break;case Xf.id:t=Xf;break;case Zf.id:t=Zf;break;case ig.id:t=ig;break;case ng.id:t=ng;break;case Jf.id:t=Jf;break;case eg.id:t=eg;break}return t}getChainName(e){var t="",r=this.getChain(e);return r&&(t=r.name),t}async resetPublicAndWallet(e){console.log("resetPublicAndWallet chain:"+e);var t=this.getChain(e);await i._instance.reInitPublicClient(t),await i._instance.reInitWalletClient(t)}reInitPublicClient(e){console.log("reInitPublicClient chain:"+e),this.publicClient=xu({chain:e,transport:pu()})}reInitWalletClient(e){console.log("reInitWalletClient chain:"+e),this.walletClient=Ua({chain:e,transport:La(window.ethereum)})}async getAuthStatus(){let e=i._instance.walletAddress;try{return await i._instance.publicClient.readContract({address:jt.SAT_ADDRESS,abi:jt.SAT_ABI,functionName:"getAuthStatus",args:[e]})}catch(t){if(console.log("====",t),t instanceof Error){let r=t.message;console.log("====",r)}}}},Ge=j1.getInstance();var Pw=Laya.HttpRequest,mi=class mi{static requestGet(e,t,r=!1){return new Promise((s,o)=>{var l=Laya.Pool.getItem("HttpRequest");l||(l=new Pw),l.http.timeout=2e3,l.on(Laya.Event.COMPLETE,null,f),l.on(Laya.Event.ERROR,null,g),l.http.onreadystatechange=()=>{if(l.http.readyState===XMLHttpRequest.DONE){var x=l.http.status;x>=200&&x<400||(o(),y())}};let u=localStorage.getItem("TOX-COOKIE"+Ge.walletAddress),p=["Content-Type","application/json"];u&&(p=[...p,"Authorization",u]);let m;e.startsWith("http")?m=e+d(t):m=mi.httpRoot+"/"+e+d(t),mi.httpRoot!="https://api.phantomarena.co"&&console.log("REQUEST_GET "+m,1),l.send(m,null,"get","json",p);function d(x){if(typeof x=="string")return x;let E="";for(let _ in x)E+="&"+_+"="+x[_];return E}function f(x){r?x.code==="0"?s(x.data):(Zt.showErrorWord(parseInt(x.code)),o(x.code)):s(x),y()}function g(x,E){o(x),y()}function y(){l.off(Laya.Event.COMPLETE,null,f),l.off(Laya.Event.ERROR,null,g),Laya.Pool.recover("HttpRequest",l)}})}static startHeart(){Laya.stage.on(Laya.Event.BLUR,this,()=>{this.stopHeartInStage=!0,console.log(", ")}),Laya.stage.on(Laya.Event.FOCUS,this,()=>{this.stopHeartInStage=!1,console.log(", ")}),Laya.timer.loop(3e3,this,this.onHeart)}static async onHeart(){console.log("onHeart")}static requestPost(e,t,r=!1,s=!0,o=!1){let l=localStorage.getItem("TOX-COOKIE"+Ge.walletAddress);return r&&!l?[]:new Promise((u,p)=>{var m=Laya.Pool.getItem("HttpRequest");m||(m=new Pw),m.http.timeout=1e4,m.once(Laya.Event.COMPLETE,null,g),m.once(Laya.Event.ERROR,null,y);let d=[];l&&s&&(d=[...d,"Authorization",l]);var f=mi.seq+1;mi.seq=f,e=="wxgame/sys/ping"?re.showHeartLog&&console.log(ae.GetLogTime+" "+f+" >>> HTTP_POST "+mi.httpRoot+"/"+e+" "+JSON.stringify(t),l):console.log(ae.GetLogTime+" "+f+" >>> HTTP_POST "+mi.httpRoot+"/"+e+" "+JSON.stringify(t),l),e.startsWith("http")?m.send(e,t,"post","json",d):m.send(mi.httpRoot+"/"+e,t,"post","json",d);async function g(E){if(e=="wxgame/sys/ping"?re.showHeartLog&&console.log(ae.GetLogTime+" "+f+" <<< hTTP_RCV data: "+JSON.stringify(E),1):console.log(ae.GetLogTime+" "+f+" <<< hTTP_RCV data: "+JSON.stringify(E),1),E.errorCode==0||E.errorCode==="0")u(E);else{if(E.errorCode===18)ae.titickNotEnought();else if(E.errorCode===26)ae.RemError();else if(E.errorCode!==29)if(E.errorCode===30)ae.alertYes(Zt.get(E.errorCode));else if(E.errorCode===32)ae.alertYes(Zt.get(E.errorCode));else if(E.errorCode===2||E.errorCode===21)ae.alertNoAll(Zt.get(E.errorCode));else if(E.errorCode===5)if(re.Debug==0){localStorage.setItem("TOX-COOKIE"+Ge.walletAddress,"");var _=await Ge.refreshToken();_&&mi.requestPost(e,t,r,s)}else localStorage.setItem("TOX-COOKIE"+Ge.walletAddress,""),Zt.showErrorWord(parseInt(E.errorCode));else E.errorCode===17?re.Debug==0?(localStorage.setItem("TOX-COOKIE"+Ge.walletAddress,""),Ge.signAndLogin(),Zt.showErrorWord(parseInt(E.errorCode))):(localStorage.setItem("TOX-COOKIE"+Ge.walletAddress,""),Zt.showErrorWord(parseInt(E.errorCode))):E.errorCode===51?ae.commTipWithYes(Zt.get(E.errorCode)):o||Zt.showErrorWord(parseInt(E.errorCode),E.errorParams);p(E.errorCode)}x()}function y(E,_){console.log("errorHandler data: "+E,1),o||Zt.showErrorWord(500),p(E),x()}function x(){m.off(Laya.Event.COMPLETE,null,g),m.off(Laya.Event.ERROR,null,y),Laya.Pool.recover("HttpRequest",m)}})}static async pingServer(e){return new Promise(t=>{if(!e){t(9999);return}e.startsWith("@")&&(e=e.substring(1));let r=e;r.includes("?")&&(r=r.split("?")[0]);let s=()=>{let l=Date.now(),u=!1,p=new XMLHttpRequest;p.onreadystatechange=function(){if(!u&&p.readyState>=1&&p.readyState<4){let m=Date.now()-l;m>0&&(u=!0,t(m))}},p.onload=function(){if(!u){let m=Date.now()-l;u=!0,t(m>0?m:1)}},p.onerror=function(m){if(!u){let d=Date.now()-l;u=!0,t(d>0?d:500)}},p.timeout=5e3,p.ontimeout=function(){u||(u=!0,t(5e3))};try{let m=Date.now(),d=Math.floor(Math.random()*1e4),f=`${r}?_t=${m}&r=${d}`;p.open("GET",f,!0),setTimeout(()=>{try{p.send()}catch{u||(u=!0,t(9999))}},10)}catch{u||(u=!0,t(9999))}setTimeout(()=>{u||(u=!0,t(9999))},5500)};(()=>{let l=Date.now(),u=!1,p=new Image;p.onload=function(){if(!u){let g=Date.now()-l;u=!0,t(g>0?g:1)}},p.onerror=function(){if(!u){let g=Date.now()-l;u=!0,g>0?t(g):s()}},setTimeout(()=>{u||(u=!0,s())},3e3);let m=Date.now(),d=Math.floor(Math.random()*1e4),f=`${r}?_t=${m}&r=${d}&type=image`;p.src=f})()})}};mi.httpRoot=getServer(),mi.needHeart=!0,mi.stopHeartInRoom=!1,mi.stopHeartInStage=!1,mi.lastPreContractstartRoomId=-1,mi.lastPrecontractReadyRoomId=-1,mi.seq=0;var St=mi;var Ka=class{constructor(){this.extra={}}};function Ag(i,e){var t;e===void 0&&(e="0");var r=0,s=-1;i[0]=="-"&&(i=i.substring(1),W1(i)||(r++,s=1,i.length)),e[0]=="-"&&(e=e.substring(1),W1(e)||(r++,s=2,e.length)),i=Si(i),e=Si(e),t=Q1(Si(i),Si(e)),i=t[0],e=t[1],r==1&&(s===1?i=G1(i):s===2&&(e=G1(e)));var o=Vw(i,e);return r?r==2?"-"+Si(o):i.length<o.length?Si(o.substring(1)):"-"+Si(G1(o)):Si(o)}function G1(i){if(W1(i))return i;for(var e="",t=i.length,r=i.split(".")[1],s=r?r.length:0,o=0;o<t;o++)i[o]>="0"&&i[o]<="9"?e+=9-parseInt(i[o]):e+=i[o];var l=s>0?"0."+new Array(s).join("0")+"1":"1";return Vw(e,l)}function Si(i){var e=i.split(".");for(e[0]||(e[0]="0");e[0][0]=="0"&&e[0].length>1;)e[0]=e[0].substring(1);return e[0]+(e[1]?"."+e[1]:"")}function Q1(i,e){var t=i.split("."),r=e.split("."),s=t[0].length,o=r[0].length;return s>o?r[0]=new Array(Math.abs(s-o)+1).join("0")+(r[0]?r[0]:""):t[0]=new Array(Math.abs(s-o)+1).join("0")+(t[0]?t[0]:""),s=t[1]?t[1].length:0,o=r[1]?r[1].length:0,(s||o)&&(s>o?r[1]=(r[1]?r[1]:"")+new Array(Math.abs(s-o)+1).join("0"):t[1]=(t[1]?t[1]:"")+new Array(Math.abs(s-o)+1).join("0")),i=t[0]+(t[1]?"."+t[1]:""),e=r[0]+(r[1]?"."+r[1]:""),[i,e]}function Vw(i,e){var t;t=Q1(i,e),i=t[0],e=t[1];for(var r="",s=0,o=i.length-1;o>=0;o--){if(i[o]==="."){r="."+r;continue}var l=parseInt(i[o])+parseInt(e[o])+s;r=l%10+r,s=Math.floor(l/10)}return s?s.toString()+r:r}function W1(i){return/^0[0]*[.]{0,1}[0]*$/.test(i)}function Uw(i){return(typeof i=="number"||typeof i=="bigint")&&(i=i.toString()),i[0]=="-"?i.substring(1):i}var Ht;(function(i){i[i.CEILING=0]="CEILING",i[i.DOWN=1]="DOWN",i[i.FLOOR=2]="FLOOR",i[i.HALF_DOWN=3]="HALF_DOWN",i[i.HALF_EVEN=4]="HALF_EVEN",i[i.HALF_UP=5]="HALF_UP",i[i.UNNECESSARY=6]="UNNECESSARY",i[i.UP=7]="UP"})(Ht||(Ht={}));function Hu(i,e,t){if(e===void 0&&(e=0),t===void 0&&(t=Ht.HALF_EVEN),t===Ht.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof i=="number"||typeof i=="bigint")&&(i=i.toString());var r=!1;i[0]==="-"&&(r=!0,i=i.substring(1));var s=i.split("."),o=s[0],l=s[1];if(e<0){if(e=-e,o.length<=e)return"0";var u=o.substr(0,o.length-e);return i=u+"."+o.substr(o.length-e)+l,u=Hu(i,0,t),(r?"-":"")+u+new Array(e+1).join("0")}if(e==0)return o.length,Hw(s[1],o,r,t)&&(o=V1(o)),(r&&parseInt(o)?"-":"")+o;if(s[1]){if(s[1].length<e)return(r?"-":"")+o+"."+s[1]+new Array(e-s[1].length+1).join("0")}else return(r?"-":"")+o+"."+new Array(e+1).join("0");l=s[1].substring(0,e);var p=s[1].substring(e);return p&&Hw(p,l,r,t)&&(l=V1(l),l.length>e)?(r?"-":"")+V1(o,parseInt(l[0]))+"."+l.substring(1):(r&&(parseInt(o)||parseInt(l))?"-":"")+o+"."+l}function Hw(i,e,t,r){if(!i||i===new Array(i.length+1).join("0")||r===Ht.DOWN||!t&&r===Ht.FLOOR||t&&r===Ht.CEILING)return!1;if(r===Ht.UP||t&&r===Ht.FLOOR||!t&&r===Ht.CEILING)return!0;var s="5"+new Array(i.length).join("0");if(i>s)return!0;if(i<s)return!1;switch(r){case Ht.HALF_DOWN:return!1;case Ht.HALF_UP:return!0;case Ht.HALF_EVEN:default:return parseInt(e[e.length-1])%2==1}}function V1(i,e){e===void 0&&(e=0),e||(e=1),typeof i=="number"&&i.toString();for(var t=i.length-1,r="",s=t;s>=0;s--){var o=parseInt(i[s])+e;o==10?(e=1,o=0):e=0,r+=o}return e&&(r+=e),r.split("").reverse().join("")}function bs(i){var e=i[0]==="-";for(e&&(i=i.substr(1));i[0]=="0";)i=i.substr(1);if(i.indexOf(".")!=-1)for(;i[i.length-1]=="0";)i=i.substr(0,i.length-1);return i==""||i=="."?i="0":i[i.length-1]=="."&&(i=i.substr(0,i.length-1)),i[0]=="."&&(i="0"+i),e&&i!="0"&&(i="-"+i),i}function K1(i,e){i=i.toString(),e=e.toString();var t=0;i[0]=="-"&&(t++,i=i.substr(1)),e[0]=="-"&&(t++,e=e.substr(1)),i=bs(i),e=bs(e);var r=0,s=0;i.indexOf(".")!=-1&&(r=i.length-i.indexOf(".")-1),e.indexOf(".")!=-1&&(s=e.length-e.indexOf(".")-1);var o=r+s;if(i=bs(i.replace(".","")),e=bs(e.replace(".","")),i.length<e.length){var l=i;i=e,e=l}if(e=="0")return"0";for(var u=e.length,p=0,m=[],d=u-1,f="",g=0;g<u;g++)m[g]=i.length-1;for(var g=0;g<2*i.length;g++){for(var y=0,x=e.length-1;x>=d&&x>=0;x--)m[x]>-1&&m[x]<i.length&&(y+=parseInt(i[m[x]--])*parseInt(e[x]));y+=p,p=Math.floor(y/10),f=y%10+f,d--}return f=bs(RC(f,o)),t==1&&(f="-"+f),f}function RC(i,e){return e==0?i:(i=e>=i.length?new Array(e-i.length+1).join("0")+i:i,i.substr(0,i.length-e)+"."+i.substr(i.length-e,e))}function $1(i,e,t,r){if(t===void 0&&(t=8),r===void 0&&(r=Ht.HALF_EVEN),e==0)throw new Error("Cannot divide by 0");if(i=i.toString(),e=e.toString(),i=i.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),e=e.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),i==0)return"0";var s=0;e[0]=="-"&&(e=e.substring(1),s++),i[0]=="-"&&(i=i.substring(1),s++);var o=e.indexOf(".")>0?e.length-e.indexOf(".")-1:-1;if(e=Si(e.replace(".","")),o>=0){var l=i.indexOf(".")>0?i.length-i.indexOf(".")-1:-1;if(l==-1)i=Si(i+new Array(o+1).join("0"));else if(o>l)i=i.replace(".",""),i=Si(i+new Array(o-l+1).join("0"));else if(o<l){i=i.replace(".","");var u=i.length-l+o;i=Si(i.substring(0,u)+"."+i.substring(u))}else o==l&&(i=Si(i.replace(".","")))}var p=0,m=e.length,d="",f=i.indexOf(".")>-1&&i.indexOf(".")<m?i.substring(0,m+1):i.substring(0,m);if(i=i.indexOf(".")>-1&&i.indexOf(".")<m?i.substring(m+1):i.substring(m),f.indexOf(".")>-1){var g=f.length-f.indexOf(".")-1;f=f.replace(".",""),m>f.length&&(g+=m-f.length,f=f+new Array(m-f.length+1).join("0")),p=g,d="0."+new Array(g).join("0")}for(t=t+2;p<=t;){for(var y=0;parseInt(f)>=parseInt(e);)f=Ag(f,"-"+e),y++;d+=y,i?(i[0]=="."&&(d+=".",p++,i=i.substring(1)),f=f+i.substring(0,1),i=i.substring(1)):(p||(d+="."),p++,f=f+"0")}return(s==1?"-":"")+Si(Hu(d,t-2,r))}function q1(i,e){return i=i.toString(),e=e.toString(),e=Y1(e),Ag(i,e)}function Y1(i){return i[0]=="-"?i=i.substr(1):i="-"+i,i}function zw(i,e){if(e==0)throw new Error("Cannot divide by 0");i=i.toString(),e=e.toString(),jw(i),jw(e);var t="";i[0]=="-"&&(t="-",i=i.substr(1)),e[0]=="-"&&(e=e.substr(1));var r=q1(i,K1(e,Hu($1(i,e),0,Ht.FLOOR)));return t+r}function jw(i){if(i.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}function Gw(i,e){var t,r,s=!1;if(t=[i,e].map(function(l){return bs(l)}),i=t[0],e=t[1],i[0]=="-"&&e[0]!="-")return-1;if(i[0]!="-"&&e[0]=="-")return 1;if(i[0]=="-"&&e[0]=="-"&&(i=i.substr(1),e=e.substr(1),s=!0),r=Q1(i,e),i=r[0],e=r[1],i.localeCompare(e)==0)return 0;for(var o=0;o<i.length;o++)if(i[o]!=e[o])return i[o]>e[o]?s?-1:1:s?1:-1;return 0}var mr=function(){function i(e){e===void 0&&(e="0"),this.value=i.validate(e)}return i.validate=function(e){if(e){if(e=e.toString(),isNaN(e))throw Error("Parameter is not a number: "+e);e[0]=="+"&&(e=e.substring(1))}else e="0";if(e.startsWith(".")?e="0"+e:e.startsWith("-.")&&(e="-0"+e.substr(1)),/e/i.test(e)){var t=e.split(/[eE]/),r=t[0],s=t[1];r=Si(r);var o="";r[0]=="-"&&(o="-",r=r.substring(1)),r.indexOf(".")>=0?(s=parseInt(s)+r.indexOf("."),r=r.replace(".","")):s=parseInt(s)+r.length,r.length<s?e=o+r+new Array(s-r.length+1).join("0"):r.length>=s&&s>0?e=o+Si(r.substring(0,s))+(r.length>s?"."+r.substring(s):""):e=o+"0."+new Array(-s+1).join("0")+r}return e},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(e){this.value=i.validate(e)},i.getPrettyValue=function(e,t,r){t===void 0&&(t=3),r===void 0&&(r=","),e=i.validate(e);var s=e.charAt(0)=="-";s&&(e=e.substring(1));var o=e.indexOf(".");o=o>0?o:e.length;for(var l="",u=o;u>0;)u<t?(t=u,u=0):u-=t,l=e.substring(u,u+t)+(u<o-t&&u>=0?r:"")+l;return(s?"-":"")+l+e.substring(o)},i.prototype.getPrettyValue=function(e,t){return e===void 0&&(e=3),t===void 0&&(t=","),i.getPrettyValue(this.value,e,t)},i.round=function(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=Ht.HALF_EVEN),e=i.validate(e),isNaN(t))throw Error("Precision is not a number: "+t);return Hu(e,t,r)},i.prototype.round=function(e,t){if(e===void 0&&(e=0),t===void 0&&(t=Ht.HALF_EVEN),isNaN(e))throw Error("Precision is not a number: "+e);return new i(Hu(this.value,e,t))},i.abs=function(e){return e=i.validate(e),Uw(e)},i.prototype.abs=function(){return new i(Uw(this.value))},i.floor=function(e){return e=i.validate(e),e.indexOf(".")===-1?e:i.round(e,0,Ht.FLOOR)},i.prototype.floor=function(){return this.value.indexOf(".")===-1?new i(this.value):new i(this.value).round(0,Ht.FLOOR)},i.ceil=function(e){return e=i.validate(e),e.indexOf(".")===-1?e:i.round(e,0,Ht.CEILING)},i.prototype.ceil=function(){return this.value.indexOf(".")===-1?new i(this.value):new i(this.value).round(0,Ht.CEILING)},i.add=function(e,t){return e=i.validate(e),t=i.validate(t),Ag(e,t)},i.prototype.add=function(e){return new i(Ag(this.value,e.getValue()))},i.subtract=function(e,t){return e=i.validate(e),t=i.validate(t),q1(e,t)},i.prototype.subtract=function(e){return new i(q1(this.value,e.getValue()))},i.multiply=function(e,t){return e=i.validate(e),t=i.validate(t),K1(e,t)},i.prototype.multiply=function(e){return new i(K1(this.value,e.getValue()))},i.divide=function(e,t,r,s){return e=i.validate(e),t=i.validate(t),$1(e,t,r,s)},i.prototype.divide=function(e,t,r){return new i($1(this.value,e.getValue(),t,r))},i.modulus=function(e,t){return e=i.validate(e),t=i.validate(t),zw(e,t)},i.prototype.modulus=function(e){return new i(zw(this.value,e.getValue()))},i.compareTo=function(e,t){return e=i.validate(e),t=i.validate(t),Gw(e,t)},i.prototype.compareTo=function(e){return Gw(this.value,e.getValue())},i.negate=function(e){return e=i.validate(e),Y1(e)},i.prototype.negate=function(){return new i(Y1(this.value))},i.stripTrailingZero=function(e){return e=i.validate(e),bs(e)},i.prototype.stripTrailingZero=function(){return new i(bs(this.value))},i.RoundingModes=Ht,i}();var Ke=class Ke{static get IsSetRelease(){return Ke._IsSetRelease}static get IsSetGuid(){return Ke._IsSetGuid}static initParms(){if(Laya.Browser.window.location){let r=Laya.Browser.window.location.href,s=this.getURLParameters(r);if(Ke.m_obj=s,console.log("1initgame-->urldata:",Ke.m_obj),Ke.m_obj.server&&Ke.m_obj.server!=""&&(ve.wsUrl=Ke.m_obj.server),Ke.m_obj.socket&&Ke.m_obj.socket!=""){var e=Ke.m_obj.socket;je.m_strHttpHost=e}if(Ke.m_obj.address&&Ke.m_obj.address!=""&&re.vType==0&&(console.log("walletAddress: "+Ke.m_obj.address),Ge.walletAddress=Ke.m_obj.address),Ke.m_obj.from&&Ke.m_obj.from=="into"&&(re.isInto=!0),Ke.m_obj.isFull&&Ke.m_obj.isFull=="1"&&(re.isFull=!0),Ke.m_obj.justFull&&Ke.m_obj.justFull=="1"&&(re.justFull=!0),Ke.m_obj.white&&Ke.m_obj.white=="1"&&(re.isWhite=!0),Ke.m_obj.needDraw&&Ke.m_obj.needDraw=="1"&&(re.needDraw=!0),Ke.m_obj.log){var t=parseInt(Ke.m_obj.log);t>0&&initEruda(t)}if(Ke.m_obj.debug&&re.vType==0&&(re.Debug=parseInt(Ke.m_obj.debug)),Ke.m_obj.res&&Ke.m_obj.res!="0"&&(re.Res=parseInt(Ke.m_obj.res)),Ke.m_obj.bookingId&&Ke.m_obj.bookingId!="0"&&(re.bookingId=parseInt(Ke.m_obj.bookingId),Ke.m_obj.teamId&&Ke.m_obj.teamId!="0"&&(re.teamId=parseInt(Ke.m_obj.teamId))),Ke.m_obj.referral&&Ke.m_obj.referral!=""&&(re.referral=Ke.m_obj.referral),Ke.m_obj.lang&&Ke.m_obj.lang!=""){let o=parseInt(Ke.m_obj.lang);o<1&&(o=1),re.ignoreLang=!0,U.m_strLanguage=o}}}static getURLParameters(e){let t={};return e.replace(/[?&]+([^=&]+)=([^&]*)/gi,(r,s,o)=>t[s]=decodeURIComponent(o)),t}static cheakStr(e){let t=new RegExp("[A-Za-z0-9_-\\s]","g"),r=e.match(t);return!!(r&&r.length==e.length)}static isNumber(e){return/^(?!0\d)\d*\.?\d*$/.test(e)}static roundToTwoDecimals(e){return e%1===0?e.toString():Number(e.toFixed(2)).toString()}static filterObjectsByNewFightFlag(e){return e.filter(t=>t.newFightFlag!==1)}static addIndexToObjects(e){return e.forEach((t,r)=>{t.index=r}),e}static findFirstTypeAndNotGold(e){for(let t=0;t<e.length;t++)if(e[t].id>=3001&&e[t].id<=3021&&e[t].id!==3005)return e[t]}static getCurrencyIdByName(e){let t=Ye.TYPE_TOX;switch(e){case"TOX":t=Ye.TYPE_TOX;break;case"ETH":t=Ye.TYPE_ETH;break;case"BTC":t=Ye.TYPE_BTC;break;case"USDT":t=Ye.TYPE_USDT;break;case"BTOX":t=Ye.TYPE_BTOX;break;case"GALA":t=Ye.TYPE_GALA;break;case"BNRY":t=Ye.TYPE_BNRY;break;case"KLAY":t=Ye.TYPE_KLAY;break;case"BNB":t=Ye.TYPE_BNB;break;case"GGG":t=Ye.TYPE_GGG;break}return t}static formatNumber(e,t=7){let r=e.toString(),s=r.indexOf(".");return s!==-1&&r.length-s>t?(r=r.slice(0,s+t),parseFloat(r)):e}static truncateToTwoDecimalPlaces(e){let t=e.toString(),r=t.indexOf(".");if(r===-1)return e;let s=t.substring(0,r+5);return parseFloat(s)}static getKeyByValue(e,t){return Object.keys(e).find(r=>e[r]===t)}static powerOf10(e,t){return e*Math.pow(10,t)}static isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}static getDaysInMonth(e,t){return t===2?this.isLeapYear(e)?29:28:[4,6,9,11].includes(t)?30:31}static shortenString(e,t,r){return e.length<=t+r?e:e.substr(0,t)+"..."+e.substr(-r)}static multiplyBigDecimals(e,t){let s=Math.pow(10,1e4),o=parseFloat(String(e))*parseFloat(String(t));return Math.round(o*s)/s}static arraysEqual(e,t){return e.length===t.length&&e.every((r,s)=>r===t[s])}static categorizeArrays(e,t){let r=[];for(let s of t){let o=s[0],l=s[1],u=e.find(m=>m[0]===o),p=u?u[1]:0;r.push([o,p,l])}return r}static setMap(e,t){if(e.has(t[0])){let r=e.get(t[0]);r+=t[1],e.set(t[0],r)}else e.set(t[0],t[1]);return console.log(e),e}static getfrom(){return Ke.m_obj.from}static parseTokenData(e){try{return e.map(t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(r){return console.error("token:",r),t}return t})}catch(t){return console.error("token:",t),[]}}static multiplyWithPrecision(e,t){let r=new mr(e),s=new mr(t);return r.multiply(s).getValue()}static addWithPrecision(e,t){let r=new mr(e),s=new mr(t);return r.add(s).getValue()}static subtractWithPrecision(e,t){let r=new mr(e),s=new mr(t);return r.subtract(s).getValue()}static divideWithPrecision(e,t,r=10){if(t===0)return console.error(""),"0";let s=new mr(e),o=new mr(t);return s.divide(o,r).getValue()}static truncateString(e,t){return e.length>t?e.substring(0,t)+"...":e}static truncateUnicodeString(e,t){if(!e)return"";let r=Array.from(e);return r.length>t?r.slice(0,t).join("")+"...":e}static getLevelByExp(e){let t=q.m_dicLevel,r=1;for(let s=0;s<t.values.length;s++){let o=t.values[s];if(e>=o.totalExp)r=o.id;else break}return r}static fitTextToLabel(e,t,r=!0){if(!e||!t)return e;let s=t.text,o=f=>(t.text=f,t.textField.textWidth),l=t.width;if(o(e)<=l)return t.text=s,e;let u=Array.from(e),p=0,m=u.length,d=0;for(;p<m;){d=Math.floor((p+m)/2);let f=u.slice(0,d).join("");o(r?f+"...":f)<=l?p=d+1:m=d}return d=p-1,d<0&&(d=0),t.text=s,u.slice(0,d).join("")+(d<u.length&&r?"...":"")}};Ke._IsSetRelease=!1,Ke._IsSetGuid=!1;var st=Ke;var X1=class i{static getInstance(){return this._instance||(this._instance=new i),this._instance}constructor(){this.init()}init(){k.on("msg_"+b.snake.socket.MessageType.MSG_QUERY_TOKEN,this,this.onRequestInfo)}destroy(){k.off("msg_"+b.snake.socket.MessageType.MSG_QUERY_TOKEN,this,this.onRequestInfo),i._instance=null}requestCoinInfo(){let e=b.snake.socket.MessageType.MSG_QUERY_TOKEN;ve.send(e)}onRequestInfo(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_QUERY_TOKEN);if(t==b.snake.socket.MessageCode.SYS_NORMAL){let s=st.parseTokenData(r.token);this._tokenData=s,k.event(w.UPDATE_TOKEN_BALANCE,[s])}}getTokenData(){return this._tokenData}getTokenDataBySyId(e){if(!this._tokenData||this._tokenData.length===0){console.warn(",");return}return this._tokenData.find(t=>t.symbolId===e)}calculateTotalValue(){try{return this._tokenData.reduce((e,t)=>{let r=t.balance,s=t.price;return isNaN(r)||isNaN(s)?e:e+r*s},0)}catch(e){return console.error(":",e),0}}},mt=X1.getInstance();var zt=class{constructor(){}};zt.TYPE_Consumption=1,zt.TYPE_Equipment=2,zt.TYPE_Currency=3,zt.TYPE_Hero=4,zt.TYPE_Fragment=5,zt.TYPE_CARD=6,zt.TYPE_TOKEN=100,zt.CHOOSE_Wallet=1,zt.CHOOSE_PutOn=2,zt.ITEM_PT=1086,zt.ITEM_PT_EXP=1091,zt.ITEM_SNAKE=3026;var wi=class i{constructor(e=0){this._m_iLevel=0;this._m_arrDisc=[];this.newAddCnt=0;this.isScholarship=!1;this.isLvUp=!1;this.needTip=!0;this.m_bSalon=!1;this.m_bIsSetId=!1;e!=0&&(this.m_iId=e)}get m_iLevel(){return this._m_iLevel>0?this._m_iLevel:1}set m_iLevel(e){this._m_iLevel=e||0}get m_iNum(){return this._m_iNum}set m_iNum(e){this._m_iNum=e}get m_iPk(){return this._m_iPk}set m_iPk(e){this._m_iPk=e}copyItem(){let e=new i;return e.m_iId=this.m_iId,e.m_iOriginalId=this.m_iOriginalId,e}get m_bTry(){return this.m_iId==this.m_iOriginalId?this._m_bSet=!1:this._m_bSet=!0,this._m_bSet}set itemName(e){this._itemName=e}get itemName(){return this._itemName?this._itemName:P.getLanguage(this.itemItem.name)}set m_bTry(e){this._m_bSet=e}get m_iId(){return this._m_iId}set m_iId(e){this._m_iId=e,this.m_bIsSetId||(this.m_bIsSetId=!0,this.m_iOriginalId=e),this.setConfigData()}setConfigData(){if(this.m_iId!=0){if(this.type==zt.TYPE_TOKEN){this.quality=1;let e=mt.getTokenDataBySyId(this.m_iId);e?(this.itemName=e.symbol,this.iconURL=J.getCurrencyIcon(e.symbolId)):(this.iconURL="",this.itemName="");return}if(this.itemItem=q.m_dicItems.get(this.m_iId.toString()),!this.itemItem){console.log("[          <items> find out id:"+this.m_iId+"             ]");return}if(this.subType=parseInt(this.itemItem.subType+""),this.backType=parseInt(this.itemItem.backPack+""),this.type=parseInt(this.itemItem.type+""),this.itemItem.buy_price){this.m_iPrice=this.itemItem.buy_price[0][1];let e=this.itemItem.buy_price[0][0],t=q.m_dicItems.get(e);t&&(this.m_strBuyIcon=J.getItemIcon(t.icon))}this.itemItem.sell_price&&(this.m_iSellPrice=parseFloat(this.itemItem.sell_price[0][1])),this.quality=this.itemItem.quality,this.setQualityData()}}setQualityData(){this.m_arrQualityData=this.itemItem.starArr}set iconURL(e){this._iconURL=e}get iconURL(){return this.type==zt.TYPE_TOKEN?this._iconURL:J.getItemIcon(this.itemItem.icon)}copy(){let e=new i(this.m_iId);return e.m_iLevel=this.m_iLevel,e}compareName(){return P.getLanguage(this.itemItem.name)}compareQuality(){return parseFloat(this.quality+"")}compareSellPrice(){return parseFloat(this.itemItem.sell_price[1]+"")}compareNum(){return parseFloat(this.m_iNum+"")}compareLevel(){return parseFloat(this.m_iLevel+"")}compareTypeId(){return parseInt(this.m_iId+"")}};var Z1=class i{constructor(){this._isPop=!1;k.on(w.EVENT_CHECK_REMAIN,this,this.onCheckRemain)}static getInstance(){return i._instance||(i._instance=new i),i._instance}get model(){return hi}get isPop(){return this._isPop}startShow(){console.log("startShow");var e=this.model.hasRemain();!this._isPop&&e&&(this._isPop=!0,e instanceof wi?k.event(w.EVENT_OPEN_MODULE,L.ItemGetDialog):k.event(w.EVENT_OPEN_MODULE,L.HeroGetDialog))}onCheckRemain(e){if(e==L.ItemGetDialog||e==L.HeroGetDialog){var t=this.model.hasRemain();t?t instanceof wi?k.event(w.EVENT_OPEN_MODULE,L.ItemGetDialog):k.event(w.EVENT_OPEN_MODULE,L.HeroGetDialog):this._isPop=!1}}};var ys=Z1.getInstance();var J1=class i{constructor(e){this._list=[];this.needPop=!0;this.autoPop=!0}static getInstance(){return i._instance||(i._instance=new i(new ex)),i._instance}get service(){return ys}addItem(e,t=!1){let r=new wi;r.m_iId=e.m_iId,r.newAddCnt=e.newAddCnt,r.m_iLevel=e.m_iLevel,r.isLvUp=e.isLvUp,r.m_bNew=e.m_bNew,this._list.push(r),t&&this.service.startShow()}addHeroItem(e,t=!1){let r={};r.id=e.id,r.newAddCnt=e.newAddCnt,r.lv=e.lv,r.isLvUp=e.isLvUp,r.m_bNew=e.m_bNew,this._list.push(r),t&&this.service.startShow()}addItems(e,t=!1){this._list=this._list.concat(e),t&&this.service.startShow()}hasRemain(){return this._list.length>0?this._list[0]:null}get needListener(){return this._list.length>=2}addConsumeByServer(e){this._list.push(e)}addConsume(e,t){this._list.push([e,t])}getNextItem(){return this._list.length>0?this._list[0]:null}getOneItem(){return this._list.length>0?this._list.shift():null}},ex=class{},hi=J1.getInstance();var Mg=class{constructor(){this.m_dicItemList=new Ne,this.m_dicTypeList=new Ne,this.m_dicSubTypeList=new Ne,this.m_dicBackList=new Ne}initData(e){this.m_dicItemList=new Ne,this.m_dicTypeList=new Ne,this.m_dicSubTypeList=new Ne,this.m_dicBackList=new Ne;let t;for(let s=0;s<e.length;s++){t=new wi;var r=e[s];t.m_iId=r.id,r.pk&&(t.m_iPk=r.pk),t.m_iId=r.id,t.m_iNum=r.count,t.m_iNum>0&&this.pushItem(t)}console.log("@@@@@@@@@@@@@@@@@@-----------------------------------------packVo: ")}getCountById(e,t=!0){return q.m_dicItems.get(e)==null?0:this.getItemCountById(e,t)}pushItem(e){this.m_dicItemList.set(e.m_iId,e),this.m_dicTypeList.get(e.type)==null&&this.m_dicTypeList.set(e.type,new Ne),this.m_dicSubTypeList.get(e.subType)==null&&this.m_dicSubTypeList.set(e.subType,new Ne),this.m_dicBackList.get(e.backType)==null&&this.m_dicBackList.set(e.backType,new Ne),this.m_dicTypeList.get(e.type).set(e.m_iId,e),this.m_dicSubTypeList.get(e.subType).set(e.m_iId,e),this.m_dicBackList.get(e.backType).set(e.m_iId,e)}removeItem(e){this.m_dicItemList.remove(e.m_iId),this.m_dicTypeList.get(e.type).remove(e.m_iId),this.m_dicSubTypeList.get(e.subType).remove(e.m_iId),this.m_dicBackList.get(e.backType).remove(e.m_iId)}updateData(e,t=!1,r=!0){console.log("updateData: ",e,t,r);let s=[],o=!1,l;for(let u=0;u<e.length;u++){e[u]instanceof Array?(l=new Ka,l.id=e[u][0],l.count=e[u][1]):l=e[u];let p=this.m_dicItemList.get(l.id);p==null&&(p=new wi(l.id),this.pushItem(p),p.m_bNew=!0),t?p.m_iNum=l.count:(p.newAddCnt=l.count,p.m_iNum=p.m_iNum+l.count),s.push(p.m_iId),p.m_iNum<=0&&this.removeItem(p),p.newAddCnt>0&&hi.needPop&&r&&(hi.addItem(p),o=!0)}o&&hi.needPop&&hi.autoPop&&ys.startShow(),s.length>0&&k.event(w.PACKAGE_UPDATE_ITEM,[s])}getItemById(e){return this.m_dicItemList.get(e)}getItemsBySubType(e){let t=this.m_dicSubTypeList.get(e);return t==null&&(t=[]),t}getListByType(e){let t=[];return this.m_dicTypeList.get(e)&&(t=this.m_dicTypeList.get(e).values.slice()),t.sort(this.sortOnQa),t}getBackByType(e){let t=[];return this.m_dicBackList.get(e)&&(t=this.m_dicBackList.get(e).values.slice()),t.sort(this.sortOnQa),t}async getQuan(e){let t=[];var s=(await St.requestPost("wxgame/hero/loserTicketBagList",{type:e},!0,!0)).data;let o;for(let p=0;p<s.length;p++){o=new wi;var l=s[p];o.m_iId=l.id,l.pk&&(o.m_iPk=l.pk),o.m_iId=l.id,o.m_iNum=l.count,l.extra&&l.extra.prize&&(o.prizeStatus=2),l.extra&&l.extra.expTime?o.expTime=parseFloat(l.extra.expTime):o.expTime=0;var u=U.m_serverTime;u>o.expTime?e==3&&t.push(o):l.extra&&l.extra.onChain?(o.chainStatus=1,e==1&&t.push(o)):e==2&&t.push(o)}return t.sort(this.sortOnExpTime),t}getListBySubType(e){let t=[];return this.m_dicSubTypeList.get(e)&&(t=this.m_dicSubTypeList.get(e).values.slice()),t.sort(this.sortOnQa),t}sortOnQa(e,t){let r=e.itemItem.sort,s=t.itemItem.sort;return r<s?-1:r>s?1:0}sortOnExpTime(e,t){let r=e.expTime,s=t.expTime;return r<s?1:r>s?-1:0}getItemCountById(e,t=!0){let r=this.getItemById(e);return r?r.m_iNum:0}};var tx=class i{constructor(){this.pools=new Map;this.configs=new Map}static getInstance(){return i._instance||(i._instance=new i),i._instance}register(e,t,r=0,s=1/0){this.configs.set(e,{factory:t,maxSize:s}),this.pools.set(e,[]);for(let o=0;o<r;o++)this.release(e,t())}get(e,...t){let r=this.pools.get(e);if(!r)throw new Error(`Type ${e.name} not registered`);let s=r.length>0?r.pop():this.configs.get(e).factory();return s.init&&s.init(...t),s}release(e,t){let r=this.configs.get(e);if(!r)throw new Error(`Type ${e.name} not registered`);let s=this.pools.get(e);t.reset&&t.reset(),s.length<r.maxSize&&s.push(t)}clear(e){this.pools.set(e,[])}clearAll(){this.pools.clear()}},Ww=tx.getInstance();var ix=class i{constructor(){this.timeZoneOff=0;this.hearIntervalSceond=10*60;this.nodeId=1001;this.currentNodeUrl="https://wss-room-sg.queengame.io/test-ping";this._timeStamp=0;this._m_strLanguage=1;this.isLanChanged=!1;this.clubType=0;this.clubCreater="";this.lastTimestamp=0;this._m_serverTime=0;this.redDotData=[];this.friendNum=0;this.headId=10001;this.countryId=1010;this.colorId=1;this._guildIcon=2006;this.tokenData=void 0;this.rechargeEnd=!1}async initData(){}get m_serverTime(){let e=Date.now();return this._m_serverTime+(e-this.lastTimestamp)}set m_serverTime(e){this._m_serverTime=e,this.lastTimestamp=Date.now()}get guildIcon(){return this._guildIcon}set guildIcon(e){this._guildIcon=e}get m_strLanguage(){return this._m_strLanguage}set m_strLanguage(e){this._m_strLanguage=e}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){this.m_packageData=new Mg,Ww.register(it,()=>new it,5,200)}onLanChange(e){let t=parseInt(e[0]),r=parseInt(e[1]);switch(t){case 1:r==1&&Qe.reload();break;case 2:break}}get timeStamp(){return this._timeStamp+(Laya.Browser.now()-this.recordStampTime)/1e3}set timeStamp(e){this.recordStampTime=Laya.Browser.now(),this._timeStamp=e}itemsDataUpdataHandler(e,t,r){this.m_packageData.updateData(e,t,r),k.event(w.EVENT_ITEM_UPDATE)}updatePlayerInfo(e){this.playerDto||(this.playerDto=new gs),this.playerDto.pid=e.roleId,this.playerDto.name=e.userName,this.playerDto.icon=e.icon,this.playerDto.exp=e.exp,this.playerDto.code=e.code,this.playerDto.country=e.country,this.playerDto.invite=e.invite,this.playerDto.invNum=e.invNum,this.playerDto.lv=e.lv,this.playerDto.snakeId=e.snakeId,this.playerDto.skinId=e.skinId,this.playerDto.score=e.score,this.playerDto.createTime=e.createTime,this.playerDto.maxKill=e.maxKill,this.playerDto.maxAlive=e.maxAlive,this.playerDto.skinId=e.skin,this.playerDto.club=e.club,k.event(w.ROLE_INFO_CHANGE)}getConsumeValue(e){e=parseInt(e.toString());var t=this.playerDto.coins[e];return t>0?t:0}moneyInfoHander(e,t=!0,r=!0){let s=!1,o=!1,l=0;for(let u of e)o=!1,u[0]==Ye.TYPE_EXP?(l=parseInt(u[1]+"")-this.playerDto.exp,this.playerDto.exp=parseInt(u[1]+""),o=l>0):(l=parseFloat(u[1]+"")-this.playerDto.coins[u[0]],this.playerDto.coins[u[0]]=parseFloat(u[1]+""),o=l>0),o&&hi.needPop&&r&&(s=!0,hi.addConsumeByServer([u[0],l]));t&&k.event(w.ROLE_INFO_CHANGE),s&&hi.autoPop&&ys.startShow()}getRedDotById(e){return!!(this.redDotData&&this.redDotData.indexOf(e)>-1)}},U=ix.getInstance();var rx=class i{constructor(){this._lanTypesById=new Ne,this._lanTypesByType=new Ne,this._configData=new Ne,this._configData1=new Ne}static getInstance(){return i._instance||(i._instance=new i),i._instance}initLanTypes(e){this._lanTypesById=new Ne,this._lanTypesByType=new Ne;for(let t in e){let r=new Es;if(r.init(e[t]),parseInt(r.if_open)!=1)continue;let s=r.id,o=r.type;this._lanTypesById.set(s,r),o&&o!=""&&this._lanTypesByType.set(o,r)}}getLanTypes(){return this._lanTypesById}getLanIdByType(e){if(this._lanTypesByType){let t=this._lanTypesByType.get(e);if(t)return parseInt(t.id.toString())}return 1}getLanTypeById(e){if(this._lanTypesById){let t=this._lanTypesById.get(e);if(t)return t.type}return"en"}initConfigLan(e){this._configData=e}initConfigLan1(e){this._configData1=e}initUILan(e){Laya.Text.langPacks={};let t;for(t in e){let r=e[t].value;Laya.Text.langPacks[t]=r}}changeBrToN(e){let t=/<br>/g;for(;e.indexOf("<br>")!=-1;)e=e.replace(t,`
`);return e}replacePlaceholder(e,t){if(e=="")return"";let r=/{(\d+)}/g;return t.length>0&&(e=e.replace(r,function(){return t[arguments[1]]})),this.replaceLanByBR(e)}replaceLanByBR(e){return e+""}getEnglishLanguage(e,...t){return this.getEnglishLanguageReplace(e,t)}getEnglishLanguageReplace(e,t){if(this._configData1&&this._configData1[e]){let r=this._configData1[e].value;if(r&&r!="")return this.replacePlaceholder(r,t)}return this.replacePlaceholder(e+"",t)}getLanguage(e,...t){return this.getLanguageReplace(e,t)}getLanguageReplace(e,t){if(this._configData&&this._configData[e]){let r=this._configData[e].value;if(r&&r!="")return this.replacePlaceholder(r,t)}return this.replacePlaceholder(e+"",t)}getLanguageMulti(e,t){if(console.log("getLanguageMulti",t),this._configData&&this._configData[e]){let r=this._configData[e].value;if(r&&r!="")return this.replacePlaceholderMulti(r,t)}return this.replacePlaceholder(e+"",t)}replacePlaceholderMulti(e,t){if(e=="")return"";let r=/{(\d+)}/g;return t.length>0&&(e=e.replace(r,function(){var s=t[arguments[1]];if(typeof s=="object")s=JSON.parse(s),s=i.getInstance().parseObj(s);else if(typeof s=="string")try{s=JSON.parse(s),typeof s=="object"&&(s=i.getInstance().parseObj(s))}catch{}return s})),this.replaceLanByBR(e)}parseObj(e){if(e.hasOwnProperty("tableType")){if(e.tableType==1){var t=q.m_dicItems.get(e.id);t&&(e=i.getInstance().getLanguage(t.name))}else if(e.tableType==2){var r=q.m_dicArenaDic.get(e.id);r&&(e=i.getInstance().getLanguage(r.name))}}else e=i.getInstance().getMultiLan(e);return e}getUILang(e,t=null,r=null,s=null,o=null){if(e=Laya.Text.langPacks&&Laya.Text.langPacks[e]?Laya.Text.langPacks[e]:e,arguments.length>1)for(let l=0,u=arguments.length;l<u;l++)e=e.replace("{"+l+"}",arguments[l+1]);return e}getMultiLan(e){var t=parseInt(U.m_strLanguage.toString()),r;return e&&(r=e[t],r||(r=e[Ls.Lan_en])),r}FGM_GetLanguage(){let e=function(r){console.log("initGame->-----------------------------FGM_GetLanguage:=="+r),r&&(re.User_Lan=r)},t=Laya.LocalStorage.getItem(re.COOKIE_CF_LAN);!t||t==""?e(this.language):e(t)}get language(){return"en"}FGM_SetLanguage(e){e&&e!=""&&Laya.LocalStorage.setItem(re.COOKIE_CF_LAN,e)}dispose(){}},P=rx.getInstance();var nx=class i{constructor(){this._curErrTxt=""}static getInstance(){return i._instance||(i._instance=new i),i._instance}initErrData(e){this.errData=e}get(e){return this.errData[e]?this.errData[e].words:(console.warn(" "+e),e)}showErrorWord(e,...t){var r=this.getLanguage2(e,t);Me.notice(r)}getLanguage2(e,t){if(this.errData&&this.errData[e]){let r=this.errData[e].words;if(r&&r!="")return this._curErrTxt=P.replacePlaceholder(r,t),this._curErrTxt}return this._curErrTxt=P.replacePlaceholder(e+"",t),this._curErrTxt}showErrByString(e,t="#ff0000"){this._curErrTxt=e;let r=new Laya.Label(this._curErrTxt);r.width=500,r.align="center",r.height=40,r.fontSize=26,r.color=t,r.mouseEnabled=!1,r.strokeColor="#000000",r.stroke=.5,Laya.stage.addChild(r),r.x=(Laya.stage.width-r.width)/2,r.y=(Laya.stage.height-r.height)/2,Laya.Tween.to(r,{y:r.y-100,alpha:0},500,null,Laya.Handler.create(this,this.completeHandler,[r]),1e3)}completeHandler(e){e&&e.parent&&e.parent.removeChild(e)}dispose(){this.errData=null}},Zt=nx.getInstance();var Wt=class Wt{constructor(){this.resArr=["gameIcon/snakeMatch/snakes/img_head101.png","gameIcon/snakeMatch/snakes/img_head102.png","gameIcon/snakeMatch/snakes/img_head103.png","gameIcon/snakeMatch/snakes/img_body101.png","gameIcon/snakeMatch/snakes/img_body102.png","gameIcon/snakeMatch/snakes/img_body103.png",{url:"scenes/mainView/MainScene.ls",type:Laya.Loader.HIERARCHY},{url:"scenes/match/MatchSnakeSpr.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/match/MatchSnakeBodySpr.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/match/MatchSnakeBeanSpr.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/match/MatchReadyView.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/match/DamageNumber.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/notice/TxtLoadingView.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/notice/TxtNoticeView.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/asset/AssetNewScene.ls",type:Laya.Loader.HIERARCHY},{url:"scenes/createRole/RoleInfoScene.ls",type:Laya.Loader.HIERARCHY},"gameIcon/spine/img_ziyousai.png","gameIcon/spine/img_she.png","gameIcon/spine/img_qianbao.png","gameIcon/spine/img_gonghui.png","gameIcon/spine/img_gonghui2.png","gameIcon/spine/img_cion4.png","gameIcon/spine/img_cion2.png","gameIcon/spine/img_cion1.png","gameIcon/spine/img_anniu3.png","gameIcon/spine/img_anniu2.png","gameIcon/spine/img_anniu1.png","gameIcon/spine/img_jingjisai.png","gameIcon/spine/shop/egg/img_egg.png","gameIcon/spine/img_tcbg.png","res/common/comm_bg/img_bg_1560.jpg"];this.m_arrPreResource=["config/spot.json"];this.m_arrInitResource=["config/general.json","config/head.json","config/country.json","config/shop.json","config/snake.json","config/foods.json","config/item.json","config/arena.json","config/arenaType.json","config/snakeLengthRules.json","config/node.json","config/currencyAddress.json","config/aCoin.json","config/coinAddress.json","config/language.json","config/level.json","config/room.json","config/club.json"];this.m_objModuleReource={MainScene:["res/atlas/main.atlas"],ShopScene:[],MailScene:[],SettingScene:[],RoleInfoScene:[],RankSceneBase:[],RankScene:[],ClubScene:[],AssetNewScene:[],CommentDialog:["res/atlas/comment.atlas"],GuideView:["res/atlas/guide.atlas","res/atlas/ShopView.atlas","config/newplayer.json"],SelectHeadDialog:[],KnapsackScene:["res/atlas/mainUI1.atlas"]};this.m_objModuleViews={BaseAlertDialog:"scenes/baseAlert/BaseAlertDialog.lh",NoServerView:"scenes/createRole/NoServer.lh",CreateLoginView:"scenes/createRole/CreateLoginView.lh",ChangeHeadDialog:"scenes/createRole/ChangeHeadDialog.lh",HeroGetDialog:"scenes/shop/HeroGetDialog.lh",BuyTicketDialog:"scenes/shop/BuyTicketDialog.lh",ItemGetDialog:"scenes/item/ItemGetDialog.lh",EquipStarUpDialog:"scenes/item/EquipStarUpDialog.lh",RewardGetDialog:"scenes/item/RewardGetDialog.lh",KnapsackTipDialog:"scenes/item/KnapsackTipDialog.lh",SelectHeadDialog:"scenes/createRole/SelectHeadDialog.lh",TxtNoticeView:"scenes/notice/TxtNoticeView.lh",NoticeDialog:"scenes/notice/NoticeDialog.lh",HelpDialog:"scenes/notice/HelpDialog.lh",ImgDialog:"scenes/notice/ImgDialog.lh",ChampDetailDialog:"scenes/asset/ChampDetailDialog.lh",ChampRecordDialog:"scenes/asset/ChampRecordDialog.lh",RoleInfoDialog:"scenes/createRole/RoleInfoDialog.lh",RemGetDialog:"scenes/createRole/RemGetDialog.lh",CreateRoomDialog:"scenes/mainView/CreateRoomDialog.lh",CreateRentalDialog:"scenes/shop/CreateRentalDialog.lh",MyLeasedDialog:"scenes/shop/MyLeasedDialog.lh",MyRentedDialog:"scenes/shop/MyRentedDialog.lh",MyRentalBuyDialog:"scenes/shop/MyRentalBuyDialog.lh",EnterRoomView:"scenes/mainView/EnterRoomView.lh",InputPwdDialog:"scenes/mainView/InputPwdDialog.lh",RoomInfoDialog:"scenes/mainView/RoomInfoDialog.lh",HeroDetailDialog:"scenes/hero/HeroDetailDialog.lh",MatchEndRankView:"scenes/match/MatchEndRankView.lh",MatchEndTeamRankView:"scenes/match/MatchEndTeamRankView.lh",MatchEndRewardTokensDialog:"scenes/match/MatchEndRewardTokensDialog.lh",MyBookingView:"scenes/airdrop/MyBookingView.lh",UnionMemberView:"scenes/union/UnionMemberView.lh",UnionListView:"scenes/union/UnionListView.lh",CreateSubUnionView:"scenes/union/CreateSubUnionView.lh",ChangeUnionIconDialog:"scenes/union/ChangeUnionIconDialog.lh",MySubUnionView:"scenes/union/MySubUnionView.lh",UnionMemberApplyView:"scenes/union/UnionMemberApplyView.lh",UnionReferralView:"scenes/union/UnionReferralView.lh",UnionTransferView:"scenes/union/UnionTransferView.lh",TicketTransferView:"scenes/union/TicketTransferView.lh",HeroTransferView:"scenes/hero/HeroTransferView.lh",BanAccountView:"scenes/match/BanAccountView.lh",MatchReadyView:"scenes/match/MatchReadyView.lh",MatchEndView:"scenes/match/MatchEndView.lh",GameSettingLanguageDialog:"scenes/gameSetting/GameSettingLanguageDialog.lh",SkillTipDialog:"scenes/hero/SkillTipDialog.lh",TransferRecordDialog:"scenes/hero/TransferRecordDialog.lh",InviteConfimDialog:"scenes/airdrop/InviteConfimDialog.lh",ApplyConfimDialog:"scenes/airdrop/ApplyConfimDialog.lh",CreateSubWalletDialog:"scenes/scholarship/CreateSubWalletDialog.lh",WalletChooseHeroDialog:"scenes/scholarship/WalletChooseHeroDialog.lh",WalletChoosePropsDialog:"scenes/scholarship/WalletChoosePropsDialog.lh",EmployInfoDialog:"scenes/scholarship/EmployInfoDialog.lh",HireDetailDialog:"scenes/asset/HireDetailDialog.lh",ProxyDetailDialog:"scenes/asset/ProxyDetailDialog.lh",WithDrawRecordDialog:"scenes/asset/WithDrawRecordDialog.lh",NodeRevenueRecordDialog:"scenes/asset/NodeRevenueRecordDialog.lh",WithdrawDialog:"scenes/asset/WithdrawDialog.lh",DepositDialog:"scenes/asset/DepositDialog.lh",CreateClubDialog:"scenes/club/CreateClubDialog.lh",CreateClubRoomDialog:"scenes/club/CreateClubRoomDialog.lh",SettingRateDialog:"scenes/club/SettingRateDialog.lh",ReferralDialog:"scenes/createRole/ReferralDialog.lh",BuyPropDialog:"scenes/shop/BuyPropDialog.lh",JoinRoomDialog:"scenes/mainView/JoinRoomDialog.lh",SnakeUpgradeDialog:"scenes/knapsack/SnakeUpgradeDialog.lh",SnakeUpgradeSuccessDialog:"scenes/knapsack/SnakeUpgradeSuccessDialog.lh",PlayerUpgradeSuccessDialog:"scenes/mainView/PlayerUpgradeSuccessDialog.lh",ChangeClubHeadDialog:"scenes/club/ChangeClubHeadDialog.lh",JoinClubRoomDialog:"scenes/club/JoinClubRoomDialog.lh"};this.m_objConfigReource={};this.m_commonResource=new Ne;this.loadingView=Laya.Browser.window.loadingView;this.ii=100;this.baseUrl="https://cdn.snake.ai/snake/"}static getInstance(){return Wt._instance==null&&(Wt._instance=new Wt),Wt._instance}init(){Laya.loader.on(Laya.Event.ERROR,this,this.onError),this.initGameLanguage()}initGameLanguage(){Wt.GameLanguage_URL="config/language.json",Laya.loader.load(Wt.GameLanguage_URL,Laya.Handler.create(this,this.initGameResource))}initGameResource(e){if(e==null)return;let t=Wt.getInstance().getResBySetURL(Wt.GameLanguage_URL);P.initLanTypes(t.data),Laya.loader.clearRes(Wt.GameLanguage_URL),this.onConfigLoaded()}onError(e){}onConfigLoaded(){let e=new ln;e.ID=4,e.Event="",Qe.sendCustumEvent(4,null,e),re.ignoreLang||(U.m_strLanguage=P.getLanIdByType(re.User_Lan)),this.m_UILang="config/lang_english"+U.m_strLanguage+".json",this.m_NomalLang="config/english"+U.m_strLanguage+".json",this.m_NomalLang1="config/english1.json",this.m_ErrorLang="config/error"+U.m_strLanguage+".json",this.m_arrPreResource.push(this.m_UILang),this.m_arrPreResource.push(this.m_NomalLang),this.m_arrPreResource.push(this.m_NomalLang1),this.m_arrPreResource.push(this.m_ErrorLang),this.initResourceURL(this.m_arrPreResource,!0),this.initResourceURL(this.m_arrInitResource,!0),this.addFont1()}addFont1(){Laya.loader.load("res/font/CookieRun Regular.otf",Laya.Loader.TTF).then(()=>{this.loadDemoResource()})}loadDemoResource(){Laya.loader.load(this.resArr,null,Laya.Handler.create(this,this.onPreAssetPress1,null,!1)).then(()=>{lt.init(),this.damageNumPrefab=Laya.loader.getRes("scenes/match/DamageNumber.lh"),this.aniSkPrefab=Laya.loader.getRes("scenes/hero/AniSk.lh"),this.roleAniPrefab=Laya.loader.getRes("scenes/match/MatchSnakeSpr.lh"),this.matchSnakeBodyPrefab=Laya.loader.getRes("scenes/match/MatchSnakeBodySpr.lh"),this.matchSnakeBeanPrefab=Laya.loader.getRes("scenes/match/MatchSnakeBeanSpr.lh");var e=this.roleAniPrefab.create();console.log(" ================ roleAniPrefab: "+e);var t=this.matchSnakeBodyPrefab.create();console.log(" ================ snakeBodyPrefab: "+t),this.onLoadThreeDimen()})}onLoadThreeDimen(){Laya.loader.load(this.m_arrPreResource,Laya.Handler.create(this,this.onPreAssetLoaded),Laya.Handler.create(this,this.onPreAssetPress2,null,!1))}onPreAssetPress1(e){this.va=(e*100*.5).toFixed(0),this.loadingView&&this.va<100&&this.va>this.m_iPrecess&&this.loadingView.loading(this.va)}onPreAssetPress2(e){this.va=(e*100*.5+.5).toFixed(0),this.loadingView&&this.va<100&&this.va>this.m_iPrecess&&this.loadingView.loading(this.va)}onPreAssetLoaded(e){if(!e)return;let t=Laya.Browser.now();Em.initSpotCfgData(),this.initResourceURL(this.m_objModuleReource),this.initResourceURL(this.m_objConfigReource),Qe.sendCustumEvent(5),q.preInit(),this.setGlobalLanguage(),Qe.sendCustumEvent(6),k.event(w.EVENT_BACK_TO_LOGIN),this.loadingView&&this.loadingView.loading(100),console.log("-----------------------preload-time:"+(Laya.Browser.now()-t))}setGlobalLanguage(){let e=Wt._instance.getResByURL(this.m_NomalLang);P.initConfigLan(e.data);let t=Wt._instance.getResByURL(this.m_NomalLang1);P.initConfigLan1(t.data);let r=Wt._instance.getResByURL(this.m_UILang);P.initUILan(r.data);let s=Wt._instance.getResByURL(this.m_ErrorLang);Zt.initErrData(s.data),this.clearResUrlByRoot(this.m_UILang,!0),this.clearResUrlByRoot(this.m_NomalLang,!0),this.clearResUrlByRoot(this.m_NomalLang1,!0),this.clearResUrlByRoot(this.m_ErrorLang,!0)}initResourceURL(e,t=!1){if(e instanceof Array)this.setResURLArr(e,t);else if(e instanceof Object)for(let r in e)this.setResURLArr(e[r],t)}setResURLArr(e,t){let r,s;for(let o=0;o<e.length;o++)t?(this.m_commonResource.set(e[o],!0),s=this.setResURL(e[o]),r=this.getTypeFromUrl(s),e[o]={url:s,type:r,size:1,priority:1}):this.m_commonResource.get(e[o])?(e.splice(o,1),o--):(s=this.setResURL(e[o]),r=this.getTypeFromUrl(s),e[o]={url:s,type:r,size:1,priority:1})}getTypeFromUrl(e){let{ext:t,typeId:r,main:s,loaderType:o}=Laya.Loader.getURLInfo(e);Wt._extReg.lastIndex=e.lastIndexOf(".");let l=Wt._extReg.exec(e);return l&&l.length>1?l[1].toLowerCase():"text"}setResURL(e){return e}clearResUrlByRoot(e,t=!1){let r=e;Laya.loader.clearRes(r)}hasFormatEffectUrl(e){return e.indexOf("effect/")>=0}setItemResURL(e){return e&&e.hasOwnProperty("item_img")?this.setResURL("icon/"+e.item_img+".png"):""}setThreeDimenUrl(e){return e?this.setResURL("threeDimen/"+e):""}getThreeDimenUrl(e){let t=this.setResURL("threeDimen/"+e);return Laya.Loader.getRes(t)}getResByURL(e){let t=Wt.getInstance().setResURL(e);return Laya.Loader.getRes(t)}getResBySetURL(e){return Laya.Loader.getRes(e)}loadModuleUrl(e,t=null,r=null,s=1,o=!0){console.log("loadModuleUrl m_strName: "+e),this.ii++;let l=Wt.getInstance().m_objModuleReource[e];if(l==null||l.length<1){t.run();return}Laya.loader.load(l,Laya.Handler.create(this,this.loadItemComplete,[t,l]),Laya.Handler.create(this,this.onLoadProgress,[e],!1),r,s,o,this.ii.toString())}loadItemComplete(e,t){this.usedUrlDic||(this.usedUrlDic=new Ne);for(let r in t){let s=t[r].url,o=this.usedUrlDic.get(s);o?this.usedUrlDic.set(s,++o):this.usedUrlDic.set(s,1)}e.run()}clearModuleUrl(e){console.log("clearModuleUrl m_strName: "+e);let t=Wt.getInstance().m_objModuleReource[e];for(let r in t){let s=t[r].url;if(this.usedUrlDic){let o=this.usedUrlDic.get(s);o-=1,o<1?(this.usedUrlDic.remove(s),Laya.loader.clearRes(s)):this.usedUrlDic.set(s,o)}}}onLoadProgress(e,t){}loadResource(e,t=null,r=null,s=null,o=1,l=!0){Laya.loader.load(e,t,r,s,o,l)}getNodeIcon(e){return this.setResURL("gameIcon/node/img_"+e+".png")}getCountryIcon(e){return this.setResURL("gameIcon/country/img_"+e+".png")}getSnakeHeadIcon(e){return(e==0||e=="0")&&console.error("id is 0"),this.setResURL("gameIcon/snakeMatch/snakes/img_head"+e+".png")}getCurrencyIcon(e){return`https://static.cryptoarena.io/images/token/token_${e}.png`}getSnakeBodyIcon(e){return this.setResURL("gameIcon/snakeMatch/snakes/img_body"+e+".png")}getFoodIcon(e){return this.setResURL("gameIcon/snakeMatch/foods/img_"+e+".png")}getShopItemIcon(e){return this.setResURL("res/shop/img_"+e+".png")}getItemIcon(e){return`https://static.cryptoarena.io/images/item/img_${e}.png`}getSnakeIcon(e){return`https://static.cryptoarena.io/images/snake/snake_${e}.png`}getItemBgIcon(e){return this.setResURL("gameIcon/items/itemBg/img_"+e+".png")}getItemBigIcon(e){return this.setResURL("gameIcon/items/itemBig/img_"+e+".png")}getItemBigBigIcon(e){return this.setResURL("gameIcon/items/itemBigBig/img_"+e+".jpg")}getItemQualityIcon(e){return this.setResURL("gameIcon/items/itemQuality/img_"+e+".png")}getMoneyIcon(e){return this.setResURL("gameIcon/items/money/img_"+e+".png")}getMatchSkillIcon(e){return this.setResURL("gameIcon/skill/matchSkills/img_"+e+".png")}getSnakeAniJson(e){return this.setResURL(`gameIcon/spine/shop/snake${e}/img_she_${e}.json`)}getPlayerIcon(e){return parseInt(e)>0?this.setResURL("gameIcon/head/headCircle/img_"+e+".png"):e}getClubIcon(e){return`https://static.cryptoarena.io/images/club/img_clubIcon_${e}.png`}getSoundURL(e,t=".ogg"){let r;return r=this.setResURL("mp3/"+e+t),r}getSoundURLogg(e){let t;return t=this.setResURL("mp3/"+e),t}getMapImg(e){return"gameIcon/map/"+e+"/img_map.jpg"}getHeroSkRes(){}getMapPrefab(e){return"gameIcon/map/map_"+e+".lh"}clearCache(){}};Wt._extReg=/\.(\w+)\??/g;var sx=Wt,J=sx.getInstance();var De=class i extends Laya.DialogManager{constructor(){super();this.views=new Ne;this.m_arrLoadingArr=[];if(i._instance)throw new Error("LayerManager,new.");i._instance=this,Laya.Dialog.manager=this}static get intance(){return i._instance||(i._instance=new i),i._instance}openModule(t,r=null){k.event(w.EVENT_OPEN_MODULE,[t,r])}hasOpenView(t){return this.views.get(t)!=null}getOpenView(t){return this.views.get(t)}disposeView(t,r){if(this.getOpenView(t)){let s=this.getOpenView(t);if(s instanceof Array)for(let o=0;o<s.length;o++)s[o].close(r);else s.close(r)}}init(){k.on(w.EVENT_OPEN_MODULE,this,this.onModulePanel),k.on(w.EVENT_CLOSE_MODULE,this,this.disposeView)}initMainView(){}onModulePanel(t,r=null){console.log("ModuleManager.onModulePanel moudleName:"+t),this.m_arrLoadingArr.indexOf(t)==-1&&(this.getOpenView(t)||(lt.showLoading(!1),this.m_arrLoadingArr.push(t),J.loadModuleUrl(t,Laya.Handler.create(this,this.onLoaded,[t,r]))))}onLoaded(t,r=null){let s=this.m_arrLoadingArr.indexOf(t);s!=-1&&this.m_arrLoadingArr.splice(s,1);let o;var l=J.m_objModuleViews[t];console.log("onLoaded: ",t,l),Laya.loader.load(l).then(u=>{if(o=u.create(),r&&o.setOpenData(r),o.m_strName=t,this.getOpenView(t)){console.log("Module already open, skipping creation:",t),o.hideLoadingBySelf||lt.hideLoading();return}if(o instanceof Laya.Box)o=o,Z.instence.addToLayer(o,o.m_iLayerType),Z.instence.setPosition(o,o.m_iPositionType,o.m_ioffsetX,o.m_ioffsetY),this.addViewToModuleManger(o);else if(o instanceof Laya.Dialog){let p=o;p.m_iLayerType==Z.M_POP?(p.isModal=!0,p.isShowEffect=!0,this.open(p,!1,!0)):(p.isShowEffect=!1,this.open(p)),this.addViewToModuleManger(p)}o&&k.event(w.EVENT_MODULE_ADDED,o),o.hideLoadingBySelf||lt.hideLoading()}).catch(u=>{console.error("onLoaded ",u)})}addViewToModuleManger(t){let r=t.m_strName;this.views.get(r)?this.views.get(r)instanceof Array?this.views.get(r).push(t):this.views.set(r,[this.views.get(r),t]):this.views.set(r,t),this.on(Laya.Event.CLOSE,this,this.removeViewFromModuleManger)}removeViewFromModuleManger(t){if(!t||!this.views)return;let r=t.m_strName;console.log("removeViewFromModuleManger viewName: "+r),t.off(Laya.Event.CLOSE,this,this.removeViewFromModuleManger);let s=this.views.get(r);if(s instanceof Array){let o=s.indexOf(t);o!=-1&&(s.splice(o,1),s.length==0&&this.views.remove(r))}else this.views.remove(r)}closeAll(){super.closeAll()}doClose(t){super.doClose(t),this.event(Laya.Event.CLOSE,t)}};var ox=class i{constructor(){this._inited=!1;this.stopAll=!1;this.roomWatcher=!1;this.matchWatcher=!1;this.heroReadyDic=new Ne;this.hasDieEnd=!1;this.frameIndex=0;this.rotateSpeed=500;this.speedRate=1;this.speed=6;this.time=0;this.dir=0;this.aimDir=0;this.bones=[it.create(0,0)];this.init()}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){this._inited||(this._inited=!0)}get roomDto(){return this._roomDto}set roomDto(e){if(console.log("roomDto: ",e),this._roomDto=e,e){var t=U.playerDto.pid;if(e.watch){let r=e.watch.some(s=>s===t);this.roomWatcher=r}}}setRoomAnonymousLabel(e,t=-1){return t==-1&&(t=i._instance.roomDto.anonymous),t==1?Dr.ANONYMOUS_NAME:e}setMatchAnonymousLabel(e,t=-1){return t==-1&&(t=i._instance.matchDto.anonymous),!this.matchWatcher&&t==1?Dr.ANONYMOUS_NAME:e}setMatchAnonymousImg(e,t=-1){return t==-1&&(t=i._instance.matchDto.anonymous),!this.matchWatcher&&t==1?null:e}get matchDto(){return this._matchDto}set matchDto(e){if(console.log("matchDto: ",e),this._matchDto=e,e){var t=U.playerDto.pid;if(e.watch){let r=e.watch.some(s=>s===t);this.matchWatcher=r}e.startTime-e.nowTime>0?this.stopAll=!0:this.stopAll=!1}else this.stopAll=!1}setMatchRes(){this.heroReadyDic=new Ne;var e=this.roomDto.members.length,t=[],r=this.currArenaItem.mapid;if(this.heroReadyDic.get("map_"+r)==null){var r=i._instance.currArenaItem.mapid,s=J.getMapImg(r);t.push(s);var o=J.getMapPrefab(r);t.push(o),this.heroReadyDic.set("map_"+r,!0)}for(var l=0;l<e;l++){var u=this.roomDto.members[l];this.heroReadyDic.get(u.heroId+"_"+u.heroColor)==null&&this.heroReadyDic.set(u.heroId+"_"+u.heroColor,!0)}t.length>0&&Laya.loader.load(t,null,Laya.Handler.create(this,this.onPreAssetPress1,null,!1)).then(()=>{})}onPreAssetPress1(e){}async checkMatchRankData(){if(this.reward==null){let e=await St.requestPost("wxgame/room/balanceInfo",{roomId:i._instance.matchDto.roomId});this.onGoMatchEndRank(e)}}onAiSetMatchEnd(e){this.msgEndbody=e,k.event(w.EVENT_GameScene_Gray),je.isMatching=!1,i._instance.stopAll=!0,De.intance.openModule(L.MatchEndView,[Pe.ARENA_TYPE_PVE,e])}onSetMatchEnd(e,t=!1){Te.frameNetQueue.isStart=!1,this.msgEndbody=e,this.hasDieEnd||t?(k.event(w.EVENT_GameScene_Gray),this.onGoMatchEndRank(this.msgEndbody),this.hasDieEnd=!1):Laya.timer.once(4e3,this,this.checkSnake)}onMockMatchEnd(){Laya.timer.clear(this,this.checkSnake),this.msgEndbody?(k.event(w.EVENT_GameScene_Gray),this.onGoMatchEndRank(this.msgEndbody)):this.hasDieEnd=!0}checkSnake(){ie.getInstance().selfSnake&&ie.getInstance().selfSnake.isAlive(!1)&&(ie.getInstance().selfSnake.die(),k.event(w.EVENT_GameScene_Gray),this.onGoMatchEndRank(this.msgEndbody))}onGoMatchEndRank(e){je.isMatching=!1,i._instance.stopAll=!0,De.intance.openModule(L.MatchEndView,[Pe.ARENA_TYPE_PVP,e])}clearData(){console.log("clearData ",this.reward),this.roomDto=null,this.matchDto=null,this.reward=null,this.msgEndbody=null,this.hasDieEnd=!1,this.heroReadyDic=null,this.currArenaItem=null,this.roomWatcher=!1,this.matchWatcher=!1,je.close(),ie.getInstance().clear(),gt.clear(),Laya.Pool.clearBySign(Or.POOL_NAME),Laya.Pool.clearBySign(Rr.POOL_NAME),Ri.destroy(),Xe.playMusicByName(Xe.soundName_bg,".mp3"),hi.needPop=!0,ys.startShow()}initMove(){return;var e,t,r,s}toAimDir(e){this.time=0,this.aimDir=e;var t=ft.getAngleToVec(e);console.log("TEST==== ",e,"",t.x,t.y);for(var r=0;r<260;r++)this.move(null)}move(e){this.time++,this.frameIndex++;for(let s=0;s<this.speedRate;s++){let o=this.aimDir-this.dir,l=this.rotateSpeed*X.snake.defaultMoveInterval;if(Math.abs(o)<l)this.dir=this.aimDir;else{o=(o+360)%360,o>180&&(o-=360);var t=Math.abs(o)<l?o:l*(o>0?1:-1);this.dir+=t,this.dir>=360&&(this.dir-=360),this.dir<0&&(this.dir+=360)}let u=this.dir*Math.PI/180,p=it.create(Math.cos(u),Math.sin(u));var r=this.bones[0].add(p.mul(this.speed));this.bones[0].assign(r),console.log("TEST==== ",""+this.time+"",this.bones[0].x,this.bones[0].y,"frameIndex: "+this.frameIndex)}}},Ee=ox.getInstance();var ft=class i{constructor(){}static judgePosition(e,t){let r=Math.atan2(t,e)*180/Math.PI;return r<0&&(r+=360),Math.floor(r)}static normalizeAngle(e){return e=e%360,e<0&&(e+=360),e}static distancePoint(e,t,r,s){return Math.sqrt((e-r)*(e-r)+(t-s)*(t-s))}get2D_Distance(e,t){return Math.sqrt(Math.pow(Math.abs(e),2)+Math.pow(Math.abs(t),2))}static rollCharacterByDir(e,t,r,s){let o=r;return i.rollCharacter(e,t,o,s)}static rollCharacter(e,t,r,s){let o=r*(Math.PI/180);var l=e+s*Math.cos(o),u=t+s*Math.sin(o),p=Ee.currArenaItem.mapid,m=q.m_dicMaps.get(p),d=m.offset;return l<d?l=d:l>m.width-d&&(l=m.width-d),u<d?u=d:u>m.height-d&&(u=m.height-d),console.log(`X=${l}, Y=${u}`),[l,u]}static getRandomPointInMap(){var e=Ee.currArenaItem.mapid,t=q.m_dicMaps.get(e),r=t.width,s=t.height,o=t.offset;let l=Math.floor(Math.random()*(r-2*o))+o,u=Math.floor(Math.random()*(s-2*o))+o;return{x:l,y:u}}static createDirectPath(e,t,r,s=40,o=25){for(var l=[],u=r*Math.PI/180,p=1;p<s;++p){var m=e,d=t+o*p,f=-(d-t)*Math.sin(u)+e,g=(d-t)*Math.cos(u)+t;l.push(f,g)}return l}static pointsBack(e,t){if(t<=0||!e||e.length<4)return e;for(var r=0,s=-1,o=-1,l=0;l<e.length;l+=2){var u=e[l],p=e[l+1];s>0&&o>0&&(r+=this.distancePoint(s,o,u,p)),s=u,o=p}if(r<t)return null;for(var m=e.concat(),d=0,f=0;m&&m.length>=4&&d<t;){var g=m.pop(),y=m.pop(),x=m[m.length-1],E=m[m.length-2];if(d+=this.distancePoint(E,x,y,g),f=d-t,f>0){var _=Math.atan2(x-g,E-y),S=_*180/Math.PI+90;_=S*Math.PI/180;var M=x+f,O=-(M-x)*Math.sin(_)+E,j=(M-x)*Math.cos(_)+x;m.push(O,j)}}return m}static createLinePath(e,t,r,s,o=25,l=0){var u=[],p=Math.atan2(s-t,r-e);p=(p*180/Math.PI-90)*Math.PI/180;for(var m=this.distancePoint(e,t,r,s)-l,d=0,f=0;m>d;){var g=e,y=t+o*f,x=-(y-t)*Math.sin(p)+e,E=(y-t)*Math.cos(p)+t;d=this.distancePoint(e,t,x,E),m>d&&u.push(x,E),f++}return l==0&&u.push(r,s),u}static rolePosTransform(e,t,r){var s=new Laya.Matrix;return s.rotate(Math.PI/180*(e.modelAngle-90)),s.translate(t.x,t.y),s.transformPoint(r)}static pointtInPolygon(e,t){for(var r=0,s=0;s<t.length;s++){var o=t[s],l=t[(s+1)%t.length];if(o.y!=l.y&&!(e.y<Math.min(o.y,l.y))&&!(e.y>=Math.max(o.y,l.y))){var u=(e.y-o.y)*(l.x-o.x)/(l.y-o.y)+o.x;u>e.x&&r++}}return r%2==1}static pointInPie(e,t,r,s,o,l){var u=Math.atan2(l.y-t,l.x-e)*180/Math.PI,p=this.distancePoint(e,t,l.x,l.y);return u>=r&&u<=s&&p<=o}static getRandInRound(e,t){return Math.floor(Math.random()*(t-e+1))+e}static getUnitVector(e){let r=e*(Math.PI/180),s=1*Math.cos(r),o=1*Math.sin(r);return new Laya.Point(s,o)}static getAngleToVec(e){let t=e*Math.PI/180,r=Math.cos(t),s=Math.sin(t);return it.create(r,s)}static subtract(e,t){let r=new Laya.Point;return r.x=e.x-t.x,r.y=e.y-t.y,r}static getDistance(e,t){let r=e.x-t.x,s=e.y-t.y;return Math.sqrt(r*r+s*s)}static calculateDistance(e,t){let r=e.x-t.x,s=e.y-t.y;return Math.sqrt(r*r+s*s)}static lerp(e,t,r){return e+(t-e)*r}static fromBigToSmall(e,t){var r=e*185/X.mapSize.width,s=t*185/X.mapSize.height;return[r,s]}};var{regClass:BC}=Laya,kt=Laya.InputManager,zu=class extends Laya.Script{constructor(){super(...arguments);this.currRockerBar=null;this.maxDistance=80;this.isMouseDown=!1;this.mouseDownPosition=new Laya.Point;this._currentMouse=new Laya.Point;this.initRockerBarPosition=new Laya.Point;this.key1Pressed=!1;this.key2Pressed=!1;this.key3Pressed=!1;this.key4Pressed=!1;this.key5Pressed=!1;this.key6Pressed=!1;this.key7Pressed=!1;this.key8Pressed=!1;this.keySpacePressed=!1;this.directionOffset=0;this.isKeyRun=!1}onEnable(){Laya.InputManager.multiTouchEnabled=!0}onStart(){this.currRockerBar=this.owner.getChildByName("freebar"),this.freetrack=this.owner.getChildByName("freetrack"),this.img_arrow_left=this.freetrack.getChildByName("img_arrow_left"),this.img_arrow_right=this.freetrack.getChildByName("img_arrow_right"),this.img_arrow_up=this.freetrack.getChildByName("img_arrow_up"),this.img_arrow_down=this.freetrack.getChildByName("img_arrow_down"),Laya.Browser.onPC?this.freetrack.visible=!0:this.img_arrow_left.visible=this.img_arrow_right.visible=this.img_arrow_up.visible=this.img_arrow_down.visible=!1,this.initialise()}initialise(){this.initRockerBarPosition.setTo(this.currRockerBar.x,this.currRockerBar.y),this.currRockerBar.on(Laya.Event.MOUSE_DOWN,this,this.onMouseDown),Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.onMouseMove),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onMouseUp)}onSkillKeyDown(t,r,s){switch(t.stopPropagation(),r){case 1:this.key1Pressed=s;break;case 2:this.key2Pressed=s;break;case 3:this.key3Pressed=s;break}}onMouseDown(t){Ee.stopAll||(t.stopPropagation(),this.isMouseDown=!0,this.currRockerBar.selected=!0,Laya.Browser.onPC||(this.freetrack.visible=!0),this.mouseDownPosition.setTo(this.owner.mouseX,this.owner.mouseY),console.log("onMouseDown this.owner.mouse: ",this.owner.mouseX,this.owner.mouseY),this.isKeyRun=!1,this.touchId=t.touchId)}onMouseUp(t){!this.isMouseDown||t.touchId!==this.touchId||this.endClick(t)}endClick(t){this.isMouseDown=!1,this.currRockerBar.x=this.initRockerBarPosition.x,this.currRockerBar.y=this.initRockerBarPosition.y,this.currRockerBar.selected=!1,this.setDir(-4),this.touchId=-1}onMouseMove(t){if(!this.isMouseDown||!this.currRockerBar||t.touchId!==this.touchId)return;t.stopPropagation(),this._currentMouse.setTo(t.stageX,t.stageY);let r=this.owner.globalToLocal(this._currentMouse,!1),s=r.x-this.mouseDownPosition.x,o=r.y-this.mouseDownPosition.y;if(Math.sqrt(s**2+o**2)<this.maxDistance)this.currRockerBar.x=this.initRockerBarPosition.x+s,this.currRockerBar.y=this.initRockerBarPosition.y+o;else{let u=Math.atan2(s,o);this.currRockerBar.x=Math.sin(u)*this.maxDistance+this.initRockerBarPosition.x,this.currRockerBar.y=Math.cos(u)*this.maxDistance+this.initRockerBarPosition.y}if(Math.abs(s)>this.directionOffset||Math.abs(o)>this.directionOffset){let u=ft.judgePosition(s,o);this.setDir(u)}}onUpdate(){Ee.stopAll||this.getKeyboardPressed()}setDir(t){this.lastDirection!=t&&(ie.getInstance().setMyHeroDirection(t),this.lastDirection=t)}getKeyboardPressed(){if(kt.hasKeyDown(Laya.Keyboard.W)&&kt.hasKeyDown(Laya.Keyboard.A)?(this.isKeyRun=!0,this.setDir(225)):kt.hasKeyDown(Laya.Keyboard.W)&&kt.hasKeyDown(Laya.Keyboard.D)?(this.isKeyRun=!0,this.setDir(315)):kt.hasKeyDown(Laya.Keyboard.S)&&kt.hasKeyDown(Laya.Keyboard.A)?(this.isKeyRun=!0,this.setDir(135)):kt.hasKeyDown(Laya.Keyboard.S)&&kt.hasKeyDown(Laya.Keyboard.D)?(this.isKeyRun=!0,this.setDir(45)):kt.hasKeyDown(Laya.Keyboard.W)?(this.isKeyRun=!0,this.setDir(270)):kt.hasKeyDown(Laya.Keyboard.D)?(this.isKeyRun=!0,this.setDir(0)):kt.hasKeyDown(Laya.Keyboard.S)?(this.isKeyRun=!0,this.setDir(90)):kt.hasKeyDown(Laya.Keyboard.A)?(this.isKeyRun=!0,this.setDir(180)):this.isKeyRun&&this.setDir(-4),kt.hasKeyDown(Laya.Keyboard.H)||kt.hasKeyDown(Laya.Keyboard.NUMPAD_1)){if(this.key1Pressed)return;this.key1Pressed=!0,k.event(w.EVENT_CLICK_NUM,1),Laya.timer.once(500,this,this.notKey1Pressed)}if(kt.hasKeyDown(Laya.Keyboard.J)||kt.hasKeyDown(Laya.Keyboard.NUMPAD_2)){if(this.key2Pressed)return;this.key2Pressed=!0,k.event(w.EVENT_CLICK_NUM,2),Laya.timer.once(500,this,this.notKey2Pressed)}if(kt.hasKeyDown(Laya.Keyboard.K)||kt.hasKeyDown(Laya.Keyboard.NUMPAD_3)){if(this.key3Pressed)return;this.key3Pressed=!0,k.event(w.EVENT_CLICK_NUM,3),Laya.timer.once(500,this,this.notKey3Pressed)}if(kt.hasKeyDown(Laya.Keyboard.L)||kt.hasKeyDown(Laya.Keyboard.NUMPAD_4)){if(this.key4Pressed)return;this.key4Pressed=!0,k.event(w.EVENT_CLICK_NUM,4),Laya.timer.once(500,this,this.notKey4Pressed)}if(kt.hasKeyDown(Laya.Keyboard.M)||kt.hasKeyDown(Laya.Keyboard.NUMPAD_5)){if(this.key5Pressed)return;this.key5Pressed=!0,k.event(w.EVENT_CLICK_NUM,5),Laya.timer.once(500,this,this.notKey5Pressed)}if(kt.hasKeyDown(Laya.Keyboard.N)||kt.hasKeyDown(Laya.Keyboard.NUMPAD_6)){if(this.key6Pressed)return;this.key6Pressed=!0,k.event(w.EVENT_CLICK_NUM,6),Laya.timer.once(500,this,this.notKey6Pressed)}if(kt.hasKeyDown(Laya.Keyboard.B)||kt.hasKeyDown(Laya.Keyboard.NUMPAD_7)){if(this.key7Pressed)return;this.key7Pressed=!0,k.event(w.EVENT_CLICK_NUM,7),Laya.timer.once(500,this,this.notKey7Pressed)}if(kt.hasKeyDown(Laya.Keyboard.V)||kt.hasKeyDown(Laya.Keyboard.NUMPAD_8)){if(this.key8Pressed)return;this.key8Pressed=!0,k.event(w.EVENT_CLICK_NUM,8),Laya.timer.once(500,this,this.notKey8Pressed)}if(kt.hasKeyDown(Laya.Keyboard.SPACE)){if(this.keySpacePressed)return;this.keySpacePressed=!0,k.event(w.EVENT_CLICK_SPACE,!0)}else this.keySpacePressed&&(k.event(w.EVENT_CLICK_SPACE,!1),this.notKeySpacePressed(),Laya.timer.clear(this,this.notKeySpacePressed))}notKey1Pressed(){this.key1Pressed=!1}notKey2Pressed(){this.key2Pressed=!1}notKey3Pressed(){this.key3Pressed=!1}notKey4Pressed(){this.key4Pressed=!1}notKey5Pressed(){this.key5Pressed=!1}notKey6Pressed(){this.key6Pressed=!1}notKey7Pressed(){this.key7Pressed=!1}notKey8Pressed(){this.key8Pressed=!1}notKeySpacePressed(){this.keySpacePressed=!1}getKeyPressed(t){var r=t.toParentPoint(new Laya.Point(t.x,t.y));return r.x>t.x&&r.x<t.x+t.width&&r.y>t.y&&r.y<t.y+t.height}getDistance(t,r,s,o){let l=t-s,u=r-o;return Math.sqrt(l*l+u*u)}onDisable(){Laya.InputManager.multiTouchEnabled=!1}};zu=N([BC("7cTqWb35RwygSkuWy4QkgQ")],zu);var Sn=class Sn extends Laya.ColorFilter{constructor(e=null){super(e)}static addClickFilter(e){let t=e.filters||[];t.push(Sn.clickFilter),e.filters=t}static addHoverFilter(e){let t=e.filters||[];t.push(Sn.hoverFilter),e.filters=t}static clearClickFilter(e){let t=e.filters;if(t!=null&&t.length>0){for(let r=t.length-1;r>-1;r--)t[r]instanceof Sn&&t.splice(r,1);e.filters=t}}static clearHoverFilter(e){this.clearClickFilter(e)}};Sn.clickFilter=new Sn([1,0,0,0,-34,0,1,0,0,-34,0,0,1,0,-34,0,0,0,1,0]),Sn.hoverFilter=new Sn([1,0,0,0,-34,0,1,0,0,-34,0,0,1,0,-34,0,0,0,1,0]);var Ei=Sn;var{regClass:DC,property:OC}=Laya,$a=class extends Laya.Script{constructor(){super();this.noSound=!1}onEnable(){this.owner.on(Laya.Event.MOUSE_DOWN,this,this.onDown),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onUp)}onDown(){this.noSound||Xe.playSoundByName(Xe.soundName_hit),Ei.addClickFilter(this.owner)}onUp(){Ei.clearClickFilter(this.owner)}onDisable(){Ei.clearClickFilter(this.owner),this.owner.off(Laya.Event.MOUSE_DOWN,this,this.onDown),Laya.stage.off(Laya.Event.MOUSE_UP,this,this.onUp)}};N([OC({type:"boolean"})],$a.prototype,"noSound",2),$a=N([DC("cL1AmqOiTHmtQWKayPNcTA")],$a);var{regClass:NC,property:Une}=Laya,wn=class extends Laya.Script{constructor(){super(...arguments);this.currentValue=0;this.targetValue=100;this.duration=2;this.dataMode=1}onAwake(){}startIncrement(t,r=2,s=1){this.targetValue=t,this.duration=r,this.dataMode=s,this.currentValue=0,this.updateText(),Laya.Tween.to(this,{currentValue:this.targetValue,update:new Laya.Handler(this,this.updateText)},this.duration*1e3,Laya.Ease.linearIn,null,null,!0)}updateText(){this.dataMode==1?this.owner.value=Math.round(this.currentValue).toString():this.dataMode==3?this.owner.value=vt.format(this.currentValue,":",!1):this.owner.value=this.currentValue.toFixed(2)}onDestroy(){Laya.Tween.clearAll(this)}};wn=N([NC("Uq3IEB9CSNSU6R4gjfo1lw")],wn);var Rg=class extends Laya.Scene{};var{regClass:FC}=Laya,Bg=class extends Rg{constructor(){super(...arguments);this.liveNum=0;this.lastSeedRate=0;this.SnakeAINum=5;this.snakeAIArr=[]}onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onOpened(t){var r=Ee.matchDto.startTime-Ee.matchDto.nowTime;r>0&&De.intance.openModule(L.MatchReadyView);var s=Ee.matchDto.arenaId,o=q.m_dicArenaDic.get(s);Ee.currArenaItem=o,this.list_rank.array=[];var l=this.map_1001;Ri.gameMap=l,Ri.img_smallMap=this.img_smallMap,Qe.sendCustumEvent(42);var u=Ee.matchDto.roomId;u||(u=0),this.arenaNo.text="",this.init(),this.onInitEnd(this),this.playMusic(),this.closeReady()}closeReady(){De.intance.disposeView(L.MatchReadyView)}playMusic(){Xe.playMusicByURL("mp3/battle.mp3"),hi.needPop=!1}init(){this.registerEvents(),this.btn_addSpeed.on(Laya.Event.MOUSE_DOWN,this,this.onTouchSpeedDown),this.btn_addSpeed.on(Laya.Event.MOUSE_UP,this,this.onTouchSpeedUp),this.btn_addSpeed.on(Laya.Event.MOUSE_OUT,this,this.onTouchSpeedUp),ds.init(this.gameLayer),ds.createData(),ds.startGame()}onTouchSpeedDown(t){if(t){var r=t.type;t.stopPropagation(),console.log("onTouchSpeedDown "+t.type)}this.lastSeedRate!=X.snakeSpeedRate.speedUp&&(this.lastSeedRate=X.snakeSpeedRate.speedUp,ie.getInstance().updateSpeedRate(X.snakeType.SELF,X.snakeSpeedRate.speedUp))}onTouchSpeedUp(t){if(t){var r=t.type;t.stopPropagation(),console.log("onTouchSpeedUp "+t.type),Ei.clearClickFilter(t.target)}this.lastSeedRate!=X.snakeSpeedRate.default&&(this.lastSeedRate=X.snakeSpeedRate.default,ie.getInstance().updateSpeedRate(X.snakeType.SELF,X.snakeSpeedRate.default))}onSpaceClick(t){t?(this.onTouchSpeedDown(null),Ei.addClickFilter(this.btn_addSpeed)):(this.onTouchSpeedUp(null),Ei.clearClickFilter(this.btn_addSpeed))}onInitEnd(t){t.startGameLoop(),t.updateBattleCD()}startGameLoop(){Laya.timer.frameLoop(10,this,this.gameLoop)}registerEvents(){k.on(w.LENGTH_CHANGE,this,this.updateLength),k.on(w.KILL_SNAKE,this,this.updateKills)}removeEvents(){k.off(w.LENGTH_CHANGE,this,this.updateLength),k.off(w.KILL_SNAKE,this,this.updateKills)}gameLoop(){ie.getInstance().selfSnake&&ie.getInstance().selfSnake.tag&&(this.updateLength(ie.getInstance().selfSnake.getSkinLength(!1)),this.updateKills(ie.getInstance().selfSnake.tag.kills),this.updateSnakeLengthRule()),ie.getInstance().matchHeroSprDic&&(this.list_rank.array=this.getSortPlayer(ie.getInstance().matchHeroSprDic.values),this.tf_remainer.text=this.liveNum+"")}updateSnakeLengthRule(){var t=ie.getInstance().selfSnake.tag.snakeId,r=ie.getInstance().selfSnake.getSkinLength(!1),s=q.getSheetDataByMultiKey(q.m_dicSnakeLengthRules,[t,r]),o=q.getSheetDataByMultiKey(q.m_dicSnakeLengthRules,[t,r+1]),l=ie.getInstance().selfSnake.getScore(!1);if(s&&o){var u=l-s.accumulatePoints,p=o.accumulatePoints-s.accumulatePoints;this.text_score.text=`${u}/${p}`;var m=u/p*-180;m<-180?m=-180:m>0&&(m=0),this.img_socre_mask.rotation>m?Laya.Tween.to(this.img_socre_mask,{rotation:m},100):(Laya.Tween.clearAll(this.img_socre_mask),this.img_socre_mask.rotation=m,this.img_socre_mask.rotation=m)}}updateKills(t){this.text_kill.text=`${t}`}updateLength(t){this.text_length.text=`${t}`}getSortPlayer(t){let s=t.slice().sort((u,p)=>p.getScore(!1)-u.getScore(!1)),o=[];this.liveNum=0;let l=1;return s.forEach(u=>{u.rankNum=l,u.tag!=null&&this.liveNum++,u.tag!=null&&(l<=10?o.push(u):u.tag.roleId===U.playerDto.pid&&(o.length>=10?o.splice(-1,1,u):o.push(u))),l++}),o}updateBattleCD(){Ee.matchCoolDownTime=Math.round(Ee.matchDto.remainderCd/1e3),Ee.matchCoolDownTime>0?(this.onSetCoolTime(),Laya.timer.loop(1e3,this,this.onSetCoolTime)):Laya.timer.clear(this,this.onSetCoolTime)}onSetCoolTime(){this.tf_reduceTime.text=vt.format(Ee.matchCoolDownTime,":",!1),Ee.matchCoolDownTime>=0?(this.tf_reduceTime.text=vt.format(Ee.matchCoolDownTime,":",!1),Ee.matchCoolDownTime<=10&&this.scaleEffect(),Ee.stopAll||Ee.matchCoolDownTime--):(Laya.timer.clear(this,this.onSetCoolTime),Yi.onPveEnd())}scaleEffect(){var t=this;Laya.Tween.to(this.tf_reduceTime,{scaleX:1.3,scaleY:1.3},200,Laya.Ease.linearInOut,Laya.Handler.create(this,function(){Laya.Tween.to(t.tf_reduceTime,{scaleX:1,scaleY:1},200,Laya.Ease.linearInOut)}))}onGameSceneGray(){this.matchBox.gray=!0,Laya.timer.once(1e3,this,this.stopUpdate)}stopUpdate(){ds.endTimer()}onEnable(){k.on(w.EVENT_GameScene_Gray,this,this.onGameSceneGray),k.on(w.EVENT_CLICK_SPACE,this,this.onSpaceClick),Laya.stage.on(Laya.Event.FOCUS,this,this.onWindowFocus),Laya.stage.on(Laya.Event.KEY_DOWN,this,this.onKeyDown)}onKeyDown(t){t.keyCode===Laya.Keyboard.X&&qi.getInstance().toggleVisible()}onWindowFocus(){}onDisable(){this.stopUpdate(),k.off(w.EVENT_GameScene_Gray,this,this.onGameSceneGray),k.off(w.EVENT_CLICK_SPACE,this,this.onSpaceClick),Laya.stage.off(Laya.Event.KEY_DOWN,this,this.onKeyDown),this.removeEvents(),Laya.stage.off(Laya.Event.FOCUS,this,this.onWindowFocus),Laya.timer.clearAll(this),ds.clear(),Ee.clearData()}};Bg=N([FC("xqHhdUJURkuoCmI0OKh8Kg")],Bg);var Dg=class extends Laya.Image{};var{regClass:PC}=Laya,Og=class extends Dg{constructor(){super(...arguments);this.minScale=1;this.maxScale=1.2;this.minDuration=800;this.maxDuration=1200}init(t){this.skin=J.getFoodIcon(t.icon)}startScalingAnimation(){let t=this.minScale+Math.random()*(this.maxScale-this.minScale),r=this.minDuration+Math.random()*(this.maxDuration-this.minDuration);Laya.Tween.to(this,{scaleX:t,scaleY:t},r,null,Laya.Handler.create(this,()=>{let s=this.minScale+Math.random()*(1-this.minScale),o=this.minDuration+Math.random()*(this.maxDuration-this.minDuration);Laya.Tween.to(this,{scaleX:s,scaleY:s},o,null,Laya.Handler.create(this,this.startScalingAnimation))}),-1,!0)}onDisable(){Laya.Tween.clearAll(this)}};Og=N([PC("j4yWA5APT7ipho7IOx4ryg")],Og);var Ng=class extends Laya.Scene{};var{regClass:UC}=Laya,Fg=class extends Ng{constructor(){super(...arguments);this.liveNum=0;this.lastSeedRate=0;this.SnakeAINum=5;this.snakeAIArr=[]}onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onOpened(t){this.list_rank.array=[];var r=this.map_1001;Ri.gameMap=r,Ri.img_smallMap=this.img_smallMap;var s=Ee.roomDto.roomId;s||(s=0),this.arenaNo.text="",this.init(),this.playMusic()}playMusic(){Xe.playMusicByURL("mp3/battle.mp3"),hi.needPop=!1}init(){this.registerEvents(),this.btn_addSpeed.on(Laya.Event.MOUSE_DOWN,this,this.onTouchSpeedDown),this.btn_addSpeed.on(Laya.Event.MOUSE_UP,this,this.onTouchSpeedUp),this.btn_addSpeed.on(Laya.Event.MOUSE_OUT,this,this.onTouchSpeedUp),Qi.init(this.gameLayer)}onTouchSpeedDown(t){if(t){var r=t.type;t.stopPropagation(),console.log("onTouchSpeedDown "+t.type)}this.lastSeedRate!=X.snakeSpeedRate.speedUp&&(this.lastSeedRate=X.snakeSpeedRate.speedUp,ie.getInstance().updateSpeedRate(X.snakeType.SELF,X.snakeSpeedRate.speedUp))}onTouchSpeedUp(t){if(t){var r=t.type;t.stopPropagation(),console.log("onTouchSpeedUp "+t.type),Ei.clearClickFilter(t.target)}this.lastSeedRate!=X.snakeSpeedRate.default&&(this.lastSeedRate=X.snakeSpeedRate.default,ie.getInstance().updateSpeedRate(X.snakeType.SELF,X.snakeSpeedRate.default))}onSpaceClick(t){t?(this.onTouchSpeedDown(null),Ei.addClickFilter(this.btn_addSpeed)):(this.onTouchSpeedUp(null),Ei.clearClickFilter(this.btn_addSpeed))}startGameLoop(){Laya.timer.frameLoop(10,this,this.gameLoop)}registerEvents(){k.on(w.LENGTH_CHANGE,this,this.updateLength),k.on(w.KILL_SNAKE,this,this.updateKills)}removeEvents(){k.off(w.LENGTH_CHANGE,this,this.updateLength),k.off(w.KILL_SNAKE,this,this.updateKills)}gameLoop(){ie.getInstance().selfSnake&&ie.getInstance().selfSnake.tag&&(this.updateLength(ie.getInstance().selfSnake.getSkinLength(!0)),this.updateKills(ie.getInstance().selfSnake.tag.kills),this.updateSnakeLengthRule()),ie.getInstance().matchHeroSprDic&&(this.list_rank.array=this.getSortPlayer(ie.getInstance().matchHeroSprDic.values),this.tf_remainer.text=this.liveNum+"")}updateSnakeLengthRule(){var t=ie.getInstance().selfSnake.tag.snakeId,r=ie.getInstance().selfSnake.getSkinLength(!0),s=q.getSheetDataByMultiKey(q.m_dicSnakeLengthRules,[t,r]),o=q.getSheetDataByMultiKey(q.m_dicSnakeLengthRules,[t,r+1]),l=ie.getInstance().selfSnake.getScore(!0);if(s&&o){var u=l-s.accumulatePoints,p=o.accumulatePoints-s.accumulatePoints;this.text_score.text=`${u}/${p}`;var m=u/p*-180;m<-180?m=-180:m>0&&(m=0),this.img_socre_mask.rotation>m?Laya.Tween.to(this.img_socre_mask,{rotation:m},100):(Laya.Tween.clearAll(this.img_socre_mask),this.img_socre_mask.rotation=m,this.img_socre_mask.rotation=m)}}updateKills(t){this.text_kill.text=`${t}`}updateLength(t){this.text_length.text=`${t}`}onInitData(){Qi.createData(),Qi.startGame(),this.startGameLoop(),this.updateBattleCD(),De.intance.disposeView(L.MatchReadyView,"must")}onRestoreData(){Qi.clearTimer(),Qi.restoreData(),Qi.startGame()}getSortPlayer(t){let s=t.slice().sort((u,p)=>p.getScore(!0)-u.getScore(!0)),o=[];this.liveNum=0;let l=1;return s.forEach(u=>{u.rankNum=l,u.tag!=null&&this.liveNum++,u.tag!=null&&(l<=10?o.push(u):u.tag.roleId===U.playerDto.pid&&(o.length>=10?o.splice(-1,1,u):o.push(u))),l++}),o}updateBattleCD(){Ee.matchCoolDownTime=Math.round((Ee.matchDto.myPlayerObject.oprTime-Ee.matchDto.myPlayerObject.enterTime)/1e3),this.onSetCoolTime(),Laya.timer.loop(1e3,this,this.onSetCoolTime)}onSetCoolTime(){this.tf_reduceTime.text=vt.format(Ee.matchCoolDownTime,":",!1),Ee.stopAll||Ee.matchCoolDownTime++}checkMatchRankData(){Ee.checkMatchRankData()}onGameSceneGray(){this.matchBox.gray=!0,Laya.timer.once(1e3,this,this.stopUpdate)}stopUpdate(){je.close(),Qi.endTimer()}onEnable(){k.on(w.EVENT_PVP_INIT_DATA,this,this.onInitData),k.on(w.EVENT_PVP_RESTORE_DATA,this,this.onRestoreData),k.on(w.EVENT_GameScene_Gray,this,this.onGameSceneGray),k.on(w.EVENT_CLICK_SPACE,this,this.onSpaceClick),Laya.stage.on(Laya.Event.FOCUS,this,this.onWindowFocus),Laya.stage.on(Laya.Event.KEY_DOWN,this,this.onKeyDown)}onKeyDown(t){t.keyCode===Laya.Keyboard.X&&qi.getInstance().toggleVisible()}onWindowFocus(){Te.frameNetQueue.sendRestoreData()}onDisable(){this.stopUpdate(),k.off(w.EVENT_PVP_INIT_DATA,this,this.onInitData),k.off(w.EVENT_PVP_RESTORE_DATA,this,this.onRestoreData),k.off(w.EVENT_GameScene_Gray,this,this.onGameSceneGray),k.off(w.EVENT_CLICK_SPACE,this,this.onSpaceClick),Laya.stage.off(Laya.Event.KEY_DOWN,this,this.onKeyDown),this.removeEvents(),Laya.stage.off(Laya.Event.FOCUS,this,this.onWindowFocus),Laya.timer.clearAll(this),Qi.clear(),Ee.clearData()}};Fg=N([UC("0r0gyiRERf6yXTGaGqWBvg")],Fg);var Pg=class extends Laya.Box{};var{regClass:HC}=Laya,Ug=class extends Pg{constructor(){super()}set dataSource(t){super.dataSource=t,this.setData(t),this.addEvent()}addEvent(){this.btn_deposit.on(Laya.Event.CLICK,this,this.onDeposit),this.btn_withdraw.on(Laya.Event.CLICK,this,this.onWithdraw)}setData(t){t?(this.data=t,this.tf_coinNum.text=`${t.balance}`,this.tf_freeze.text=`${t.frozen}`,this.tf_prize.text=`${t.price}`,this.tf_valu.text=`${t.valuation}`,this.img_coin.skin=J.getCurrencyIcon(t.symbolId),this.img_coin.visible=!0,this.tf_coin.text=t.symbol,t.withdraw?this.btn_withdraw.visible=!0:this.btn_withdraw.visible=!1,t.recharge?this.btn_deposit.visible=!0:this.btn_deposit.visible=!1):this.visible=!1}onDeposit(){De.intance.openModule(L.DepositDialog,this.data)}onWithdraw(){De.intance.openModule(L.WithdrawDialog,this.data)}};Ug=N([HC("oDHEPtPLT9SboHGJIeNVbA")],Ug);var Hg=class extends Laya.Scene{};var It=class{static startCircleAnimation(e,t=Laya.stage.width/2,r=Laya.stage.height/2,s=200,o=5e3,l=!0,u=0,p){Laya.Tween.clearTween(e);let m=e.x,d=e.y,f=0,g=l?1:-1,y=0,x=.5,E=2e3,_=0,S=()=>{_+=16;let M=1+Math.sin(_*Math.PI*2/E)*x;f+=360/o*16*M*g;let O=f*Math.PI/180;e.x=t+Math.cos(O)*s,e.y=r+Math.sin(O)*s,Math.abs(f)>=360&&(f=f%360,y++,u>0&&y>=u&&(Laya.timer.clear(e,S),e.x=m,e.y=d,p&&p.run()))};Laya.timer.frameLoop(1,e,S)}static stopCircleAnimation(e){Laya.timer.clearAll(e),Laya.Tween.clearTween(e)}static startCircleAnimationWithSpeedControl(e,t=Laya.stage.width/2,r=Laya.stage.height/2,s=200,o=5e3,l=!0,u=0,p=.5,m=2e3,d){Laya.Tween.clearTween(e);let f=e.x,g=e.y,y=0,x=l?1:-1,E=0,_=0,S=()=>{_+=16;let M=1+Math.sin(_*Math.PI*2/m)*p;y+=360/o*16*M*x;let O=y*Math.PI/180;e.x=t+Math.cos(O)*s,e.y=r+Math.sin(O)*s,Math.abs(y)>=360&&(y=y%360,E++,u>0&&E>=u&&(Laya.timer.clear(e,S),e.x=f,e.y=g,d&&d.run()))};Laya.timer.frameLoop(1,e,S)}static startRotationAnimation(e,t=2e3,r=!0){this.stopRotationAnimation(e);let s="rotation_"+Date.now().toString(),o=r?1:-1,l=360/t*16*o,u=()=>{e.rotation=(e.rotation+l)%360},p="updateRotation_"+s;return e[p]=u,e.rotationAnimationId=s,Laya.timer.frameLoop(1,e,u),s}static stopRotationAnimation(e){if(e.rotationAnimationId){let t="updateRotation_"+e.rotationAnimationId,r=e[t];r?Laya.timer.clear(e,r):Laya.timer.clearAll(e),delete e.rotationAnimationId,r&&delete e[t]}}static startElasticPopupAnimation(e,t=150,r=1.1,s=100,o=.95,l=80,u){Laya.Tween.clearAll(e),e.scale(0,0),e.visible=!0,Laya.Tween.to(e,{scaleX:r,scaleY:r},t,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:o,scaleY:o},s,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1},l,Laya.Ease.linearNone,u)}))}))}static stopElasticPopupAnimation(e){Laya.Tween.clearAll(e)}static startLinearShrinkAnimation(e,t=80,r){Laya.Tween.clearAll(e),Laya.Tween.to(e,{scaleX:0,scaleY:0},t,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{e.visible=!1,r&&r.run()}))}static startJellyScaleAnimation(e,t=1.2,r=120,s=.85,o=90,l=80,u){Laya.Tween.clearAll(e),e.scale(1,1),e.visible=!0,Laya.Tween.to(e,{scaleX:t,scaleY:t},r,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:s,scaleY:s},o,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1},l,Laya.Ease.linearNone,u)}))}))}static playSpineAnimation(e,t=!1,r){let s=e.getChildByName("box_sk");return s?(s.play(null,t),r&&(s.once(Laya.Event.COMPLETE,null,()=>{r()}),t&&r()),!0):(console.warn("box_sk Spine"),!1)}};var{regClass:zC}=Laya,En=class extends Hg{constructor(){super(...arguments);this.m_currentTabIndex=0}onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onEnable(){this.btn_back&&this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),this.list_Record.visible=!1,this.btn_back_Record.on(Laya.Event.CLICK,this,this.openRecord,[!1]),this.btn_detail.on(Laya.Event.CLICK,this,this.openRecord,[!0]),k.on(w.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate),k.on(w.UPDATE_ASSETS,this,this.onUpdateAssets),k.on("msg_"+b.snake.socket.MessageType.MSG_CHARGE_RECORD,this,this.onChargeRecord),k.on("msg_"+b.snake.socket.MessageType.MSG_WITHDRAW_RECORD,this,this.onWithdrawRecord),this.list_asset.visible=!1,mt.requestCoinInfo(),It.startJellyScaleAnimation(this.tf_tittle);for(let t=0;t<2;t++)this["tab"+t].on(Laya.Event.CLICK,this,this.onTabClick,[t,!1])}onDisable(){k.off(w.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate),k.off(w.UPDATE_ASSETS,this,this.onUpdateAssets),k.off("msg_"+b.snake.socket.MessageType.MSG_CHARGE_RECORD,this,this.onChargeRecord),k.off("msg_"+b.snake.socket.MessageType.MSG_WITHDRAW_RECORD,this,this.onWithdrawRecord),this.btn_detail.off(Laya.Event.CLICK,this,this.openRecord,[!0]),this.btn_back_Record.off(Laya.Event.CLICK,this,this.openRecord)}onUpdateAssets(){mt.requestCoinInfo()}onTokenBalanceUpdate(t){this.showAssetData(t)}showAssetData(t){this.list_asset.array=t,this.list_asset.visible=!0;let r=this.calculateTotalValue(t);this.tf_total.text=`${r} USDT`}calculateTotalValue(t){try{return t.reduce((r,s)=>{let o=s.balance,l=s.price;return isNaN(o)||isNaN(l)?r:r+o*l},0)}catch(r){return console.error(":",r),0}}setToMainScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}openRecord(t){this.box_record.visible=t,this.box_all.visible=!t,t?this.onTabClick(this.m_currentTabIndex,!0):this.list_Record.visible=!1}onTabClick(t,r=!1){if(this.m_currentTabIndex===t&&!r)return;this.m_currentTabIndex=t;let s=2,o="res/common/comm/img_tab1.png",l="res/common/comm/img_tab2.png",u="#427030",p="#1449cb";for(let m=0;m<s;m++){let d=this[`tab${m}`],f=d.getChildByName("tf_tit"),g=t===m;if(d.skin=g?o:l,f.strokeColor=g?u:p,g)switch(En.isDepositRecord=t===0,t){case 0:ve.send(b.snake.socket.MessageType.MSG_CHARGE_RECORD);break;case 1:ve.send(b.snake.socket.MessageType.MSG_WITHDRAW_RECORD);break}}}onChargeRecord(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_CHARGE_RECORD);r==b.snake.socket.MessageCode.SYS_NORMAL&&(this.list_Record.array=s.resp||[],this.list_Record.visible=!0)}onWithdrawRecord(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_WITHDRAW_RECORD);r==b.snake.socket.MessageCode.SYS_NORMAL&&(this.list_Record.array=s.resp||[],this.list_Record.visible=!0)}};En.isDepositRecord=!0,En=N([zC("vDn8r-QeS5KzEmJcMsoY8w")],En);var zg=class extends Laya.Dialog{};var ax=class i{constructor(){this.assets_contract=null;this.startRecharge=!1}static getInstance(){return i._instance||(i._instance=new i),i._instance}async init(){typeof window.ethereum>"u"||(k.on(w.EVENT_RECHARGE_GET,this,this.rechargeEnd),this.assets_contract=new window.web3.eth.Contract(jt.WITHDRAW_AND_RECHARGE_ABI,jt.WITHDRAW_AND_RECHARGE_ADDRESS))}async depositWallet(e,t){if(lt.showLoading(!0),!await Ge.allowanceAddressByTokenAddress(jt.WITHDRAW_AND_RECHARGE_ADDRESS,e)){lt.hideLoading(),Me.notice(P.getLanguage(23));return}return t=window.web3.utils.toWei(t+""),await this.assets_contract.methods.recharge(e.toLowerCase(),t).send({from:Ge.walletAddress},(s,o)=>{if(s)return lt.hideLoading(),!1}),!0}async rechargeToken(e){try{let{amount:t,token:r,rechargeAddress:s,decimals:o=18,abi:l}=e;if(r!==jt.ADDRESS0&&!await Ge.newAllowanceAddress(s,r))return lt.hideLoading(),Me.notice(P.getLanguage(23)),!1;let u=i1(t+"",o),p="depositToken",m;!r||r==jt.ADDRESS0?m=await Ge.walletClient.writeContract({account:Ge.walletAddress,address:s,abi:l,functionName:"depositETH",value:u,args:[100001]}):m=await Ge.walletClient.writeContract({account:Ge.walletAddress,address:s,abi:l,functionName:p,args:[r,u,100001]}),this.startRecharge=!0,Laya.timer.once(6e4,this,this.clearRecharge);let d,f=!1;if(d=await Ge.publicClient.waitForTransactionReceipt({hash:m,pollingInterval:1e3}),d&&d.status=="success"||f){if(!this.startRecharge)return;Laya.timer.clear(this,this.clearRecharge),console.log(`Tx successful with hash: ${m}`);let y=[await Ge.walletClient.getChainId(),m];return lt.hideLoading(),m}else{lt.hideLoading(),ae.TransactionErrorTip();return}}catch(t){lt.hideLoading(),console.log(t),t instanceof Error?t.message.includes("does not match the target chain for the transaction")?k.event(w.CHANGE_ASSET_CHAIN):console.log("Error message does not contain the specified character."):console.log("An error occurred, but it is not an instance of Error.")}}async getReward(e,t){let r=await St.requestPost("wxgame/sys/payCallPack",{chainId:e,hashId:t});if(r&&r.coin){Laya.timer.clear(this,this.clearRecharge);let o=r.coin[0];if(!o)return;k.event(w.UPDATE_LOCAL_WALLET_LIST_EVENT);var s=new Ka;s.id=o[0],s.count=o[1],lt.hideLoading(),De.intance.openModule(L.RewardGetDialog,[s]),this.rechargeEnd()}}rechargeEnd(){U.rechargeEnd=!1,Laya.timer.clear(this,this.getReward)}clearRecharge(){this.startRecharge=!1,lt.hideLoading(),Me.notice(P.getLanguage(45)),this.rechargeEnd()}},Kw=ax.getInstance();var{regClass:jC}=Laya,jg=class extends zg{constructor(){super();this.btnLock=!1}onEnable(){k.on("msg_"+b.snake.socket.MessageType.MSG_CHARGE,this,this.onRequestChargeInfo),this.btn_confirm.on(Laya.Event.CLICK,this,this.onbtnConfirm),this.rechargeCode.on(Laya.Event.INPUT,this,this.testRechargeCodeInput)}setOpenData(t){this.tf_adress.text=st.shortenString(Ge.walletAddress,6,4),this.data=t,this.tf_web.text=t.chainName,this.tf_token.text=t.symbol,console.log("data",t),this.requestChargeInfo()}requestChargeInfo(){let t=b.snake.socket.MessageType.MSG_CHARGE,r=this.data.symbolId,s=b.snake.socket.CS_CHARGE.fromObject({symbolId:r});ve.send(t,s)}onRequestChargeInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_CHARGE);r==b.snake.socket.MessageCode.SYS_NORMAL&&(console.log("SC_CHARGE",s),this.rechargeData=s,this.setDepositData(s))}async setDepositData(t){let r=await Ge.walletClient.getChainId(),s=Number(t.chainId);try{if(r!==s&&!await Ge.switchChain(s)){await Ge.addChain(s)&&this.setDepositData(t);return}let o=await Ge.getBalance2(this.data.tokenAddress),l=this.data.decimals,u=jn(o,l);this.tf_rest.text=`${st.truncateToTwoDecimalPlaces(Number(u))}`,console.log("tokenBalance",o)}catch(o){console.log("",o)}}async onbtnConfirm(){if(this.btnLock)return;this.btnLock=!0,Laya.timer.once(2e3,this,()=>{this.btnLock=!1}),this.testRechargeCodeInput();let t=Number(this.tf_rest.text),r=Number(this.rechargeCode.text),s=await Ge.walletClient.getChainId(),o=Number(this.data.chainId);try{if(s!==o&&!await Ge.switchChain(o)){await Ge.addChain(o)&&this.onbtnConfirm();return}}catch(m){console.log("",m)}if(!r){di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(53),Fe.YES);return}if(t<r){di.AlertByType(Fe.BASEALERTVIEW,P.getLanguage(54),Fe.YES);return}lt.showLoadingByInfo();let l=JSON.parse(this.rechargeData.abi);console.log(l);let u={amount:r,token:this.data.tokenAddress,rechargeAddress:this.rechargeData.depositAddress,decimals:this.data.decimals,abi:l};await Kw.rechargeToken(u)&&(this.getRestCoin(this.data.tokenAddress),U.rechargeEnd=!0)}testRechargeCodeInput(){let t=this.rechargeCode.text;if(t){if(!/^[0-9]+\.?[0-9]*$/.test(t)){let s="";for(let o=0;o<t.length;o++){let l=t.charAt(o);(l>="0"&&l<="9"||l==="."&&s.indexOf(".")===-1)&&(s+=l)}this.rechargeCode.text=s}t.length>1&&t.startsWith("0")&&t.charAt(1)!=="."&&(this.rechargeCode.text=t.substring(1))}}async getRestCoin(t){try{let r=await Ge.getBalance2(t);if(r){let s=jn(r,this.data.decimals);this.tf_rest.text=`${st.truncateToTwoDecimalPlaces(Number(s))}`}lt.hideLoading()}catch(r){console.error("",r),lt.hideLoading()}}onDisable(){k.off("msg_"+b.snake.socket.MessageType.MSG_CHARGE,this,this.onRequestChargeInfo),this.rechargeCode.off(Laya.Event.INPUT,this,this.testRechargeCodeInput)}};jg=N([jC("O0v8EHpMT0-wWgB8t3D14A")],jg);var Gg=class extends Laya.Dialog{};var{regClass:GC}=Laya,Vg=class extends Gg{constructor(){super()}onEnable(){this.list_champ.visible=!1}onDisable(){}};Vg=N([GC("y0xiZs-qSDWRAXN_oE10yg")],Vg);var Wg=class extends Laya.Box{};var{regClass:VC}=Laya,Kg=class extends Wg{constructor(){super()}set dataSource(e){if(super.dataSource=e,!e){this.visible=!1;return}let t=JSON.parse(e),{createTime:r,coinType:s,amount:o}=t,{date:l,time:u}=vt.formatDayAndTime(r);this.tf_time.text=`${l}  ${u}`,this.img_coinType.skin=J.getMoneyIcon(s),this.tf_amounte.text=`${o}`,this.tf_token.text=`${t.symbol}`,this.tf_operate.text=En.isDepositRecord?"Deposit":"Withdraw";let p=this.parent?.parent?.array?.indexOf(e)??0;this.img_bg.visible=p%2===1}};Kg=N([VC("tbS8gPlOTWuMdXb9g8wZAg")],Kg);var $g=class extends Laya.Dialog{};var{regClass:WC}=Laya,qg=class extends $g{constructor(){super();this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER;this.btnLock=!1;this.withDrawData=null;this.withdrawText=null}onEnable(){k.on("msg_"+b.snake.socket.MessageType.MSG_WITHDRAW,this,this.onRequestWithdraw),k.on("msg_"+b.snake.socket.MessageType.MSG_WITHDRAW_INFO,this,this.onRequestChargeInfo),k.on(w.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate),this.btn_withdraw.on(Laya.Event.CLICK,this,this.onBtnWithdraw),this.withdrawText=this.withdrawCode.prompt,this.withdrawCode.on(Laya.Event.INPUT,this,this.testRechargeCodeInput)}setOpenData(t){this.data=t,this.showWithDrawData(t),this.requestChargeInfo(),console.log("data",t)}async showWithDrawData(t){let r=Ge.walletAddress;this.tf_address.text=st.shortenString(r,6,4),this.tf_token.text=t.symbol,this.tf_web.text=t.chainName,this.tf_appAmount.text=`${t.balance}`}requestChargeInfo(){let t=b.snake.socket.MessageType.MSG_WITHDRAW_INFO,r=this.data.symbolId,s=b.snake.socket.CS_WITHDRAW_INFO.fromObject({symbolId:r});ve.send(t,s)}async onBtnWithdraw(){if(this.btnLock)return;this.btnLock=!0,Laya.timer.once(2e3,this,()=>{this.btnLock=!1}),this.testWithdrawCodeInput();let t=Number(this.withdrawCode.text);if(!t){Me.notice("");return}let r=Number(this.tf_appAmount.text);if(t>r){Me.notice("");return}if(t>this.withDrawData.maxLimit){Me.notice("");return}else if(t<this.withDrawData.minLimit){Me.notice("");return}lt.showLoadingByInfo();let s=b.snake.socket.MessageType.MSG_WITHDRAW,o=b.snake.socket.CS_WITHDRAW.fromObject({symbolId:this.data.symbolId,amount:t});ve.send(s,o)}onRequestWithdraw(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_WITHDRAW);if(r==b.snake.socket.MessageCode.SYS_NORMAL){Me.notice("WITHDRAW SUCCESS!!"),console.log("SC_WITHDRAW MsgBody",s);let o=JSON.parse(s.resp);console.log("resp",o),lt.hideLoading(),k.event(w.UPDATE_ASSETS)}}onRechargewithdrawCodeInput(){let t=Number(this.withdrawCode.text),r=st.isNumber(this.withdrawCode.text);(t<0||!r)&&this.withdrawCode.text!==this.withdrawText&&(this.withdrawCode.text="0");let s=st.multiplyWithPrecision(this.withDrawData.feeRate/100,t);this.tf_arrive.text=`${st.subtractWithPrecision(t,Number(s))}`}testWithdrawCodeInput(){let t=this.withdrawCode.text;if(t&&!/^[0-9]+\.?[0-9]*$/.test(t)){this.withdrawCode.text="",Me.notice(P.getLanguage(1802));return}}onRequestChargeInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_WITHDRAW_INFO);if(r==b.snake.socket.MessageCode.SYS_NORMAL){console.log("CS_WITHDRAW_INFO",s);let o=JSON.parse(s.resp);this.withDrawData=o,console.log("resp",o),this.showWithdrawData()}}showWithdrawData(){this.tf_fee.text=`${this.withDrawData.feeRate}%`}onDisable(){k.off("msg_"+b.snake.socket.MessageType.MSG_WITHDRAW,this,this.onRequestWithdraw),k.off("msg_"+b.snake.socket.MessageType.MSG_WITHDRAW_INFO,this,this.onRequestChargeInfo),k.off(w.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate),this.withdrawCode.off(Laya.Event.INPUT,this,this.onRechargewithdrawCodeInput),this.btn_withdraw.off(Laya.Event.CLICK,this,this.onBtnWithdraw)}onTokenBalanceUpdate(t){if(!this.data||!t)return;let r=t.find(s=>s.symbolId===this.data.symbolId);r&&(this.data.balance=r.balance,this.tf_appAmount.text=`${r.balance}`)}testRechargeCodeInput(){let t=this.withdrawCode.text;if(t){if(!/^[0-9]+\.?[0-9]*$/.test(t)){let l="";for(let u=0;u<t.length;u++){let p=t.charAt(u);(p>="0"&&p<="9"||p==="."&&l.indexOf(".")===-1)&&(l+=p)}this.withdrawCode.text=l}t.length>1&&t.startsWith("0")&&t.charAt(1)!=="."&&(this.withdrawCode.text=t.substring(1))}let r=Number(this.withdrawCode.text),s=st.multiplyWithPrecision(this.withDrawData.feeRate/100,r);this.tf_arrive.text=`${st.subtractWithPrecision(r,Number(s))}`}};qg=N([WC("-G96ocIBRFacV4Xozyt5NQ")],qg);var lx=class i{constructor(){this.currentBattleSnakeUnkey=0;this.m_dicKnapsackItems=new Ne}static getInstance(){return i._instance||(i._instance=new i),i._instance}initKnapsackData(e){if(this.m_dicKnapsackItems.clear(),e&&e.length>0)for(let t=0;t<e.length;t++){let r=e[t];if(r&&r.itemId&&r.num>0){let s=new Ts;s.id=r.itemId,s.name=r.itemId;let o={item:s,num:r.num,chainId:r.itemId||0};this.m_dicKnapsackItems.set(r.itemId,o)}}}updateKnapsackItems(e){if(!(!e||e.length===0))for(let t=0;t<e.length;t++){let r=e[t];if(!(!r||!r.itemId))if(r.num<=0)this.m_dicKnapsackItems.remove(r.itemId);else{let s=this.m_dicKnapsackItems.get(r.itemId);if(s)s.num=r.num,r.chainId&&(s.pk=r.chainId);else{let o=new Ts;o.id=r.itemId,o.name=r.itemId;let l={itemId:r.itemId,num:r.num,chainId:r.chainId||0};this.m_dicKnapsackItems.set(r.itemId,l)}}}}getAllKnapsackItems(){return this.m_dicKnapsackItems?this.m_dicKnapsackItems.values:[]}getKnapsackItemById(e){return this.m_dicKnapsackItems?this.m_dicKnapsackItems.get(e):null}getKnapsackItemCount(e){let t=this.m_dicKnapsackItems.get(e);return t?t.num:0}hasKnapsackItem(e){return this.m_dicKnapsackItems.get(e)}isKnapsackItemEnough(e,t){let r=this.m_dicKnapsackItems.get(e);return r&&r.num>=t}clearKnapsackData(){this.m_dicKnapsackItems.clear()}},an=lx.getInstance();var Yg=class extends Laya.Scene{};var{regClass:KC}=Laya,Qg=class extends Yg{constructor(){super(...arguments);this.currTab=0;this.type=1;this.selectItemId=-1;this.shopId=1}onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onOpened(t){t&&t.length>0?(this.type=t[0],t[1]!=null&&(this.selectItemId=t[1]),this.onClickTab(this.type)):(this.selectItemId=1,this.onClickTab(this.selectItemId)),this.initBagInfo()}onEnable(){this.snakeList.visible=!1,this.propList.visible=!1;for(let t=1;t<3;t++)this["btn_"+t].on(Laya.Event.CLICK,this,this.onClickTab,[t]);It.startJellyScaleAnimation(this.tf_tittle),k.on("msg_"+b.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),k.on("msg_"+b.snake.socket.MessageType.MSG_PACK_INFO,this,this.onPackInfo),k.on(w.UPDATE_BAG_INFO,this,this.initBagInfo)}setTab(t){for(let r=1;r<3;r++)t==r?(this["btn_"+r].getChildByName("selectBox1").visible=!0,this["btn_"+r].getChildByName("selectBox2").visible=!1):(this["btn_"+r].getChildByName("selectBox1").visible=!1,this["btn_"+r].getChildByName("selectBox2").visible=!0)}async onClickTab(t){this.currTab!=t&&(this.type=t,this.setTab(t),t==1?(this.box_nft.visible=!0,this.box_prop.visible=!1,this.tf_nft.stroke=5,this.tf_nft.fontSize=32,this.tf_props.stroke=0,this.tf_props.fontSize=25):t==2&&(this.box_prop.visible=!0,this.box_nft.visible=!1,this.tf_nft.stroke=0,this.tf_nft.fontSize=25,this.tf_props.stroke=5,this.tf_props.fontSize=32))}setToMainScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}removeEvent(){for(let t=0;t<4;t++)this["tab"+t].off(Laya.Event.CLICK,this,this.onClickTab,[t]);for(let t=1;t<3;t++)this["btn_"+t].off(Laya.Event.CLICK,this,this.onClickTab,[t]);this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene)}onTabClick(t){let s="res/shop/img_Button_1.png",o="res/shop/img_btlv.png",l="res/shop/img_bt1_2.png",u="res/shop/img_Button_4.png",p="#009815";for(let d=1;d<3;d++){let f=this[`btn${d}`],g=f.getChildByName("tf_tit"),y=t===d,x=d===0;this.selectItemId=t,f.skin=x?y?s:l:y?o:u,g.stroke=y?5:0,g.strokeColor=p}}onBuySuccess(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_SHOP_BUY);r==b.snake.socket.MessageCode.SYS_NORMAL?s&&s.items&&Laya.Scene.open("dialog/TipsDialog",!1,{content:"!",autoClose:!0}):Laya.Scene.open("dialog/TipsDialog",!1,{content:"",autoClose:!0})}onRecruit(t=1){let r=b.snake.socket.MessageType.MSG_SHOP_BUY;var s=q.m_dicSnakes.get(this.shopId);if(console.log(s),this.shopId){let o=b.snake.socket.CS_SHOP_BUY.fromObject({id:this.shopId});ve.send(r,o)}}initBagInfo(){let t=b.snake.socket.MessageType.MSG_PACK_INFO;ve.send(t)}onPackInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_PACK_INFO);if(r===b.snake.socket.MessageCode.SYS_NORMAL){an.updateKnapsackItems(s.items);let o=s.items.find(p=>p.itemId===10001);o&&s.items.splice(s.items.indexOf(o),1),this.propList.array=s.items,this.propList.visible=!0;let l=s.snake;console.log("",l);let u={id:-999,isShopEntry:!0};this.snakeList.array=[...l,u],this.snakeList.visible=!0}}onDisable(){for(let t=1;t<3;t++)this["btn_"+t].off(Laya.Event.CLICK,this,this.onClickTab);k.off("msg_"+b.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene),k.off("msg_"+b.snake.socket.MessageType.MSG_PACK_INFO,this,this.onPackInfo),k.off(w.UPDATE_BAG_INFO,this,this.initBagInfo)}};Qg=N([KC("fGHujQp_QpOG4OhbMXNszQ")],Qg);var Xg=class extends Laya.Box{};var{regClass:$C}=Laya,Zg=class extends Xg{constructor(){super()}onEnable(){this.btn_upgrade.on(Laya.Event.CLICK,this,this.toUpGradeDialog),this.btn_battle.on(Laya.Event.CLICK,this,this.onBattleClick)}onDisable(){this.btn_upgrade.off(Laya.Event.CLICK,this,this.toUpGradeDialog),this.btn_battle.off(Laya.Event.CLICK,this,this.onBattleClick),this.box_emply.off(Laya.Event.CLICK,this,this.toShopScene),k.off("msg_"+b.snake.socket.MessageType.MSG_SNAKE_FIGHT,this,this.onBattleCallback)}set dataSource(t){if(super.dataSource=t,!t)return;if(t.isShopEntry){this.box_emply.visible=!0,this.box_nft.visible=!1,this.box_emply.hasListener(Laya.Event.CLICK)||this.box_emply.on(Laya.Event.CLICK,this,this.toShopScene);return}this.box_emply.visible=!1,this.box_nft.visible=!0,this.nftItem=t;let r=q.m_dicItems.get(this.nftItem.id);this.tf_name.text=P.getLanguage(r.name),this.img_icon.skin=J.getSnakeIcon(this.nftItem.skin||101);let s=!this.nftItem.upgrade;this.btn_upgrade.visible=!s;let o=U.playerDto.snakeId==this.nftItem.unkey;this.Img_battleState.visible=o,this.btn_battle.visible=!o,s?this.btn_battle.x=58:(this.btn_battle.x=6,this.btn_upgrade.x=o?58:111)}toUpGradeDialog(){De.intance.openModule(L.SnakeUpgradeDialog,this.nftItem)}onBattleClick(){if(!this.nftItem)return;let t=b.snake.socket.MessageType.MSG_SNAKE_FIGHT;k.off("msg_"+b.snake.socket.MessageType.MSG_SNAKE_FIGHT,this,this.onBattleCallback),k.on("msg_"+b.snake.socket.MessageType.MSG_SNAKE_FIGHT,this,this.onBattleCallback);let r=b.snake.socket.CS_SNAKE_FIGHT.fromObject({unkey:this.nftItem.unkey});ve.send(t,r)}onBattleCallback(t,r){var s=_e.getMsgBody(t,b.snake.socket.CS_SNAKE_FIGHT);console.log(s),U.playerDto.snakeId=s.unkey,k.off("msg_"+b.snake.socket.MessageType.MSG_SNAKE_FIGHT,this,this.onBattleCallback);let o=b.snake.socket.MessageType.MSG_PACK_INFO;ve.send(o)}toShopScene(){qe.setCurrentScene(ge.M_SCENE_SHOP)}};Zg=N([$C("GyHLyzIaRva11NfPDbiBfw")],Zg);var Jg=class extends Laya.Box{};var{regClass:qC}=Laya,eb=class extends Jg{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.toShowBuyDialog)}set dataSource(t){if(super.dataSource=t,this.propItem=t,!this.propItem){this.visible=!1;return}this.visible=!0;let r=q.m_dicItems.get(this.propItem.itemId);if(!r){this.visible=!1;return}this.updateUI(r)}updateUI(t){this.tf_name.text=P.getLanguage(t.name),console.log("itemItem",this.tf_name.text),this.tf_num.text=`x${this.propItem.num}`,this.img_icon.skin=J.getItemIcon(t.icon)}toShowBuyDialog(){console.log("")}};eb=N([qC("TqPcmjhTSVerr9-YhbASXA")],eb);var tb=class extends Laya.Dialog{};var{regClass:YC}=Laya,ib=class extends tb{constructor(){super();this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}onEnable(){this.backLayer.alpha=0,this.backLayer.visible=!0,Laya.Tween.to(this.backLayer,{alpha:1},200,Laya.Ease.linearIn),this.btn_upgrade.on(Laya.Event.CLICK,this,this.onUpdateClick),k.on("msg_"+b.snake.socket.MessageType.MSG_SNAKE_UPGRADE,this,this.onUpgradeCallback)}setOpenData(t){t&&(this.nftItem=t,this.initProp())}initProp(){let t=[1201,1202,1203,1204,1205],r=!0;for(let s=0;s<t.length;s++){let o=q.m_dicItems.get(t[s]);if(o){let l=this["item_"+s];if(l){let u=l.getChildByName("tf_name"),p=an.getKnapsackItemCount(t[s]);u.text=`${P.getLanguage(o.name)} x${p}`,console.log("num",p),p<1&&(r=!1)}}}}onUpdateClick(){this.close();let t=b.snake.socket.MessageType.MSG_SNAKE_UPGRADE,r=b.snake.socket.CS_SNAKE_UPGRADE.fromObject({unkey:this.nftItem.unkey});ve.send(t,r)}onUpgradeCallback(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_SNAKE_UPGRADE);if(r==b.snake.socket.MessageCode.SYS_NORMAL){s&&(k.event(w.UPDATE_BAG_INFO),De.intance.openModule(L.SnakeUpgradeSuccessDialog,s));let o=b.snake.socket.MessageType.MSG_PACK_INFO;ve.send(o)}}onDisable(){k.off("msg_"+b.snake.socket.MessageType.MSG_SNAKE_UPGRADE,this,this.onUpgradeCallback)}};ib=N([YC("K6ZKHKhaTvCBmQcFdrneHQ")],ib);var rb=class extends Laya.Dialog{};var{regClass:QC}=Laya,nb=class extends rb{constructor(){super();this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}onEnable(){this.backLayer.alpha=0,this.backLayer.visible=!0,Laya.Tween.to(this.backLayer,{alpha:1},200,Laya.Ease.linearIn),this.initProp()}setOpenData(t){if(t){let r=t.snake.attr;for(let s=0;s<r.length;s++)if(r[s]){let o=r[s].split(","),l=o[0],u=o[1];this["upgradeAwarditem_"+l].getChildByName("tf_award").text=u}}}onDisable(){}initProp(){It.startElasticPopupAnimation(this.img_di,150,1.1,100,.95,80),this.box_snake.source="gameIcon/spine/snakeUpgrade/img_shengj.json",this.box_snake.on(Laya.Event.COMPLETE,this,this.onAnimationComplete),Laya.timer.once(1300,this,this.onAnimationComplete)}onAnimationComplete(){this.box_snake.off(Laya.Event.COMPLETE,this,this.onAnimationComplete),this.box_snake.animationName==="animation1"&&this.box_snake.play("animation2",!0)}};nb=N([QC("OjPqAteAQeOIAjHFO-yihA")],nb);var sb=class extends Laya.Dialog{};var{regClass:XC}=Laya,ob=class extends sb{constructor(){super();this.destroyDoCancel=!1;this.canClose=!0}onEnable(){this.on(Laya.Event.CLICK,this,this.onClickEvent)}onClickEvent(t){let r=t.target;r.name=="okBtn"?(this._okHandler&&this._okHandler.runWith(null),this.close()):(r.name=="cancleBtn"||r.name=="btn_close")&&(this.destroyDoCancel=!1,this._cancelHandler&&this._cancelHandler.runWith(null),this.close())}setOpenData(t){t&&(this._okHandler=t.okHandler,this._cancelHandler=t.cancelHandler,this.destroyDoCancel=t.destroyDoCancel,t.flag<0?(this.cancleBtn.visible=!1,this.okBtn.visible=!1,this.canClose=!1):t.flag&Fe.YES&&!(t.flag&Fe.NO)?(this.okBtn.x=this.width-this.okBtn.width>>1,this.cancleBtn.visible=!1,this.okBtn.label="OK"):t.flag&Fe.NO&&!(t.flag&Fe.YES)?this.okBtn.visible=!1:t.flag&Fe.YES&&t.flag&Fe.NO,t.data&&this.alertDesc&&(t.data instanceof Array?(this.alertTitle.text=t.data[0],this.alertDesc.text=t.data[1]):this.alertDesc.text=t.data),t.initHandler&&t.initHandler.runWith(this))}onDisable(){this.destroyDoCancel&&this._cancelHandler&&this._cancelHandler.run(),this._okHandler=null,this._cancelHandler=null}close(t){this.canClose&&super.close(t)}};ob=N([XC("8G0DBvD7T_2CVupdfQXrBw")],ob);var ab=class extends Laya.Dialog{};var{regClass:ZC}=Laya,lb=class extends ab{constructor(){super();this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER;this.headId=0;this.headNew=0}setOpenData(t){t&&t.length>0&&(this.headId=t[0],this.headNew=t[0])}onEnable(){this.list_head.vScrollBarSkin="",this.btn_confirm.on(Laya.Event.CLICK,this,this.onChangeClubHead),this.btn_custom.on(Laya.Event.CLICK,this,this.onBtnChangePic),this.btn_close.on(Laya.Event.CLICK,this,this.close),this.initContainer()}initContainer(){this.list_head.vScrollBarSkin="",this.list_head.selectHandler=new Laya.Handler(this,this.handleSelectHead),this.createHeadList()}handleSelectHead(t){if(t!=-1){let r=this.list_head.selectedItem;this.headNew=r}}createHeadList(){let t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16];this.list_head.array=t,this.list_head.visible=!0;let r=-1,s=0;for(let o of t){if(o==this.headId){r=s;break}s++}this.list_head.selectedIndex=r}onBtnChangePic(){var t=Laya.Render.canvas.style.zIndex,r=P.getUILang("Upload picture"),s=P.getUILang("Select Image"),o=P.getUILang("Save changes");openUploadPic(this,t,r,s,o)}async openPicEnd(t,r){if(r.length>500){let s=await St.requestPost("wxgame/player/uploadImg",{base64Str:r},!1,!1);s&&(U.headId=s.imgUrl,console.log(s.imgUrl))}}onChangeClubHead(){if(this.headId===this.headNew){this.close();return}this.sendChangeInfoRequest(this.headNew)}sendChangeInfoRequest(t){let r=b.snake.socket.MessageType.MSG_CLUB_CHANGE_INFO,s=b.snake.socket.CS_CLUB_CHANGE_INFO.fromObject({type:1,value:t.toString()});ve.send(r,s),this.close()}onDisable(){this.btn_confirm.off(Laya.Event.CLICK,this,this.onChangeClubHead),this.btn_custom.off(Laya.Event.CLICK,this,this.onBtnChangePic)}};lb=N([ZC("HBE3SmMAQpGmkMrOFuAVQQ")],lb);var cb=class extends Laya.Box{};var{regClass:JC}=Laya,ub=class extends cb{constructor(){super();this.showAdd=!1;this.isAddEvent=!1}createChildren(){super.createChildren()}addEvent(){this.isAddEvent||(this.on(Laya.Event.CLICK,this,this.toDetail),this.isAddEvent=!0)}set dataSource(t){super.dataSource=t,this.playerDto=t,this.playerDto&&(this.addEvent(),this.setCurrentOutPut())}set headSkin(t){parseInt(t)>0?this.img_head.skin=J.getClubIcon(t):this.setImage(t)}async setCurrentOutPut(){if(!this.playerDto)return;let t=this.playerDto.icon;parseInt(t)>0?this.img_head.skin=J.getClubIcon(t):this.setImage(t)}setImage(t){this.clearImage();var r=this;Laya.loader.load(t,Laya.Handler.create(this,()=>{r.destroyed||(this.img_head.skin=t)}),null,Laya.Loader.IMAGE,-1,!0,"1111",!1,!1)}clearImage(){this.img_head&&(this.img_head.texture=null)}destroy(t=!0){this.clearImage(),super.destroy(t)}toDetail(){!this.playerDto||this.playerDto.needTip}};ub=N([JC("koRLgfbMQ127yxRmmRHybg")],ub);var pb=class extends Laya.Box{};var{regClass:eA}=Laya,mb=class extends pb{set dataSource(t){super.dataSource=t,this.headItem=t,this.headItem&&this.setCurrentOutPut()}async setCurrentOutPut(){let t=this.headItem;this.clubBigIcon.headSkin=t}onChange(t){}};mb=N([eA("uklnPq1ZQmOhfyUyF_6oWQ")],mb);var hb=class extends Laya.Box{};var{regClass:tA}=Laya,db=class extends hb{set dataSource(t){if(super.dataSource=t,t){console.log("ClubPropListItem",t);let r=q.m_dicItems.get(t.id);this.img_icon.skin=J.getItemIcon(r.icon),this.tf_data.text=`${P.getLanguage(r.name)}X${t.count}`}}onDisable(){}onChange(t){t?(this.selectImg.visible=!0,this.tf_data.color="#ffffff"):(this.tf_data.color="#357cc0",this.selectImg.visible=!1)}};db=N([tA("S77mjsF1RLqmnYyXCTSkVw")],db);var fb=class extends Laya.Box{};var{regClass:iA}=Laya,gb=class extends fb{constructor(){super()}createChildren(){super.createChildren()}onEnable(){this.on(Laya.Event.CLICK,this,this.onItemClick)}onDisable(){this.off(Laya.Event.CLICK,this,this.onItemClick)}onItemClick(){if(this.referralData){let t=[this.referralData.id,this.referralData.endTime,this.referralData.symbolId,this.referralData.cost,this.referralData.map,this.referralData.fruit,this.referralData.bgm];De.intance.openModule(L.JoinClubRoomDialog,t)}}set dataSource(t){if(!t)return;let r=t.split(",");super.dataSource=t,this.referralData={id:r[0],endTime:r[1],symbolId:r[2],cost:r[3],map:r[4],fruit:r[5],bgm:r[6],playerNum:r[7]},this.tf_roomId.text=this.referralData.id,this.img_coin.skin=J.getCurrencyIcon(this.referralData.symbolId);let s=this.parent?.parent?.array?.indexOf(t)??0;this.img_bg.visible=s%2===1,this.updateEndTimeDisplay();let o=mt.getTokenDataBySyId(Number(this.referralData.symbolId));o?this.tf_tickets.text=`${parseFloat(this.referralData.cost)} ${o.symbol}`:this.tf_tickets.text=`${parseFloat(this.referralData.cost)}`,this.tf_playerNum.text=`${r[7]}/30`}updateEndTimeDisplay(){this.referralData&&this.referralData.endTime&&(this.tf_endTime.text=vt.getRestTime(Math.floor(this.referralData.endTime/1e3)))}};gb=N([iA("euaIDdILQNabNW0qaF17nA")],gb);var bb=class extends Laya.Scene{};var cx=class i{constructor(){this.m_clubData=null;this.m_roomData=[];this.m_memberData=[];this.m_communityData=[]}static getInstance(){return i._instance||(i._instance=new i),i._instance}setClubData(e){e&&(this.m_clubData=e,e.rooms&&(this.m_roomData=e.rooms),e.members&&(this.m_memberData=e.members),e.community&&(this.m_communityData=e.community))}getClubData(){return this.m_clubData}getRoomData(){return this.m_roomData}setRoomData(e){e&&(this.m_roomData=e)}getMemberData(){return this.m_memberData}setMemberData(e){e&&(this.m_memberData=e)}getCommunityData(){return this.m_communityData}setCommunityData(e){e&&(this.m_communityData=e)}clearClubData(){this.m_clubData=null,this.m_roomData=[],this.m_memberData=[],this.m_communityData=[]}updateClubIcon(e){this.m_clubData&&(this.m_clubData.icon=e)}updateClubName(e){this.m_clubData&&(this.m_clubData.name=e)}},_s=cx.getInstance();var{regClass:rA}=Laya,yb=class extends bb{constructor(){super(...arguments);this.countdownTimer=null;this.roomData=[];this.profitData=[];this.roomRefreshTimer=null;this.currentProfitPage=1;this.isLoadingProfits=!1;this.hasMoreProfits=!0;this.profitPageSize=6;this.isEnteringRoom=!1}onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onEnable(){this.clubRoomList.visible=!1,this.memberMyList.visible=!1,this.memberClubList.visible=!1,this.profitList.visible=!1,this.tf_tittleProfil.text=P.getLanguage(61);let t=5;for(let s=0;s<t;s++)this["btn_"+s].on(Laya.Event.CLICK,this,this.onTabClick,[s]);this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene);let r=2;for(let s=0;s<r;s++)this["btnMember"+s].on(Laya.Event.CLICK,this,this.onMembersTabClick,[s]);this.btn_copy.on(Laya.Event.CLICK,this,this.onCopy),this.btn_createRoom.on(Laya.Event.CLICK,this,this.onCreateRoom),this.btn_playNow.on(Laya.Event.CLICK,this,this.onGoRoom),k.on("msg_"+b.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),k.on("msg_"+b.snake.socket.MessageType.MSG_CLUB_CHANGE_INFO,this,this.onClubChangeInfoResponse),k.on("msg_"+b.snake.socket.MessageType.MSG_CLUB_ROOM,this,this.onClubRoomResponse),k.on("msg_"+b.snake.socket.MessageType.MSG_QUERY_TOKEN,this,this.onRequestInfo),k.on("msg_"+b.snake.socket.MessageType.MSG_REQUEST_PROFIT,this,this.onProfitDataResponse),this.btn_changeName.on(Laya.Event.CLICK,this,this.onBtnChangeNameClick),this.btn_confirm.on(Laya.Event.CLICK,this,this.sendChangeInfoRequest),this.btn_changeHead.on(Laya.Event.CLICK,this,this.onChangeClubHead),this.btn_inviteFriend.on(Laya.Event.CLICK,this,this.onInviteFriend),this.requestClubInfo(),this.initProfitsList(),this.initProfile(),mt.getTokenData()?this.startCountdownTimer():this.requestCoinInfo(),this.startRoomRefreshTimer(),this.profitList.scrollBar.on(Laya.Event.CHANGE,this,this.onProfitListScroll),It.startJellyScaleAnimation(this.tf_tittle)}setToMainScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}onOpened(t){}removeEvent(){for(let s=0;s<5;s++)this["btn_"+s].off(Laya.Event.CLICK,this,this.onTabClick,[s]);let r=2;for(let s=0;s<r;s++)this["btnMember"+s].off(Laya.Event.CLICK,this,this.onMembersTabClick,[s]);this.btn_copy.off(Laya.Event.CLICK,this,this.onCopy),this.btn_createRoom.off(Laya.Event.CLICK,this,this.onCreateRoom),this.btn_playNow.off(Laya.Event.CLICK,this,this.onGoRoom),this.btn_changeName.off(Laya.Event.CLICK,this,this.onBtnChangeNameClick),this.btn_confirm.on(Laya.Event.CLICK,this,this.sendChangeInfoRequest),k.off("msg_"+b.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),k.off("msg_"+b.snake.socket.MessageType.MSG_CLUB_CHANGE_INFO,this,this.onClubChangeInfoResponse),k.off("msg_"+b.snake.socket.MessageType.MSG_CLUB_ROOM,this,this.onClubRoomResponse),k.off("msg_"+b.snake.socket.MessageType.MSG_REQUEST_PROFIT,this,this.onProfitDataResponse),Laya.stage.off("MSG_CLUB_INFO",this,this.onClubInfoResponse),this.clearCountdownTimer(),Laya.timer.clear(this,this.requestClubRooms),this.profitList.scrollBar.off(Laya.Event.CHANGE,this,this.onProfitListScroll)}startCountdownTimer(){this.clearCountdownTimer(),this.countdownTimer=Laya.timer.loop(1e3,this,this.updateAllCountdowns)}clearCountdownTimer(){this.countdownTimer&&(Laya.timer.clear(this,this.updateAllCountdowns),this.countdownTimer=null)}updateAllCountdowns(){for(let t=0;t<this.clubRoomList.cells.length;t++){let r=this.clubRoomList.cells[t];r&&r.updateEndTimeDisplay()}}onTabClick(t){for(let s=0;s<5;s++){let l=this[`btn_${s}`].getChildByName("tf_tittle"),u=t===s;l.stroke=u?4:0,this["btn_"+s].getChildByName("selectBox1").visible=u,this["btn_"+s].getChildByName("selectBox2").visible=!u}switch(t){case 0:this.box_room.visible=!0,this.box_member.visible=!1,this.box_myProfits.visible=!1,this.box_profile.visible=!1,this.startCountdownTimer(),this.requestClubRooms();break;case 1:this.box_room.visible=!1,this.box_member.visible=!0,this.box_myProfits.visible=!1,this.box_profile.visible=!1,this.clearCountdownTimer();break;case 2:this.box_room.visible=!1,this.box_member.visible=!1,this.box_myProfits.visible=!0,this.box_profile.visible=!1,this.clearCountdownTimer(),this.resetProfitList();break;case 3:this.box_room.visible=!1,this.box_member.visible=!1,this.box_myProfits.visible=!1,this.box_profile.visible=!0,this.clearCountdownTimer();break;default:break}}onMembersTabClick(t){for(let s=0;s<2;s++){let o=this["btnMember"+s],l=t===s;o.getChildByName("tab1").visible=l,o.getChildByName("tab2").visible=!l;let u=o.getChildByName("tf_tit");u.stroke=l?5:0,u.fontSize=l?26:24,u.color=l?"#ffffff":"#7bc6fb"}switch(t){case 0:this.myCommuityBox.visible=!0,this.clubBox.visible=!1;break;case 1:this.myCommuityBox.visible=!1,this.clubBox.visible=!0;break}}onCopy(){let t=this.tf_clubId.text;doCopy(t),Me.notice(P.getLanguage(19))}initMemberList(){this.memberMyList.array=this.community,this.memberMyList.visible=!0,this.memberClubList.array=this.memberData,this.memberClubList.visible=!0,this.tf_numberOfFriend.text=`${this.community.length}`}initProfitsList(){this.profitData=[],this.profitList.array=this.profitData,this.profitList.visible=!0,this.resetProfitList()}resetProfitList(){this.currentProfitPage=1,this.isLoadingProfits=!1,this.hasMoreProfits=!0,this.profitData=[],this.getProfitData()}onProfitListScroll(){if(this.isLoadingProfits||!this.hasMoreProfits)return;let t=this.profitList.scrollBar,r=t.value,s=t.max;s>0&&r>=s*.8&&this.loadNextProfitPage()}loadNextProfitPage(){this.isLoadingProfits=!0,this.currentProfitPage++,this.getProfitData()}getProfitData(){this.isLoadingProfits=!0;let t=new b.snake.socket.CS_REQUEST_PROFIT({pageNo:this.currentProfitPage,pageSize:this.profitPageSize}),r=b.snake.socket.MessageType.MSG_REQUEST_PROFIT;ve.send(r,t)}onProfitDataResponse(t,r){if(this.isLoadingProfits=!1,r==b.snake.socket.MessageCode.SYS_NORMAL){let s=_e.getMsgBody(t,b.snake.socket.SC_REQUEST_PROFIT);if(this.tf_totalIncome.text=s.profitTotal,this.tf_totalIncomeToday.text=s.profitToday,this.tf_battles.text=s.total,this.tf_battleCount.text=s.total,s&&s.profits&&s.profits.length>0){let o=this.profitData.length,l=s.profits.map((u,p)=>u+","+(o+p));this.profitData=this.profitData.concat(l),this.profitList.array=this.profitData}else this.hasMoreProfits=!1}else this.currentProfitPage>1&&this.currentProfitPage--}initProfile(){this.tf_createerName.text=U.playerDto.name}onCreateRoom(){De.intance.openModule(L.CreateClubRoomDialog)}onDisable(){this.removeEvent(),this.clearRoomRefreshTimer(),this.clearCountdownTimer(),_s.clearClubData(),Laya.timer.clear(this,()=>{this.isEnteringRoom=!1})}requestClubInfo(){let t=new b.snake.socket.CS_CLUB_INFO;t.point="1_00";let r=b.snake.socket.MessageType.MSG_CLUB_INFO;ve.send(r,t)}onClubInfoResponse(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_CLUB_INFO);if(r==b.snake.socket.MessageCode.SYS_NORMAL){this.clubData=s,this.roomData=s.rooms,this.memberData=s.members,this.community=s.community;let o=s.myRate;this.tf_Commission.text=`${parseFloat((o*100).toFixed(3))} %`,_s.setClubData(s),this.tf_memberNum.text=`${s.members.length}`,this.updateClubInfo(s),this.initMemberList(),U.clubCreater=s.createrId,s.createrId==U.playerDto.pid?(this.btn_createRoom.visible=!0,this.btn_changeHead.visible=!0,this.btn_playNow.y=225,this.btn_inviteFriend.y=335,this.btn_changeName.visible=!0):(this.btn_createRoom.visible=!1,this.btn_changeHead.visible=!1,this.btn_playNow.y=114,this.btn_inviteFriend.y=224,this.btn_changeName.visible=!1),this.btn_playNow.visible=!0,this.btn_inviteFriend.visible=!0}}updateClubInfo(t){let r=q.getClubById(t.type);U.clubType=t.type,this.tf_clubId.text=`${t.clubId}`,r&&(this.tf_clubType.text=P.getLanguage(r.name)),this.tf_createerName.text=`${t.creater}`,this.tf_createName.text=`${vt.getYearMonthDat(t.createTime,"/")}`,this.tf_clubName.text=`${t.name}`,this.clubIcon.headSkin=t.icon}onChangeClubHead(){De.intance.openModule(L.ChangeClubHeadDialog,[parseInt(this.clubData.icon)])}onInviteFriend(){}onClubChangeInfoResponse(t,r){var s=_e.getMsgBody(t,b.snake.socket.CS_CLUB_CHANGE_INFO);r==b.snake.socket.MessageCode.SYS_NORMAL&&(s.type==1?this.clubData&&(this.clubIcon.headSkin=s.value,_s.updateClubIcon(s.value)):s.type==2&&this.clubData&&(this.tf_clubName.text=s.value,this.nameBox.visible=!0,this.changeNameBox.visible=!1,_s.updateClubName(s.value)))}startRoomRefreshTimer(){this.clearRoomRefreshTimer(),this.roomRefreshTimer=Laya.timer.loop(1e4,this,this.requestClubRooms),this.requestClubRooms()}clearRoomRefreshTimer(){this.roomRefreshTimer&&(Laya.timer.clear(this,this.requestClubRooms),this.roomRefreshTimer=null)}requestClubRooms(){let t=b.snake.socket.MessageType.MSG_CLUB_ROOM;ve.send(t)}onClubRoomResponse(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_CLUB_ROOM);r==b.snake.socket.MessageCode.SYS_NORMAL&&(this.roomData=s.rooms,_s.setRoomData(s.rooms),this.clubRoomList.array=this.roomData,this.tf_roomCount.text=`${this.roomData.length}`,this.clubRoomList.visible=!0)}onRequestInfo(t,r){r==b.snake.socket.MessageCode.SYS_NORMAL&&this.startCountdownTimer()}requestCoinInfo(){let t=b.snake.socket.MessageType.MSG_QUERY_TOKEN;ve.send(t)}onGoRoom(){if(this.isEnteringRoom)return;if(!this.roomData||this.roomData.length===0){Me.notice(P.getLanguage(57));return}let t=mt.getTokenData();if(!t||t.length===0){Me.notice(P.getLanguage(57));return}let r=this.roomData.filter(u=>{let p=u.split(","),m=parseInt(p[2]),d=parseFloat(p[3]),f=t.find(g=>g.symbolId===m);return f&&f.balance>=d});if(r.length===0){Me.notice("");return}this.isEnteringRoom=!0;let s=Math.floor(Math.random()*r.length),l=r[s].split(",");De.intance.openModule(L.JoinClubRoomDialog,l),Laya.timer.once(3e3,this,()=>{this.isEnteringRoom=!1})}onBtnChangeNameClick(){this.nameBox.visible=!1,this.changeNameBox.visible=!0,this.input_name.text=this.tf_clubName.text}sendChangeInfoRequest(){let t=b.snake.socket.MessageType.MSG_CLUB_CHANGE_INFO,r=b.snake.socket.CS_CLUB_CHANGE_INFO.fromObject({type:2,value:this.input_name.text});ve.send(t,r)}};yb=N([rA("ONHYlGbrToqo_uNbZuaf3A")],yb);var _b=class extends Laya.Box{};var{regClass:nA}=Laya,xb=class extends _b{set dataSource(t){super.dataSource=t,t&&(this.tf_data.text=P.getLanguage(t.name))}onDisable(){}onChange(t){t?(this.selectImg.visible=!0,this.tf_data.color="#ffffff"):(this.tf_data.color="#357cc0",this.selectImg.visible=!1)}};xb=N([nA("lH_RWSpjQtuPd9t0m34t5A")],xb);var vb=class extends Laya.Dialog{};var{regClass:sA}=Laya,Ib=class extends vb{constructor(){super();this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER;this.clubType=1;this.isCreating=!1}onEnable(){this.btn_create.on(Laya.Event.CLICK,this,this.onCreate),k.on("msg_"+b.snake.socket.MessageType.MSG_CREATE_CLUB,this,this.onCreateSuccess),this.list_clubType.renderHandler=Laya.Handler.create(this,this.onTokenItemRender,null,!1),this.list_clubType.selectHandler=new Laya.Handler(this,this.handleSelectToken),this.ClubBox.on(Laya.Event.CLICK,this,this.showSelecePanel),this.btn_hideBox.on(Laya.Event.CLICK,this,this.onCloseTab),this.initCreateClubData()}initCreateClubData(){let t=q.m_dicClub.values;this.list_clubType.array=t,this.list_clubType.selectedIndex=0}onCreate(){if(this.isCreating)return;this.isCreating=!0;let t=b.snake.socket.MessageType.MSG_CREATE_CLUB,r=b.snake.socket.CS_CREATE_CLUB.fromObject({name:"CLUB",icon:"1",type:this.clubType});ve.send(t,r),Laya.timer.once(3e3,this,()=>{this.isCreating=!1})}onCreateSuccess(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_CREATE_CLUB);r==b.snake.socket.MessageCode.SYS_NORMAL?(Me.notice("Create Success"),console.log("SC_WITHDRAW MsgBody",s),U.playerDto.club=`${s.clubId}`,qe.setCurrentScene(ge.M_SCENE_CLUB,s),this.close()):r==b.snake.socket.MessageCode.NOT_ENOUGH_TOKEN?Me.notice("Not enough tokens!"):Me.notice("Create failed!")}onTokenItemRender(t,r){t&&t.onChange&&t.onChange(this.list_clubType.selectedIndex==r)}handleSelectToken(t){if(t!=-1){let r=this.list_clubType.selectedItem;this.tf_clubType.text=P.getLanguage(r.name),this.tf_maxMember.text=`${r.maxMember}`,this.tf_MaxRoom.text=`${r.maxRoom}`,this.tf_referrCommission.text=`${r.ownerCommission}`,this.tf_referralCommission.text=`${r.referalCommission}`,this.tf_points.text=`${r.fightReward}`,this.tf_dayCard.text=`${r.dailyRoom}`,this.tf_weekCard.text=`${r.weeklyRoom}`,this.tf_price.text=`${r.price} USDT`,this.clubType=r.id}this.img_club_pad.visible=!1,this.btn_hideBox.visible=!1}showSelecePanel(){this.img_club_pad.visible=!0,this.btn_hideBox.visible=!0}onCloseTab(){this.img_club_pad.visible&&(this.btn_hideBox.visible=!1,this.img_club_pad.visible=!1)}onDisable(){this.btn_create.off(Laya.Event.CLICK,this,this.onCreate),k.off("msg_"+b.snake.socket.MessageType.MSG_CREATE_CLUB,this,this.onCreateSuccess),this.ClubBox.off(Laya.Event.CLICK,this,this.showSelecePanel),this.btn_hideBox.off(Laya.Event.CLICK,this,this.onCloseTab),Laya.timer.clear(this,()=>{this.isCreating=!1})}};Ib=N([sA("7vh7JPfDTn2jn2qa3Tzn4A")],Ib);var kb=class extends Laya.Dialog{};var{regClass:oA}=Laya,Sb=class extends kb{constructor(){super();this.roomMoney=0;this.isCreating=!1;this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}onEnable(){this.btn_create.on(Laya.Event.CLICK,this,this.onCreate),this.btn_shop.on(Laya.Event.CLICK,this,this.onGoShop),this.CardBox.on(Laya.Event.CLICK,this,this.showSelecePanel),this.TokenBox.on(Laya.Event.CLICK,this,this.showTokenPanel),this.btn_hideBox.on(Laya.Event.CLICK,this,this.onCloseTab),this.btn_tip.on(Laya.Event.CLICK,this,this.onShowTip),this.ticketInput.on(Laya.Event.INPUT,this,this.testTicketMoneyInput),k.on(`msg_${b.snake.socket.MessageType.MSG_QUERY_TOKEN}`,this,this.onRequestInfo),k.on("msg_"+b.snake.socket.MessageType.MSG_PACK_INFO,this,this.onPackInfo),k.on("msg_"+b.snake.socket.MessageType.MSG_CREATE_CUSTOM_ROOM,this,this.onCreateRoomResponse),this.list_item.renderHandler=Laya.Handler.create(this,this.onTimeItemRender,null,!1),this.list_item.selectHandler=new Laya.Handler(this,this.handleSelectTime),this.list_token.renderHandler=Laya.Handler.create(this,this.onTokenItemRender,null,!1),this.list_token.selectHandler=new Laya.Handler(this,this.handleSelectToken),this.initBagInfo(),this.img_tel.visible=!1,this.btn_hideBox.visible=!1,mt.getTokenData()?this.showTokenArray(mt.getTokenData()):this.requestCoinInfo()}onTimeItemRender(t,r){t&&t.onChange&&(t.onChange(this.list_item.selectedIndex==r),this.img_card_pad.visible=!1,this.btn_hideBox.visible=!1)}handleSelectTime(t){if(t!=-1){let r=this.list_item.selectedItem,s=q.m_dicItems.get(r.id);switch(this.img_card.skin=J.getItemIcon(s.icon),this.tf_cardName.text=`${P.getLanguage(s.name)} X${r.count}`,s.id){case 1101:this.tf_maxTime.text="1 Hour";break;case 1102:this.tf_maxTime.text="1 Day";break;case 1103:this.tf_maxTime.text="1 Week";break;default:this.tf_cardName.text=`${P.getLanguage(s.name)} X${r.count}`}console.log(r)}}onCreate(){if(this.isCreating)return;if(this.roomMoney<=0){Me.notice(P.getLanguage(58));return}this.isCreating=!0;let t=this.list_item.selectedItem.id,r=new b.snake.socket.CS_CREATE_CUSTOM_ROOM({type:2,ticketId:this.list_token.selectedItem,ticketValue:this.roomMoney,map:"default",fruit:"apple",bgm:"bgm1",point:"1_00",itemId:t}),s=b.snake.socket.MessageType.MSG_CREATE_CUSTOM_ROOM;ve.send(s,r),Laya.timer.once(3e3,this,()=>{this.isCreating=!1})}onGoShop(){this.close(),qe.setCurrentScene(ge.M_SCENE_SHOP)}initBagInfo(){let t=b.snake.socket.MessageType.MSG_PACK_INFO;ve.send(t)}onPackInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_PACK_INFO);if(r===b.snake.socket.MessageCode.SYS_NORMAL){an.updateKnapsackItems(s.items);let o=[1101,1102,1103],l=[],u=!1;o.forEach(m=>{l.push({id:m,count:0})}),s.items&&s.items.length>0&&s.items.forEach(m=>{let d=o.indexOf(m.itemId);d!==-1&&(l[d].count=m.num||0)});let p=l.filter(m=>m.count>0);u=p.length>0,u?(this.btn_create.disabled=!1,this.tf_itemNo.visible=!1,this.btn_shop.visible=!1,this.CardBox.visible=!0):(this.btn_create.disabled=!0,this.tf_itemNo.visible=!0,this.btn_shop.visible=!0,this.CardBox.visible=!1),this.list_item.array=p,this.showDefaultCard(p)}}onCreateRoomResponse(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_CREATE_CUSTOM_ROOM);if(r===b.snake.socket.MessageCode.SYS_NORMAL){Me.notice(P.getLanguage(56));let o=b.snake.socket.MessageType.MSG_CLUB_ROOM;ve.send(o),this.close()}else r===b.snake.socket.MessageCode.CREATE_ROOM_MAX&&Me.notice(P.getLanguage(59))}onDisable(){this.btn_create.off(Laya.Event.CLICK,this,this.onCreate),this.btn_shop.off(Laya.Event.CLICK,this,this.onGoShop),this.btn_hideBox.off(Laya.Event.CLICK,this,this.onCloseTab),this.btn_tip.off(Laya.Event.CLICK,this,this.onShowTip),k.off("msg_"+b.snake.socket.MessageType.MSG_PACK_INFO,this,this.onPackInfo),k.off("msg_"+b.snake.socket.MessageType.MSG_CREATE_CUSTOM_ROOM,this,this.onCreateRoomResponse),Laya.timer.clear(this,()=>{this.isCreating=!1})}onCloseTab(){this.img_card_pad.visible&&(this.btn_hideBox.visible=!1,this.img_card_pad.visible=!1),this.img_tel.visible&&(this.btn_hideBox.visible=!1,this.img_tel.visible=!1),this.img_token_pad.visible&&(this.btn_hideBox.visible=!1,this.img_token_pad.visible=!1)}showSelecePanel(){this.img_card_pad.visible=!0,this.btn_hideBox.visible=!0}showTokenPanel(){this.img_token_pad.visible=!0,this.btn_hideBox.visible=!0}showDefaultCard(t){let r=t.findIndex(s=>s.count>0);r!==-1&&(this.list_item.selectedIndex=r,this.handleSelectTime(r))}onShowTip(){this.img_tel.visible=!0,this.btn_hideBox.visible=!0}requestCoinInfo(){let t=b.snake.socket.MessageType.MSG_QUERY_TOKEN;ve.send(t)}onRequestInfo(t,r){let s=_e.getMsgBody(t,b.snake.socket.SC_QUERY_TOKEN);if(r==b.snake.socket.MessageCode.SYS_NORMAL){let o=st.parseTokenData(s.token);this.showTokenArray(o)}}showTokenArray(t){let r=[];t.forEach(s=>{r.push(s.symbolId)}),this.list_token.array=r,this.list_token.selectedIndex=0}onTokenItemRender(t,r){t&&t.onChange&&t.onChange(this.list_token.selectedIndex==r)}handleSelectToken(t){if(t!=-1){let r=mt.getTokenData()[t];r&&(this.tf_tokenName.text=r.symbol)}this.img_token_pad.visible=!1,this.btn_hideBox.visible=!1}testTicketMoneyInput(){let t=this.ticketInput.text;if(t){if(!/^[0-9]+\.?[0-9]*$/.test(t)){let s="";for(let o=0;o<t.length;o++){let l=t.charAt(o);(l>="0"&&l<="9"||l==="."&&s.indexOf(".")===-1)&&(s+=l)}this.ticketInput.text=s}t.length>1&&t.startsWith("0")&&t.charAt(1)!=="."&&(this.ticketInput.text=t.substring(1)),this.roomMoney=Number(this.ticketInput.text)}}};Sb=N([oA("Trnh8WLVQT-6W4h3KUeNgA")],Sb);var wb=class extends Laya.Dialog{};var Eb=class{constructor(){this.connectAddr="ws://175.27.154.72:10001";this.groupApplyList=[];this.groupData=[];this.watch=[]}};var ux=class i{static getInstance(){return i._instance==null&&(i._instance=new i),i._instance}constructor(){this.init()}init(){k.on("msg_"+b.snake.socket.MessageType.MSG_REQUEST_ROOM_ADDR,this,this.onRequestRoomAddr)}onRequestRoomAddr(e,t){var r=_e.getMsgBody(e,b.snake.socket.SC_REQUEST_ROOM_ADDR);if(t==b.snake.socket.MessageCode.SYS_NORMAL){var s=r.addr;if(console.log("onRequestRoomAddr: "+s),s){var o=s.lastIndexOf("#");o!=-1&&(s=s.slice(0,o))}var l=new Eb;l.connectAddr=s,Ee.roomDto=l,De.intance.closeAll(),qe.isCloseAll=!1,De.intance.openModule(L.MatchReadyView),qe.setCurrentScene(ge.M_SCENE_SNAKE_MATCH)}else t==b.snake.socket.MessageCode.NOT_ENOUGH_TOKEN&&Me.notice("Not enough tokens!")}goPvpArenaScene(e,t,r){Pe.arenaType=Pe.ARENA_TYPE_PVP;var s=b.snake.socket.MessageType.MSG_REQUEST_ROOM_ADDR,o=b.snake.socket.CS_REQUEST_ROOM_ADDR.fromObject({type:1,ticketId:t,ticketValue:r,roomType:e,point:"1_00"});ve.send(s,o)}goCLubArenaScene(e,t,r,s){Pe.arenaType=Pe.ARENA_TYPE_PVP;var o=b.snake.socket.MessageType.MSG_REQUEST_ROOM_ADDR,l=b.snake.socket.CS_REQUEST_ROOM_ADDR.fromObject({ticketId:t,ticketValue:r,roomType:e,point:"1_00",roomNo:s});ve.send(o,l)}async goAiArenaScene(){De.intance.closeAll(),qe.isCloseAll=!1,De.intance.openModule(L.MatchReadyView),Pe.arenaType=Pe.ARENA_TYPE_PVE;var e=new Uu;e.members=await ie.getInstance().spawnSnakes();var t=ie.getInstance().spawnRandomPlayerObject("",!0,!0);e.members.push(t),e.myPlayerObject=t,e.item=gt.spawnFoods(),e.arenaType=Pe.ARENA_TYPE_PVE,e.remainderCd=X.snake.battleCd,Ee.matchDto=e,Yi.sendAiEnter(),qe.setCurrentScene(ge.M_SCENE_AI_ARENA)}},qa=ux.getInstance();var{regClass:aA}=Laya;var Lb=class extends wb{constructor(){super();this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}onEnable(){this.initEvents(),this.backLayer.alpha=0,this.backLayer.visible=!0,Laya.Tween.to(this.backLayer,{alpha:.7},200,Laya.Ease.linearIn)}onDisable(){this.removeEvents()}initEvents(){this.btn_font.on(Laya.Event.CLICK,this,this.onEnterMatch),this.backLayer.on(Laya.Event.CLICK,this,this.closeDialog)}removeEvents(){this.btn_font.off(Laya.Event.CLICK,this,this.onEnterMatch),this.backLayer.off(Laya.Event.CLICK,this,this.closeDialog)}onEnterMatch(){if(!this.roomInfo)return;let t=parseInt(this.roomInfo[2]),r=parseFloat(this.roomInfo[3]),s=this.roomInfo[0];qa.goCLubArenaScene(5,t,r,s)}requestCoinInfo(){let t=b.snake.socket.MessageType.MSG_QUERY_TOKEN;ve.send(t)}setOpenData(t){if(t){console.log(t),this.roomInfo=t;let r=parseInt(t[2]),s=parseFloat(t[3]);this.img_coin.skin=J.getCurrencyIcon(r),this.tf_number.text=String(s);let o=mt.getTokenData().find(l=>l.symbolId==r);mt.getTokenData()&&o&&(this.tf_coin.text=o.symbol)}}closeDialog(){this.close()}};Lb=N([aA("ONfjH328RXe-7G3_K7WK1Q")],Lb);var Tb=class extends Laya.Box{};var{regClass:lA}=Laya,Cb=class extends Tb{constructor(){super()}createChildren(){super.createChildren()}onEnable(){}onDisable(){}set dataSource(t){if(!t)return;super.dataSource=t,this.referralData=t,console.log("MemberClubListItem",t),this.img_flag.skin=J.getCountryIcon(t.country);let r=t.split(",");this.tf_name.text=r[3],this.PlayerIcon.headSkin=r[2],this.tf_memberLevel.text=r[4],this.tf_match.text=r[5];let s=this.parent?.parent?.array?.indexOf(t)??0;this.img_bg.visible=s%2===1}};Cb=N([lA("3U7la1usRgKQbfApkNfiHQ")],Cb);var Ab=class extends Laya.Box{};var{regClass:cA}=Laya,Mb=class extends Ab{constructor(){super()}createChildren(){super.createChildren()}onEnable(){this.btnSetting.on(Laya.Event.CLICK,this,this.onOpenSettingDialog),k.on(w.EVENT_CHANGE_CLUB_RATE,this,this.onUpdateRate)}onDisable(){k.off(w.EVENT_CHANGE_CLUB_RATE,this,this.onUpdateRate)}set dataSource(t){if(!t)return;super.dataSource=t;let r=t.split(",");this.referralData=r,console.log("MemberMyListItem",t),this.img_flag.skin=J.getCountryIcon(r[1]),this.tf_name.text=r[3],this.PlayerIcon.headSkin=r[2],this.tf_memberLevel.text=r[4],this.tf_referrals.text=r[5];let s=st.multiplyWithPrecision(r[6],100);this.tf_rate.text=`${s}%`;let o=this.parent?.parent?.array?.indexOf(t)??0;this.img_bg.visible=o%2===1}onOpenSettingDialog(){De.intance.openModule(L.SettingRateDialog,this.referralData)}onUpdateRate(t){if(t&&this.referralData&&t.roleId===this.referralData[0]){this.referralData[6]=t.rateValue;let r=t.rateValue*100,s=Math.round(r*1e3)/1e3,o=parseFloat(s.toFixed(3)).toString();this.tf_rate.text=`${o}%`}}};Mb=N([cA("_-8v_mmLR1CuN--HtoX-Uw")],Mb);var Rb=class extends Laya.Box{};var{regClass:uA}=Laya,Bb=class extends Rb{constructor(){super()}createChildren(){super.createChildren()}onEnable(){}onDisable(){}set dataSource(t){if(!t)return;let r=t.split(",");super.dataSource=t,this.img_flag.skin=J.getCountryIcon(r[1]),this.tf_name.text=`${r[3]}`,this.PlayerIcon.headSkin=r[2];let s=parseInt(r[4]);if(mt.getTokenData()){let y=mt.getTokenData().find(x=>x.symbolId==s);this.tf_income.text=`${r[5]} ${y.symbol}`}this.tf_rate.text=`${r[6]}`;let o=r.length>7?parseInt(r[7]):0;this.img_bg.visible=o%2===1;let l=r[0],u=new Date(l*1e3),p=String(u.getMonth()+1).padStart(2,"0"),m=String(u.getDate()).padStart(2,"0"),d=String(u.getHours()).padStart(2,"0"),f=String(u.getMinutes()).padStart(2,"0"),g=String(u.getSeconds()).padStart(2,"0");this.tf_time.text=`${p}/${m} ${d}:${f}:${g}`}};Bb=N([uA("gevXZPT3TWCi4DUrM__uOg")],Bb);var Db=class extends Laya.Dialog{};var{regClass:pA}=Laya,Ob=class extends Db{constructor(){super();this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER;this.addL=1;this.maxValue=5;this.minValue=15}onEnable(){this.btn_plus.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_plus]),this.btn_reduce.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_reduce]),this.btn_ok.on(Laya.Event.CLICK,this,this.onComfirm),this.btn_close.on(Laya.Event.CLICK,this,this.close),k.on("msg_"+b.snake.socket.MessageType.MSG_SET_COMMISSION,this,this.onSetCommissionResponse)}setOpenData(t){if(this.data=t,!t)return;let r=t[6],s=_s.getClubData().myRate;this.maxValue=parseFloat((s*100).toFixed(3)),this.addL=parseFloat(st.multiplyWithPrecision(parseFloat(r),100)),this.minValue=this.addL;let o=this.addL%1===0?this.addL.toFixed(0):this.addL.toFixed(1);this.tf_rateNum.text=`${o} %`,console.log("data",t)}onComfirm(){let t=b.snake.socket.MessageType.MSG_SET_COMMISSION,r=Number(st.divideWithPrecision(this.addL,100)),s=b.snake.socket.CS_SET_COMMISION.fromObject({roleId:this.data[0],rate:r});ve.send(t,s)}onSetCommissionResponse(t,r){k.off("msg_"+b.snake.socket.MessageType.MSG_SET_COMMISSION,this,this.onSetCommissionResponse);var s=_e.getMsgBody(t,b.snake.socket.CS_SET_COMMISION);if(r==b.snake.socket.MessageCode.SYS_NORMAL){let o={roleId:this.data[0],rateValue:s.rate};k.event(w.EVENT_CHANGE_CLUB_RATE,o),this.close()}}handleClickBtn(t){switch(t){case this.btn_reduce:this.addL>this.minValue&&(this.addL=parseFloat((this.addL-.1).toFixed(1))),this.setItemNum();break;case this.btn_plus:this.addL<this.maxValue&&(this.addL=parseFloat((this.addL+.1).toFixed(1))),this.setItemNum();break}}setItemNum(){let t=this.addL%1===0?this.addL.toFixed(0):this.addL.toFixed(1);this.tf_rateNum.text=`${t} %`}onDisable(){this.btn_ok.off(Laya.Event.CLICK,this,this.onComfirm),this.btn_close.off(Laya.Event.CLICK,this,this.close),k.off("msg_"+b.snake.socket.MessageType.MSG_SET_COMMISSION,this,this.onSetCommissionResponse)}};Ob=N([pA("T4HZSfZ-Ry6DwwvmwW29RA")],Ob);var Nb=class extends Laya.Dialog{};var{regClass:mA}=Laya,Fb=class extends Nb{constructor(){super();this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER;this.dialogType=0}setOpenData(t){t&&t.length>0&&(this.dialogType=t[0])}onEnable(){this.list_head.vScrollBarSkin="",this.btn_confirm.on(Laya.Event.CLICK,this,this.onRegister),this.btn_custom.on(Laya.Event.CLICK,this,this.onBtnChangePic),this.btn_close.on(Laya.Event.CLICK,this,this.close),k.on("msg_"+b.snake.socket.MessageType.MSG_CHANGE_INFO,this,this.onChangeInfoResponse),this.initContainer()}initContainer(){this.list_head.vScrollBarSkin="",this.list_head.selectHandler=new Laya.Handler(this,this.handleSelectHead),this.createHeadList()}handleSelectHead(t){if(t!=-1){let r=this.list_head.selectedItem;U.headId=r.id,this.playerIcon.headSkin=U.headId}}createHeadList(){let t=q.m_dicHead;this.list_head.array=t.values,this.list_head.visible=!0;let r=-1,s=0;this.playerIcon.headSkin=U.headId;for(let o of t.values){if(o.id==U.headId){r=s;break}s++}this.list_head.selectedIndex=r}onBtnChangePic(){var t=Laya.Render.canvas.style.zIndex,r=P.getUILang("Upload picture"),s=P.getUILang("Select Image"),o=P.getUILang("Save changes");openUploadPic(this,t,r,s,o)}async openPicEnd(t,r){if(r.length>500){let s=await St.requestPost("wxgame/player/uploadImg",{base64Str:r},!1,!1);s&&(U.headId=s.imgUrl,t.playerIcon.headSkin=s.imgUrl,console.log(s.imgUrl))}}onRegister(){let t=U.headId;this.dialogType===1?this.sendChangeInfoRequest(t):k.event(w.EVENT_MODIFY_HEAD,[t]),this.close()}sendChangeInfoRequest(t){let r=b.snake.socket.MessageType.MSG_CHANGE_INFO,s=b.snake.socket.CS_CHANGE_INFO.fromObject({type:1,value:t.toString()});ve.send(r,s),U.headId=t}onChangeInfoResponse(t,r){var s=_e.getMsgBody(t,b.snake.socket.CS_CHANGE_INFO);r==b.snake.socket.MessageCode.SYS_NORMAL&&(console.log("SC_CHANGE_INFO",s),U.playerDto.icon=s.value,k.event(w.ROLE_INFO_CHANGE),this.close())}onDisable(){k.off("msg_"+b.snake.socket.MessageType.MSG_CHANGE_INFO,this,this.onChangeInfoResponse),this.btn_confirm.off(Laya.Event.CLICK,this,this.onRegister),this.btn_custom.off(Laya.Event.CLICK,this,this.onBtnChangePic)}};Fb=N([mA("BmtPy79ySCyg4IuEQC4zsQ")],Fb);var Pb=class extends Laya.ComboBox{};var{regClass:hA}=Laya,Ub=class extends Pb{set defaultLabel(e){this._defaultLabel=e,this._selectedIndex<0&&(this._button.label=e)}onEnable(){this.list=this.comboList,this.list.renderHandler=Laya.Handler.create(this,this.onCountryItemRender,null,!1)}set dataSource(e){super.dataSource=e;var t=e;if(t){this.list.repeatY=t.length,this.list.width=this.width;var r=[];t.forEach(s=>{s instanceof Array?r.push(s[1]):r.push(s)}),this.labels=r.join(","),console.log("comboData.length: "+t.length,this.labels)}}onCountryItemRender(e,t){e.onChange(this.list.selectedIndex==t)}set isOpen(e){if(console.log("isOpen: "+e),this._isOpen!=e)if(this._isOpen=e,this._button.selected=this._isOpen,this._isOpen){this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem();var t=this.localToGlobal(Laya.Point.TEMP.setTo(0,0)),r=t.y+this._button.height;r=r+this._listHeight<=Laya.stage.height||t.y-this._listHeight<0?r:t.y-this._listHeight,this.img_pad.addChild(this._list),this.img_pad.pos(t.x,r),this.img_pad.visible=!0,Laya.stage.addChild(this.img_pad),this.img_pad.zOrder=1001,Laya.stage.once(Laya.Event.MOUSE_DOWN,this,this.removeList),Laya.stage.on(Laya.Event.MOUSE_WHEEL,this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex}else this._list&&this._list.removeSelf(),this.img_pad&&this.img_pad.removeSelf()}};Ub=N([hA("AqEOSlrnRkmI9RUPCJUVqQ")],Ub);var Hb=class extends Laya.List{};var{regClass:dA}=Laya,zb=class extends Hb{};zb=N([dA("7DDHp602Rs6dL3bjAu4ArA")],zb);var jb=class extends Laya.Box{};var{regClass:fA}=Laya,Gb=class extends jb{addEvent(){}set dataSource(t){super.dataSource=t;var r=t;r&&(this.addEvent(),t.id==999?(this.img_icon.visible=!1,this.tf_name.text="All"):(this.img_icon.visible=!0,this.img_icon.skin=J.getCountryIcon(r.id),this.tf_name.text=P.getLanguage(r.name)))}onChange(t){t?(this.selectImg.visible=!0,this.tf_name.color="#ffffff"):(this.tf_name.color="#357cc0",this.selectImg.visible=!1)}onDisable(){}};Gb=N([fA("LJ8PUf7kRCGUr4eT8Mhy3g")],Gb);var Vb=class extends Laya.Dialog{};var Ya=class extends Laya.Event{constructor(){super()}};Ya.INIT_CREATELOGIN_EVENT="CreateLoginEvent:INIT_CREATELOGIN_EVENT";var{regClass:gA}=Laya,Wb=class extends Vb{constructor(){super(...arguments);this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_PANEL;this.m_iPositionType=Z.CENTER}onEnable(){k.on(Ya.INIT_CREATELOGIN_EVENT,this,this.initCreateLoginView),k.on("msg_"+b.snake.socket.MessageType.MSG_USER_REGISTER,this,this.onWaitPlayerInfoBack),k.on(w.EVENT_MODIFY_HEAD,this,this.onChangeModifyHead),k.on(w.EVENT_WAIT_PLAYERINFO,this,this.onWaitPlayerInfoBack),this.box_change.on(Laya.Event.CLICK,this,this.onChangeHead),k.on("msg_"+b.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onRequestInfo),k.on("msg_"+b.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),this.btn_register.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_register]),this.initCountry(),this.initCreateLoginView(),this.initReferral(),Qe.sendCustumEvent(23)}initCountry(){this.list_country.selectHandler=new Laya.Handler(this,this.handleSelectCountry),this.createCountryList(),this.box_country.on(Laya.Event.CLICK,this,this.onOpenCountry),this.list_country.on(Laya.Event.MOUSE_DOWN,this,this.onListDown),this.list_country.mouseHandler=Laya.Handler.create(this,this.onCountryItemMouse,null,!1),this.list_country.renderHandler=Laya.Handler.create(this,this.onCountryItemRender,null,!1),this.list_country.scrollBar&&this.list_country.scrollBar.on(Laya.Event.MOUSE_DOWN,this,this.onScrollBarDown)}onCountryItemMouse(t,r){t.type===Laya.Event.CLICK&&(this.list_country.selectedIndex=r,this.onHideCountry())}handleClickBtn(t){switch(t){case this.btn_register:this.onRegister();break;case this.btn_setting:De.intance.openModule(L.GameSettingLanguageDialog);break}}onListDown(t){t.stopPropagation()}onScrollBarDown(t){t.stopPropagation()}onCountryItemRender(t,r){t.onChange(this.list_country.selectedIndex==r)}onOpenCountry(){this.img_country_pad.visible==!1&&(this.img_country_pad.visible=!0,Laya.stage.once(Laya.Event.MOUSE_DOWN,this,this.onHideCountry))}onHideCountry(){this.img_country_pad.visible=!1,Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.onHideCountry)}handleSelectCountry(t){if(console.log("handleSelectCountry: "+t),t!=-1){let r=this.list_country.selectedItem;U.countryId=r.id,this.img_flag.skin=J.getCountryIcon(r.id),this.tf_country.text=P.getLanguage(r.name)}}createCountryList(){let t=q.m_dicCountry;this.list_country.array=t.values,this.list_country.visible=!0;let r=-1,s=0;for(let o of t.values){if(o.id==U.countryId){r=s;break}s++}this.list_country.selectedIndex=r}onChangeHeadBack(t,r){this.input_name.text=t,U.headId=r,this.playerIcon.headSkin=r}onChangeModifyHead(t){U.headId=t,this.playerIcon.headSkin=t}onChangeHead(){De.intance.openModule(L.ChangeHeadDialog,[0])}onBtnChangePic(){var t=Laya.Render.canvas.style.zIndex,r=P.getUILang("Upload picture"),s=P.getUILang("Select Image"),o=P.getUILang("Save changes");openUploadPic(this,t,r,s,o)}async openPicEnd(t,r){if(r.length>500){let s=await St.requestPost("wxgame/player/uploadImg",{base64Str:r},!1,!1);s&&(U.headId=s.imgUrl,t.playerIcon.headSkin=s.imgUrl,console.log(s.imgUrl))}}async onRegister(){let t=this.input_name.text,r=1;if(t=t.trim(),t==""){Me.notice(P.getLanguage(25));return}if(U.countryId==-1){Me.notice(P.getLanguage(33));return}let s=new URL(window.location.href),l=new URLSearchParams(s.search).get("referral");if(l||(l=new URLSearchParams(s.hash.substring(1)).get("referral")),!l){let p=window.location.href.match(/referral=([^&]+)/);p&&p[1]&&(l=p[1])}console.log("referral: ",l),await Ge.createAcccount(t,r,U.headId.toString(),U.countryId,l)}onWaitPlayerInfoBack(t){var r=_e.getMsgBody(t,b.snake.socket.SC_USER_REGISTER);if(r){lt.hideLoading();var s=r.roleInfo,o=new gs;o.pid=s.roleId,o.name=s.userName,o.lv=s.lv,o.icon=s.icon,o.exp=s.score,o.code=s.code,o.country=s.country,o.invite=s.invite,o.snakeId=s.snakeId,o.skinId=s.skin,o.createTime=s.createTime,o.maxKill=s.maxKill,o.maxAlive=s.maxAlive,o.score=s.score,o.club=s.club,U.playerDto=o,this.close(),k.event(w.EVENT_ENTER_MAIN)}}requestInvitePlayerInfo(t){let r=b.snake.socket.MessageType.MSG_REQUEST_INFO,s=b.snake.socket.CS_REQUEST_INFO.fromObject({roleId:t,type:2});ve.send(r,s)}initReferral(){let t=new URL(window.location.href),s=new URLSearchParams(t.search).get("referral");if(s)this.requestInvitePlayerInfo(s);else{let l=new URLSearchParams(t.hash.substring(1)).get("referral");if(l)this.requestInvitePlayerInfo(l);else{let p=window.location.href.match(/referral=([^&]+)/);p&&p[1]?this.requestInvitePlayerInfo(p[1]):this.box_code.visible=!1}}}initCreateLoginView(){}onDisable(){this.removeEvent()}removeEvent(){k.off(Ya.INIT_CREATELOGIN_EVENT,this,this.initCreateLoginView),k.off(w.EVENT_MODIFY_HEAD,this,this.onChangeModifyHead),k.off(w.EVENT_WAIT_PLAYERINFO,this,this.onWaitPlayerInfoBack),k.off("msg_"+b.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse)}onRequestInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_REQUEST_INFO);if(r==b.snake.socket.MessageCode.SYS_NORMAL){var o=s.roleInfo;this.tf_inviteName.text=st.truncateUnicodeString(o.userName,9),this.playerIcon2.headSkin=o.icon,o.club?(this.requestClubInfo(o.club),this.clubBox.visible=!0,this.nameBox.x=320):(this.clubBox.visible=!1,this.nameBox.x=89),console.log("",o)}}requestClubInfo(t){let r=new b.snake.socket.CS_CLUB_INFO;r.point="1_00";let s=b.snake.socket.CS_CLUB_INFO.fromObject({point:"1_00",clubId:Number(t)}),o=b.snake.socket.MessageType.MSG_CLUB_INFO;ve.send(o,s)}onClubInfoResponse(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_CLUB_INFO);r==b.snake.socket.MessageCode.SYS_NORMAL&&(console.log("SC_CLUB_INFO",s),this.img_clubIcon.skin=J.getClubIcon(s.icon),this.tf_clubName.text=st.truncateUnicodeString(s.name,7))}};Wb=N([gA("1K2SyFxcQY-12SasSSRXyQ")],Wb);var Kb=class extends Laya.Dialog{};var{regClass:bA}=Laya,$b=class extends Kb{constructor(t){super();this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}onEnable(){this.list_rental.visible=!1,k.on("msg_"+b.snake.socket.MessageType.MSG_INVITE_LIST,this,this.onRequestInfo),this.initContainer()}initContainer(){let t=U.playerDto;var r=b.snake.socket.MessageType.MSG_INVITE_LIST,s=b.snake.socket.CS_REQUEST_INFO.fromObject({roleId:t.pid});ve.send(r,s)}onRequestInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_INVITE_LIST);if(r==b.snake.socket.MessageCode.SYS_NORMAL){var o=s.info;this.list_rental.array=o,this.list_rental.visible=!0}}onDisable(){k.off("msg_"+b.snake.socket.MessageType.MSG_INVITE_LIST,this,this.onRequestInfo)}};$b=N([bA("ULWdMgcOTD-Y9ATVEVTfpg")],$b);var qb=class extends Laya.Box{};var{regClass:yA}=Laya,Yb=class extends qb{constructor(){super()}createChildren(){super.createChildren()}onEnable(){}set dataSource(t){if(!t)return;super.dataSource=t,this.referralData=t;let[r,s,,o,l,u]=t.split(","),p={headId:r,nickName:s,country:Number(o),battle:l,online:u};this.tf_name.text=p.nickName,this.playerIcon.headSkin=p.headId;let m=q.m_dicCountry.get(p.country);m&&(this.img_country.skin=J.getCountryIcon(m.id),this.tf_country.text=st.truncateString(P.getLanguage(m.name),9)),this.tf_battle.text=p.battle;let d=p.online==="0";this.tf_online.text=d?"online":vt.formatTimeAgoFromTimestamp(Number(p.online)),this.tf_online.color=d?"#12f801":"#ffffff"}onBtn12(){this.referralData.remNum>0&&De.intance.openModule(L.ReferralL2Dialog,this.referralData)}};Yb=N([yA("UE9rYjENQbOU-0ZTLzyHGw")],Yb);var Qb=class extends Laya.Dialog{};var{regClass:_A}=Laya,Xb=class extends Qb{constructor(t){super();this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}onEnable(){Xe.playSoundByName(Xe.soundName32)}onDisable(){}};Xb=N([_A("szfg-Zt_RRWZ_nHMppjUMA")],Xb);var Zb=class extends Laya.Box{};var{regClass:xA}=Laya,Jb=class extends Zb{set dataSource(e){super.dataSource=e;var t=e;t&&(this.img_icon.skin="res/role/img_icon_"+t[0]+".png",this.tf_name.text=P.getUILang(t[1]),this.tf_num.text=t[2])}};Jb=N([xA("WJ5TDeRBSkC9yMqJ72B0Ow")],Jb);var ey=class extends Laya.Box{};var{regClass:vA}=Laya,ty=class extends ey{set dataSource(t){super.dataSource=t,this.headItem=t,this.headItem&&this.setCurrentOutPut()}async setCurrentOutPut(){let t=this.headItem.id;this.playerIcon.headSkin=t}onChange(t){}};ty=N([vA("AwN_JFPwQsKswm1N53Bmkg")],ty);var iy=class extends Laya.Scene{};var{regClass:IA}=Laya,ry=class extends iy{constructor(t){super()}onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onEnable(){this.tf_tittle.text=P.getLanguage(60),this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),this.btn_copy.on(Laya.Event.CLICK,this,this.onCopy),this.btn_copy2.on(Laya.Event.CLICK,this,this.onCopy2),this.btn_copy3.on(Laya.Event.CLICK,this,this.onCopy3),this.btn_changeHead.on(Laya.Event.CLICK,this,this.onChangeHead),this.btn_detail.on(Laya.Event.CLICK,this,this.onDetail),this.btn_changeName.on(Laya.Event.CLICK,this,this.onBtnChangeNameClick),this.btn_confirm.on(Laya.Event.CLICK,this,this.sendChangeInfoRequest),k.on("msg_"+b.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onRequestInfo),k.on(w.ROLE_INFO_CHANGE,this,this.updateRoleInfo),k.on("msg_"+b.snake.socket.MessageType.MSG_CHANGE_INFO,this,this.onChangeInfoResponse),k.on("msg_"+b.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),this.updateRoleInfo(),It.startJellyScaleAnimation(this.tf_tittle)}updateRoleInfo(){let t="1",r=U.playerDto;if(!r){console.warn("Player data is not available");return}this.requestPlayerInfo(r.pid),this.updateBasicInfo(r),this.updateReferralInfo(r),this.updateCountryInfo(r.country),this.updateWalletAddress(),this.updatePlayerIcon(r.icon||t),this.showClubInfo()}requestPlayerInfo(t){let r=b.snake.socket.MessageType.MSG_REQUEST_INFO,s=b.snake.socket.CS_REQUEST_INFO.fromObject({roleId:t,type:1});ve.send(r,s)}updateBasicInfo(t){this.tf_name.text=st.fitTextToLabel(t.name,this.tf_name),this.tf_roleId.text=t.pid,this.tf_createTime.text=`${vt.formatDateDDMMYYYY(t.createTime)}`,this.tf_kill.text=`${t.maxKill}`,this.tf_longTime.text=`<span style="color:#6aeb2b;font-size:46px;">${t.maxAlive}</span><span style="color:#6aeb2b;font-size:10px;vertical-align:bottom;">s</span>`,this.tf_level.text=`${t.lv}`}updateReferralInfo(t){t.code?(this.tf_myCode.text=t.code,this.btn_copy2.disabled=!1):(this.tf_myCode.text="",this.btn_copy2.disabled=!0)}updateCountryInfo(t){let r=q.m_dicCountry.get(t);r&&(this.tf_country.text=P.getLanguage(r.name),this.img_country.skin=J.getCountryIcon(r.id))}updateWalletAddress(){let t=Ge.walletAddress;this.tf_address.text=st.shortenString(t,6,4)}updatePlayerIcon(t){this.playerIcon.headSkin=t}onChangeHead(){De.intance.openModule(L.ChangeHeadDialog,[1])}onCopy(){let t=Ge.walletAddress;doCopy(t),Me.notice(P.getLanguage(19))}onCopy2(){let t=this.tf_myCode.text,s=`${getVAddress()}?referral=${t}`;doCopy(s),Me.notice(P.getLanguage(19))}onCopy3(){let t=this.tf_roleId.text;doCopy(t),Me.notice(P.getLanguage(19))}onRequestInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_REQUEST_INFO);if(r==b.snake.socket.MessageCode.SYS_NORMAL&&s.roleInfo){var o=s.roleInfo;if(s.roleInfo.roleId==U.playerDto.pid){let l=o.invNum;this.ally_num.text=`${l}`,this.tf_totalNum.text=`${o.num}`,this.tf_totalKill.text=`${o.kills}`,this.tf_kill.text=`${o.maxKill}`,this.tf_longTime.text=`<span style="color:#6aeb2b;font-size:46px;">${o.maxAlive}</span><span style="color:#6aeb2b;font-size:32px;vertical-align:bottom;">s</span>`,o.invite?this.requestPlayerInfo(o.invite):this.InviterPlayerIcon.visible=!1}else this.tf_myReferee.text=o.userName,this.InviterPlayerIcon.visible=!0,this.InviterPlayerIcon.headSkin=o.icon}}onDisable(){k.off(w.ROLE_INFO_CHANGE,this,this.updateRoleInfo),this.btn_copy.off(Laya.Event.CLICK,this,this.onCopy),this.btn_copy2.off(Laya.Event.CLICK,this,this.onCopy2),this.btn_changeHead.off(Laya.Event.CLICK,this,this.onChangeHead),this.btn_detail.off(Laya.Event.CLICK,this,this.onDetail),k.off("msg_"+b.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onRequestInfo),k.off("msg_"+b.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),k.off("msg_"+b.snake.socket.MessageType.MSG_CHANGE_INFO,this,this.onChangeInfoResponse),k.offAllCaller(this)}onDetail(){De.intance.openModule(L.ReferralDialog)}setToMainScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}onBtnChangeNameClick(){this.nameBox.visible=!1,this.changeNameBox.visible=!0,this.input_name.text=U.playerDto.name}sendChangeInfoRequest(){let t=b.snake.socket.MessageType.MSG_CHANGE_INFO,r=b.snake.socket.CS_CHANGE_INFO.fromObject({type:2,value:this.input_name.text});ve.send(t,r)}onChangeInfoResponse(t,r){if(r==b.snake.socket.MessageCode.SYS_NORMAL){var s=_e.getMsgBody(t,b.snake.socket.CS_CHANGE_INFO);this.nameBox.visible=!0,this.changeNameBox.visible=!1,s.type==1?this.updatePlayerIcon(s.value):(this.tf_name.text=st.fitTextToLabel(s.value,this.tf_name),U.playerDto.name=s.value)}else this.nameBox.visible=!0,this.changeNameBox.visible=!1;k.event(w.ROLE_INFO_CHANGE)}showClubInfo(){U.playerDto.club&&(this.requestClubInfo(U.playerDto.club),k.on("msg_"+b.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse))}requestClubInfo(t){let r=b.snake.socket.CS_CLUB_INFO.fromObject({point:"1_00",clubId:Number(t)}),s=b.snake.socket.MessageType.MSG_CLUB_INFO;ve.send(s,r)}onClubInfoResponse(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_CLUB_INFO);r==b.snake.socket.MessageCode.SYS_NORMAL&&(console.log("SC_CLUB_INFO",s),this.tf_clubName.text=st.truncateUnicodeString(s.name,30))}};ry=N([IA("Ra6hof-DS3-o_gxRa_2t0g")],ry);var ny=class extends Laya.Dialog{};var{regClass:kA}=Laya,sy=class extends ny{constructor(){super(...arguments);this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}setOpenData(t){}onEnable(){this.list_head.vScrollBarSkin="",this.btn_confirm.on(Laya.Event.CLICK,this,this.onRegister),this.btn_custom.on(Laya.Event.CLICK,this,this.onBtnChangePic),this.input_name.prompt=P.getLanguage(25),this.initContainer();let t=q.getGeneralValueById(13);this.tf_nameGold.text=t[1],this.img_nameGold.skin=J.getMoneyIcon(t[0]),console.log(t)}initContainer(){this.list_head.vScrollBarSkin="",this.list_head.selectHandler=new Laya.Handler(this,this.handleSelectHead),this.createHeadList(),this.initCountry()}handleSelectHead(t){if(t!=-1){let r=this.list_head.selectedItem;U.headId=r.id,this.playerIcon.headSkin=U.headId}}createHeadList(){let t=q.m_dicHead;this.list_head.array=t.values,this.list_head.visible=!0;let r=-1,s=0;U.headId=U.playerDto.icon,this.playerIcon.headSkin=U.headId,this.input_name.text=U.playerDto.name;for(let o of t.values){if(o.id==U.headId){r=s;break}s++}this.list_head.selectedIndex=r}initCountry(){this.list_country.selectHandler=new Laya.Handler(this,this.handleSelectCountry),this.createCountryList(),this.box_country.on(Laya.Event.CLICK,this,this.onOpenCountry),this.list_country.on(Laya.Event.MOUSE_DOWN,this,this.onListDown),this.list_country.mouseHandler=Laya.Handler.create(this,this.onCountryItemMouse,null,!1),this.list_country.renderHandler=Laya.Handler.create(this,this.onCountryItemRender,null,!1),this.list_country.scrollBar&&this.list_country.scrollBar.on(Laya.Event.MOUSE_DOWN,this,this.onScrollBarDown)}onCountryItemMouse(t,r){t.type===Laya.Event.CLICK&&(this.list_country.selectedIndex=r,this.onHideCountry())}onListDown(t){t.stopPropagation()}onScrollBarDown(t){t.stopPropagation()}onCountryItemRender(t,r){t.onChange(this.list_country.selectedIndex==r)}onOpenCountry(){this.img_country_pad.visible==!1&&(this.img_country_pad.visible=!0,Laya.stage.once(Laya.Event.MOUSE_DOWN,this,this.onHideCountry))}onHideCountry(){this.img_country_pad.visible=!1,Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.onHideCountry)}handleSelectCountry(t){if(console.log("handleSelectCountry: "+t),t!=-1){let r=this.list_country.selectedItem;U.countryId=r.id,this.img_flag.skin=J.getCountryIcon(r.id),this.tf_country.text=P.getLanguage(r.name)}}createCountryList(){let t=q.m_dicCountry;this.list_country.array=t.values,this.list_country.visible=!0;let r=-1,s=0;U.countryId=U.playerDto.country;for(let o of t.values){if(o.id==U.countryId){r=s;break}s++}this.list_country.selectedIndex=r}onBtnChangePic(){var t=Laya.Render.canvas.style.zIndex,r=P.getUILang("Upload picture"),s=P.getUILang("Select Image"),o=P.getUILang("Save changes");openUploadPic(this,t,r,s,o)}async openPicEnd(t,r){if(r.length>500){let s=await St.requestPost("wxgame/player/uploadImg",{base64Str:r},!1,!1);s&&(U.headId=s.imgUrl,t.playerIcon.headSkin=s.imgUrl,t.list_head.selectedIndex=-1,console.log(s.imgUrl))}}onRegister(){let t=this.input_name.text;if(t=t.trim(),t==""){Me.notice(P.getLanguage(25));return}if(U.playerDto.name!==t&&U.getConsumeValue(Ye.TYPE_GOLD)<Number(this.tf_nameGold.text)){Me.notice(Zt.get(51));return}U.headId!=-1?this.onModify(t,U.headId,U.countryId):Me.notice(P.getLanguage(28))}async onModify(t,r,s){if(t==""){Me.notice(P.getLanguage(25));return}let o=await Tg.updateProfile(t,r.toString(),s);this.destroyed||(o?(U.playerDto=o,this.close(),k.event(w.ROLE_INFO_CHANGE)):Me.notice(P.getLanguage(29)))}};sy=N([kA("3CibwwHGSPG2Qkeq4rbMag")],sy);var oy=class extends Laya.ComboBox{};var{regClass:SA}=Laya,ay=class extends oy{set defaultLabel(e){this._defaultLabel=e,this._selectedIndex<0&&(this._button.label=e),this._button.labelAlign="center"}onEnable(){this.list=this.comboList}set dataSource(e){super.dataSource=e;var t=e;t&&(this.labels=t.join(","),console.log("comboData.length: "+t.length),this.list.repeatY=t.length,this.list.width=this.width,this.list.renderHandler=Laya.Handler.create(this,this.onCountryItemRender,null,!1))}onCountryItemRender(e,t){e.onChange(this.list.selectedIndex==t)}set isOpen(e){if(console.log("isOpen: "+e),this._isOpen!=e)if(this._isOpen=e,this._button.selected=this._isOpen,this._isOpen){this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem();var t=this.localToGlobal(Laya.Point.TEMP.setTo(0,0)),r=t.y+this._button.height;r=r+this._listHeight<=Laya.stage.height||t.y-this._listHeight<0?r:t.y-this._listHeight,this.img_pad.addChild(this._list),this.img_pad.pos(t.x,r),this.img_pad.visible=!0,Laya.stage.addChild(this.img_pad),this.img_pad.zOrder=1001,Laya.stage.once(Laya.Event.MOUSE_DOWN,this,this.removeList),Laya.stage.on(Laya.Event.MOUSE_WHEEL,this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex}else this._list&&this._list.removeSelf(),this.img_pad&&this.img_pad.removeSelf()}};ay=N([SA("Fns-7UW3RpSb95NWnjiDFQ")],ay);var ly=class extends Laya.Dialog{};var{regClass:wA}=Laya,xs=class extends Laya.Script{constructor(){super();this._isLeft=!1}onAwake(){}get isLeft(){return this._isLeft}set isLeft(t){this._isLeft=t,this.btn_bg=this.owner.getChildByName("btn_bg"),this.label_left=this.owner.getChildByName("label_left"),this.label_right=this.owner.getChildByName("label_right"),this.isLeft?(this.btn_bg.x=4,this.label_left.color="#213343",this.label_right.color="#52a5e0"):(this.btn_bg.x=this.owner.width-this.btn_bg.width-4,this.label_left.color="#52a5e0",this.label_right.color="#213343")}};xs=N([wA("-1MGS4JRSMOn_RKPUuuV9Q")],xs);var{regClass:EA}=Laya,cy=class extends ly{constructor(t){super();this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER;this.totalLans=[1,6,7];this.currLan=0}onEnable(){this.musicSwitchButton=this.box_music.getComponent(xs),this.soundSwitchButton=this.box_sound.getComponent(xs),this.initContainer(),this.box_music.on(Laya.Event.CLICK,this,this.onClickHandler,[this.box_music]),this.box_sound.on(Laya.Event.CLICK,this,this.onClickHandler,[this.box_sound]),this.btn_copy.clickHandler=new Laya.Handler(this,this.onClickHandler,[this.btn_copy]),this.btn_referral.on(Laya.Event.CLICK,this,this.onClickHandler,[this.btn_referral]);for(let r=0;r<this.totalLans.length;r++){var t=this.totalLans[r];this["btn_"+t].on(Laya.Event.CLICK,this,this.onClickTab,[t])}}onClickHandler(t){switch(t){case this.box_music:this.musicSwitchButton.isLeft=!this.musicSwitchButton.isLeft,Xe.switchMusic(this.musicSwitchButton.isLeft);break;case this.box_sound:this.soundSwitchButton.isLeft=!this.soundSwitchButton.isLeft,Xe.switchSound(this.soundSwitchButton.isLeft);break;case this.btn_referral:De.intance.openModule(L.InviteRewardDialog);break;case this.btn_copy:{let r=this.inviteUrl;doCopy(r),Me.notice(P.getLanguage(19))}break}}initContainer(){this.musicSwitchButton.isLeft=Xe.m_bPlayMusic,this.soundSwitchButton.isLeft=Xe.m_bPlayeSound,this.currLan=U.m_strLanguage,this.setTab(U.m_strLanguage),this.inviteUrl=Pr.getInviteUrl(),this.label_url.text=Dr.shortStr(this.inviteUrl,50)}onClickTab(t){if(this.currLan==t)return;this.currLan=t,this.setTab(t);let r=P.getLanTypeById(t);P.FGM_SetLanguage(r),Qe.reload()}setTab(t){for(let s=0;s<this.totalLans.length;s++){var r=this.totalLans[s];t==r?(this["btn_"+r].getChildByName("btn_yellowBg").visible=!0,this["btn_"+r].getChildByName("Label").color="#213343"):(this["btn_"+r].getChildByName("btn_yellowBg").visible=!1,this["btn_"+r].getChildByName("Label").color="#52a5e0")}}webCopyString(t){let r=t,s=window.document.createElement("textarea");s.value=r,s.setAttribute("readonly",""),s.style.contain="strict",s.style.position="absolute",s.style.left="-9999px",s.style.fontSize="12pt";let o=window.getSelection(),l=!1;o.rangeCount>0&&(l=o.getRangeAt(0)),window.document.body.appendChild(s),s.select(),s.selectionStart=0,s.selectionEnd=r.length;let u=!1;try{u=window.document.execCommand("copy")}catch(p){console.error(p)}return window.document.body.removeChild(s),l&&(o.removeAllRanges(),o.addRange(l)),u}};cy=N([EA("yJfJZzgZRluE_rgB44yTvg")],cy);var uy=class extends Laya.Dialog{};var{regClass:LA}=Laya,px=3,$w={selected:["res/main/join/img_tbl1.png","res/main/join/img_tbm1.png","res/main/join/img_tbr1.png"],unselected:["res/main/join/img_tbl2.png","res/main/join/img_tbm2.png","res/main/join/img_tbr2.png"]},qw={selected:"#0c6917",unselected:"#405073"},TA=[2,3,4],py=class extends uy{constructor(){super();this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER;this.isEntering=!1}onEnable(){this.initEvents(),this.backLayer.alpha=0,this.backLayer.visible=!0,Laya.Tween.to(this.backLayer,{alpha:.7},200,Laya.Ease.linearIn),mt.getTokenData()?this.onTabClick(0):this.requestCoinInfo()}onDisable(){this.removeEvents(),Laya.timer.clear(this,()=>{this.isEntering=!1})}initEvents(){for(let t=0;t<px;t++)this[`tab${t}`].on(Laya.Event.CLICK,this,this.onTabClick,[t]);k.on(`msg_${b.snake.socket.MessageType.MSG_QUERY_TOKEN}`,this,this.onRequestInfo),this.img_di1.on(Laya.Event.CLICK,this,this.onCheakTab),this.btn_hideBox.on(Laya.Event.CLICK,this,this.onCloseTab),this.btn_font.on(Laya.Event.CLICK,this,this.onEnterMatch),this.backLayer.on(Laya.Event.CLICK,this,this.closeDialog),this.list_token.renderHandler=Laya.Handler.create(this,this.onTokenItemRender,null,!1),this.list_token.selectHandler=new Laya.Handler(this,this.handleSelectToken)}removeEvents(){k.off(`msg_${b.snake.socket.MessageType.MSG_QUERY_TOKEN}`,this,this.onRequestInfo),this.img_di1.off(Laya.Event.CLICK,this,this.onCheakTab),this.btn_hideBox.off(Laya.Event.CLICK,this,this.onCloseTab),this.btn_font.off(Laya.Event.CLICK,this,this.onEnterMatch),this.backLayer.off(Laya.Event.CLICK,this,this.closeDialog);for(let t=0;t<px;t++)this[`tab${t}`].off(Laya.Event.CLICK,this,this.onTabClick);this.list_token.renderHandler=null,this.list_token.selectHandler=null}onEnterMatch(){this.isEntering||this.roomData&&(this.isEntering=!0,qa.goPvpArenaScene(this.roomData.roomType,this.roomData.ticketType[this.roomIndex],this.roomData.ticketAmount[this.roomIndex]),Laya.timer.once(3e3,this,()=>{this.isEntering=!1}))}onCheakTab(){mt.getTokenData()&&(this.img_token_pad.visible=!0,this.btn_hideBox.visible=!0)}onCloseTab(){this.img_token_pad.visible&&(this.btn_hideBox.visible=!1,this.img_token_pad.visible=!1)}onTabClick(t){mt.getTokenData()&&(this.updateTabsAppearance(t),this.roomType=TA[t],this.updateRoomData())}updateTabsAppearance(t){for(let r=0;r<px;r++){let s=this[`tab${r}`],o=s.getChildByName("tf_tit"),l=t===r;s.skin=l?$w.selected[r]:$w.unselected[r],o.strokeColor=l?qw.selected:qw.unselected}}updateRoomData(){let r=(q.m_dicRoom?.values).filter(s=>s.roomType==this.roomType);r.length!==0&&(this.roomData=r[0],this.list_token.array=this.roomData.ticketType,this.list_token.selectedIndex=0,this.updateTokenInfo(0))}updateTokenInfo(t){this.roomIndex=t;let r=mt.getTokenData().find(s=>s.symbolId==this.roomData.ticketType[t]);r&&(this.tf_coin.text=r.symbol,this.img_coin.skin=J.getCurrencyIcon(this.roomData.ticketType[t]),this.tf_number.text=String(this.roomData.ticketAmount[t]))}onTokenItemRender(t,r){t&&t.onChange&&(t.onChange(this.list_token.selectedIndex==r),this.img_token_pad.visible=!1,this.btn_hideBox.visible=!1)}handleSelectToken(t){t!=-1&&this.updateTokenInfo(t)}requestCoinInfo(){let t=b.snake.socket.MessageType.MSG_QUERY_TOKEN;ve.send(t)}onRequestInfo(t,r){let s=_e.getMsgBody(t,b.snake.socket.SC_QUERY_TOKEN);r==b.snake.socket.MessageCode.SYS_NORMAL&&this.onTabClick(0)}setOpenData(t){}closeDialog(){this.close()}};py=N([LA("NM3GHDnJRD6AnD7XkkQaig")],py);var my=class extends Laya.Scene{};var yo=class{constructor(e=0,t="",r=0,s=0,o=0,l=1){this.id=e,this.content=t,this.priority=r,this.startTime=s,this.endTime=o,this.type=l}isValid(e){return this.startTime===0&&this.endTime===0?!0:this.startTime>0&&this.endTime===0?e>=this.startTime:this.startTime===0&&this.endTime>0?e<=this.endTime:e>=this.startTime&&e<=this.endTime}};var ju=class{static pushNotice(e){k.event(w.EVENT_NEW_NOTICE,e)}static startAutoPush(e=6e4){let t=["","nake","V1.2.5","2:00-4:00","2"];Laya.timer.loop(e,null,()=>{let r=Math.floor(Math.random()*t.length),s=t[r];this.pushNotice(s)})}static stopAutoPush(){Laya.timer.clearAll(null)}static clearAllNotices(){Nr.clearNotices()}};var{regClass:CA}=Laya,Ln=class extends my{constructor(){super(...arguments);this.isAnimationRunning=!1;this.currIconAni=1}onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP,U.playerDto.club==""?(this.btn_guildCreate.visible=!0,this.btn_guild.visible=!1):(this.btn_guild.visible=!0,this.btn_guildCreate.visible=!1),this.initSpineEvent(),this.initMarquee(),this.initBagInfo()}async onOpened(t){this.startBackgroundAnimation(),this.mouseThrough=this.mouseThrough=!0,this.headBox.mouseThrough=!0;let r=this.getChildByName("mcMain");if(r&&(r.mouseThrough=!0),this.updateTopInfo(),this.updateModeBoxLayout(),Qe.sendCustumEvent(34),!!U.playerDto){var o=null;showChatBtn(!0,Ge.walletAddress,o),Ln.hasTestedNodesThisSession||(console.log(""),Ln.hasTestedNodesThisSession=!0,this.testNodeDelays()),Nr.setInMainScene(!0)}}startBtnAni(){this.currIconAni>5&&(this.currIconAni=1),this["spine_"+this.currIconAni].play(0,!1),this["spine_"+this.currIconAni].visible=!0,this.currIconAni++,Laya.timer.once(2e3,this,this.startBtnAni)}updateTopInfo(){let t=U.playerDto;if(!t)return;this.tf_roleName.text=st.fitTextToLabel(t.name,this.tf_roleName),t.needTip=!0,this.playerIcon.dataSource=t,this.tf_lv.text=`${t.lv}`;let r=q.getLevelById(t.lv);this.prog_exp.value=t.exp/r.needExp,console.log("playerDto.exp / levelItem.needExp"+t.exp/r.needExp);let s=new Date(U.m_serverTime);console.log("server time toLocaleString"+s.toLocaleString()),console.log("server time offset date"+U.timeZoneOff/60/60)}onGetRoleInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_REQUEST_INFO);if(r==b.snake.socket.MessageCode.SYS_NORMAL){var o=s.roleInfo;console.log("",o)}}onEnable(){for(let t=1;t<3;t++)this["btn_"+t].on(Laya.Event.CLICK,this,this.onClickTab,[t]);for(let t=1;t<=4;t++)this[`btn_join_${t}`].on(Laya.Event.CLICK,this,this.joinRoomClick,[t]);this.playerIcon.on(Laya.Event.CLICK,this,this.onClickHead),this.btn_shop.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_shop]),this.btn_guild.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_guild]),this.btn_guildCreate.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_guildCreate]),this.btn_backpack.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_backpack]),this.btn_asset.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_asset]),this.btn_mail.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_mail]),this.btn_setting.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_setting]),this.btn_rank.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_rank]),this.btn_node.on(Laya.Event.CLICK,this,this.showNodeBox),this.backLayer.on(Laya.Event.CLICK,this,this.hideNodeBox),this.btn_1.on(Laya.Event.CLICK,this,this.showJoinBox),this.btn_closeJoin.on(Laya.Event.CLICK,this,this.hideJoinBox),k.on("msg_"+b.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onGetRoleInfo),k.on(w.ROLE_INFO_CHANGE,this,this.updateTopInfo),k.on("msg_"+b.snake.socket.MessageType.MSG_PACK_INFO,this,this.onPackInfo),k.on(w.EVENT_ENTER_MATCH_ROOM,this,this.onEnterMatchRoom),k.on(w.EVENT_CHANGE_NODE,this,this.initNodeList),k.on(w.EVENT_NEW_NOTICE,this,this.onReceiveNewNotice),k.on(w.EVENT_MARQUEE_EMPTY,this,this.onMarqueeEmpty),k.on(w.EVENT_NEW_NOTICE_ADDED,this,this.onNewNoticeAdded),k.on(w.ROLE_INFO_CHANGE,this,this.updateModeBoxLayout),this.initNodeList(),Laya.timer.loop(1e4,this,this.startPing),this.updateModeBoxLayout(),console.log("GlobalDataManager.playerDto.club"+U.playerDto.club)}onClickTab(t){t==2}onReceiveNewNotice(t){console.log(":",t)}initSpineEvent(){let t;U.playerDto.club==""||!U.playerDto.club?(t=this.btn_guildCreate,this.initSpineLoadEvent(this.AniSk_guild,this.btn_guildCreate)):(t=this.btn_guild,this.initSpineLoadEvent(this.AniSk_guild2,this.btn_guild)),this.initSpineLoadEvent(this.AniSk_shop,this.btn_shop),this.initSpineLoadEvent(this.AniSk_backpack,this.btn_backpack),this.initSpineLoadEvent(this.AniSk_asset,this.btn_asset),this.initSpineLoadEvent(this.AniSk_rank,this.btn_rank),this.initSpineLoadEvent(this.AniSk_btn1,this.btn_1),this.initSpineLoadEvent(this.AniSk_btn2,this.btn_2)}async onclickBtnHandler(t){switch(t){case this.btn_shop:qe.setCurrentScene(ge.M_SCENE_SHOP);break;case this.btn_backpack:qe.setCurrentScene(ge.M_SCENE_KNAPSACK);break;case this.btn_setting:qe.setCurrentScene(ge.M_SCENE_SETTING);break;case this.btn_asset:qe.setCurrentScene(ge.M_SCENE_ASSET);break;case this.btn_rank:qe.setCurrentScene(ge.M_SCENE_RANK);break;case this.btn_guild:console.log("GlobalDataManager.playerDto.club"+U.playerDto.club),qe.setCurrentScene(ge.M_SCENE_CLUB);break;case this.btn_guildCreate:console.log("GlobalDataManager.playerDto.club"+U.playerDto.club),De.intance.openModule(L.CreateClubDialog);break;case this.btn_mail:qe.setCurrentScene(ge.M_SCENE_MAIL);break;default:Me.notice(P.getLanguage(52));break}}onHideList(){this.Img_tele.visible=!1,Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.onHideList)}async onClickHead(){qe.setCurrentScene(ge.M_SCENE_ROLE)}onDisable(){for(let t=1;t<3;t++)this["btn_"+t].off(Laya.Event.CLICK,this,this.onClickTab);for(let t=1;t<=4;t++)this[`btn_join_${t}`].off(Laya.Event.CLICK,this,this.joinRoomClick);this.playerIcon.off(Laya.Event.CLICK,this,this.onClickHead),this.btn_node.off(Laya.Event.CLICK,this,this.showNodeBox),this.backLayer.off(Laya.Event.CLICK,this,this.hideNodeBox),this.btn_1.off(Laya.Event.CLICK,this,this.showJoinBox),this.btn_closeJoin.off(Laya.Event.CLICK,this,this.hideJoinBox),k.off("msg_"+b.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onGetRoleInfo),k.off(w.ROLE_INFO_CHANGE,this,this.updateTopInfo),k.off(w.EVENT_ENTER_MATCH_ROOM,this,this.onEnterMatchRoom),k.off(w.EVENT_CHANGE_NODE,this,this.initNodeList),k.off("msg_"+b.snake.socket.MessageType.MSG_PACK_INFO,this,this.onPackInfo),k.off(w.ROLE_INFO_CHANGE,this,this.updateModeBoxLayout),k.off(w.EVENT_NEW_NOTICE,this,this.onReceiveNewNotice),k.off(w.EVENT_MARQUEE_EMPTY,this,this.onMarqueeEmpty),k.off(w.EVENT_NEW_NOTICE_ADDED,this,this.onNewNoticeAdded),this.stopBackgroundAnimation(),this.destroySpineEventListeners(),this.destroySpineAnimations(),Laya.timer.clearAll(this),Nr.setInMainScene(!1),ju.stopAutoPush(),Laya.timer.clear(this,this.startPing),showChatBtn(!1),k.offAllCaller(this),Laya.Tween.clearAll(this)}destroySpineAnimations(){for(let t=1;t<8;t++){let r=this["spine_"+t];r&&(r.stop(),r.removeSelf())}}onEnterMatchRoom(t){t?Laya.timer.once(2e3,this,this.startBtnAni):Laya.timer.clear(this,this.startBtnAni)}startBackgroundAnimation(){!this.isAnimationRunning&&this.bgAni&&(this.isAnimationRunning=!0,It.startCircleAnimation(this.bgAni,Laya.stage.width/2,Laya.stage.height/2,30,3500,!0,0,null))}stopBackgroundAnimation(){this.isAnimationRunning&&this.bgAni&&(this.isAnimationRunning=!1,It.stopCircleAnimation(this.bgAni))}onSpineReady(t){if(!t){console.warn("Button component is null in onSpineReady");return}t==this.btn_guildCreate&&console.log("spine == this.btn_guildCreate"),t.skin="",t==this.btn_guild&&(U.playerDto.club==""||!U.playerDto.club?this.AniSk_guild2&&this.AniSk_guild2.play("animation2",!0):this.AniSk_guild2&&this.AniSk_guild2.play("animation1",!0))}getSpineNode(t){return t?t.box_sk?t.box_sk:(console.warn("Spine skeleton node is null in AniSk component"),null):(console.warn("AniSk component is null"),null)}initSpineLoadEvent(t,r){if(!t||!r){console.warn("Invalid parameters in initSpineLoadEvent");return}let s;if(t===this.AniSk_guild2)s=this.AniSk_guild2;else if(t===this.AniSk_guild)s=this.AniSk_guild;else if(this.isAniSk(t))s=this.getSpineNode(t);else{console.warn("Unknown spine animation type");return}s&&(s.off(Laya.Event.READY,this,this.onSpineReady),s.on(Laya.Event.READY,this,this.onSpineReady,[r]))}destroySpineEventListeners(){let t;U.playerDto.club==""?t=this.btn_guildCreate:t=this.btn_guild,[{anisk:this.AniSk_guild,button:t},{anisk:this.AniSk_shop,button:this.btn_shop},{anisk:this.AniSk_backpack,button:this.btn_backpack},{anisk:this.AniSk_asset,button:this.btn_asset},{anisk:this.AniSk_rank,button:this.btn_rank},{anisk:this.AniSk_btn1,button:this.btn_1},{anisk:this.AniSk_btn2,button:this.btn_2}].forEach(({anisk:s,button:o})=>{if(s&&o)if(this.isAniSk(s)){let l=this.getSpineNode(s);l&&l.off(Laya.Event.READY,this,this.onSpineReady)}else s===this.AniSk_guild2?this.AniSk_guild2&&this.AniSk_guild2.off(Laya.Event.READY,this,this.onSpineReady):s===this.AniSk_guild&&this.AniSk_guild&&this.AniSk_guild.off(Laya.Event.READY,this,this.onSpineReady)})}isAniSk(t){return t&&"box_sk"in t}showNodeBox(){if(!this.nodeBox){console.warn("nodeBox is not defined in MainScene");return}if(!this.btn_node){console.warn("btn_node is not defined in MainScene");return}this.testNodeDelays(),this.backLayer.visible=!0,this.nodeBox.scaleX=0,this.nodeBox.scaleY=0,this.nodeBox.visible=!1;let t=this.btn_node.localToGlobal(new Laya.Point(this.btn_node.width/2,this.btn_node.height/2));t.x+=90,t.y+=20;let r=this.nodeBox.parent;if(!r){console.warn("nodeBox parent is null");return}let s=r.globalToLocal(t);this.nodeBox.pos(s.x,s.y),It.startElasticPopupAnimation(this.nodeBox,150,1.1,100,.95,80,Laya.Handler.create(this,()=>{console.log("NodeBox show animation complete")}))}hideNodeBox(){if(!this.nodeBox){console.warn("nodeBox is not defined in MainScene for hiding");return}It.startLinearShrinkAnimation(this.nodeBox,80,Laya.Handler.create(this,()=>{this.backLayer.visible=!1,console.log("NodeBox hide animation complete")}))}initNodeList(){let t=q.m_dicNodes.values,r=U.nodeId,s;for(let o=0;o<t.length;o++)if(t[o].id===r){s=t[o];break}if(s){let o=q.m_dicCountry.get(s.area);o&&(this.tf_nowNodeFlag.skin=J.getNodeIcon(o.id),this.tf_nowNodeFlag2.skin=J.getCountryIcon(o.id)),this.tf_nowNode.text=P.getLanguage(s.name),this.tf_nowNode2.text=P.getLanguage(s.name);let l=t.filter(p=>p.id!==r);this.NodeList.array=l;let u=s.url;U.currentNodeUrl=u}else this.NodeList.array=t;this.startPing()}showJoinBox(){this.joinBox.scaleX=0,this.joinBox.scaleY=0,this.btn_closeJoin.visible=!1,this.img_guangTop.visible=!0,this.backLayer.visible=!0,this.backLayer.off(Laya.Event.CLICK,this,this.hideNodeBox),this.joinBox.visible=!0,this.updateModeBoxLayout(),Laya.Tween.to(this.joinBox,{scaleX:1.15,scaleY:1.15},200,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(this.joinBox,{scaleX:1,scaleY:1},60,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.btn_closeJoin.visible=!0,this.backLayer.on(Laya.Event.CLICK,this,this.hideNodeBox)}))}))}joinRoomClick(t){switch(this.hideJoinBox(),t){case 1:De.intance.openModule(L.JoinRoomDialog,t);break;case 2:U.playerDto.club!==""&&U.playerDto.club!==void 0?qe.setCurrentScene(ge.M_SCENE_CLUB):De.intance.openModule(L.CreateClubDialog);break;case 3:qa.goAiArenaScene();break;case 4:break}}hideJoinBox(){this.btn_closeJoin.visible=!1,Laya.Tween.to(this.joinBox,{scaleX:1.15,scaleY:1.15},50,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(this.joinBox,{scaleX:.2,scaleY:.2},200,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.joinBox.visible=!1,this.backLayer.visible=!1,this.img_guangTop.visible=!1}))}))}startPing(t=!1){setTimeout(()=>{if(window.requestIdleCallback)window.requestIdleCallback(()=>this.executePing(t),{timeout:1e3});else{let s=0,o=l=>{requestAnimationFrame(()=>{++s>=3?l():o(l)})};o(()=>this.executePing(t))}},t?1e3:2e3)}executePing(t=!1){let r=U.currentNodeUrl||"https://wss-room-sg.queengame.io/test-ping";this.pingServerLite(r).then(s=>{k.event(w.EVENT_Game_Delay,s),(this.nodeBox&&this.nodeBox.visible||t)&&this.updateNodeListDelays()}).catch(s=>{})}pingServerLite(t){return new Promise(r=>{if(!t){r(9999);return}let s=new Image,o=Date.now(),l=!1,u=setTimeout(()=>{l||(l=!0,r(9999))},5e3),p=()=>{if(!l){clearTimeout(u),l=!0;let d=Date.now()-o;r(d)}};s.onload=p,s.onerror=p;let m=`?_t=${Date.now()}&r=${Math.random()}`;s.src=t+m})}updateNodeListDelays(){if(!this.NodeList||!this.NodeList.array||this.NodeList.array.length===0)return;let t=this.NodeList.array,r=(s,o,l)=>{if(s>=t.length)return;let u=Math.min(s+o,t.length);t.slice(s,u).forEach((m,d)=>{m&&m.url&&setTimeout(()=>{this.pingServerLite(m.url).then(f=>{this.updateNodeItemDelay(s+d,f)}).catch(()=>{this.updateNodeItemDelay(s+d,9999)})},d*100+Math.random()*50)}),setTimeout(()=>{r(u,o,l)},l)};setTimeout(()=>{r(0,2,1e3)},1500)}async testNodeDelays(){await new Promise(u=>setTimeout(u,2e3));let t=q.m_dicNodes.values;if(!t||t.length===0){console.log("");return}let r=[],s=2,o=800,l=u=>new Promise(p=>{let m=0;u.forEach(d=>{d&&d.url&&d.open===1?setTimeout(()=>{this.pingServerLite(d.url).then(f=>{if(r.push({nodeId:d.id,url:d.url,delay:f}),console.log(` ${d.id} (${d.name}) : ${f}ms`),this.NodeList&&this.NodeList.array&&this.NodeList.array.length>0){let y=this.NodeList.array.findIndex(x=>x.id===d.id);y!==-1&&this.updateNodeItemDelay(y,f)}}).catch(()=>{if(r.push({nodeId:d.id,url:d.url,delay:9999}),this.NodeList&&this.NodeList.array&&this.NodeList.array.length>0){let g=this.NodeList.array.findIndex(y=>y.id===d.id);g!==-1&&this.updateNodeItemDelay(g,9999)}}).finally(()=>{m++,m>=u.length&&p()})},Math.random()*200):(m++,m>=u.length&&p())}),u.length===0&&p()});for(let u=0;u<t.length;u+=s){let p=t.slice(u,u+s);await l(p),u+s<t.length&&await new Promise(m=>setTimeout(m,o))}if(r.length>0){r.sort((p,m)=>p.delay-m.delay);let u=r[0];if(u.delay<9999)console.log(`: ${u.nodeId}: ${u.delay}ms`),U.nodeId=u.nodeId,U.currentNodeUrl=u.url;else{console.warn("1001"),U.nodeId=1001;let p=t.find(m=>m.id===1001);p&&p.url?U.currentNodeUrl=p.url:U.currentNodeUrl="https://wss-room-sg.queengame.io/test-ping"}}}initMarquee(){if(!this.runBox||!this.tf_run1){console.warn("");return}Nr.init(this.runBox,this.tf_run1,2),Nr.setMaxPlayCount(2),Nr.hasNotices()?this.marqueeBox.visible=!0:this.marqueeBox.visible=!1}getMarqueeNotices(){let t=Date.now(),s=[new yo(1,"SnakeSnakeSnake",1,0,0,1),new yo(2,"V1.2.5V1.2.5V1.2.5",2,0,0,1),new yo(3,"",3,0,0,2),new yo(4,"2:00-4:002:00-4:002:00-4:00",4,0,0,3)].filter(l=>l.isValid(t));s.sort((l,u)=>u.priority-l.priority);let o=s.map(l=>l.content);o.length>0&&Nr.addNotices(o)}async fetchMarqueeNoticesFromServer(){try{}catch(t){console.error(":",t)}}updateNodeItemDelay(t,r){let s=this.NodeList.getCell(t);s&&s.setDelay&&s.setDelay(r)}onMarqueeEmpty(){this.marqueeBox&&(this.marqueeBox.visible=!1)}onNewNoticeAdded(){this.marqueeBox&&(this.marqueeBox.visible=!0)}initBagInfo(){let t=b.snake.socket.MessageType.MSG_PACK_INFO;ve.send(t)}onPackInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_PACK_INFO);if(r===b.snake.socket.MessageCode.SYS_NORMAL){an.updateKnapsackItems(s.items);let o=s.items.find(l=>l.itemId===10001);o&&(console.log(o),this.tf_score.text=`${parseFloat(o.num.toFixed(4)).toString()}`)}}updateModeBoxLayout(){let t=U.playerDto.club!==""&&U.playerDto.club!==void 0;if(this.modeBox_2&&(this.modeBox_2.visible=t),!t&&this.middleBox){let u=this.middleBox.width/2-841/2+255/2;this.modeBox_1&&(this.modeBox_1.x=u),this.modeBox_3&&(this.modeBox_3.x=u+255+38),this.modeBox_4&&(this.modeBox_4.x=u+(255+38)*2)}else this.modeBox_1&&(this.modeBox_1.x=130.5),this.modeBox_2&&(this.modeBox_2.x=415.5),this.modeBox_3&&(this.modeBox_3.x=703.5),this.modeBox_4&&(this.modeBox_4.x=988.5)}};Ln.M_B_FIRST_Open=!0,Ln.hasTestedNodesThisSession=!1,Ln=N([CA("pxhiJrX5SkKKvyFr8uIlNA")],Ln);var Tn=class{constructor(){}};Tn.GREEN="#2ac84b",Tn.YELLOW="#e8c833",Tn.RED="#e04343";var hy=class extends Laya.Box{};var{regClass:AA}=Laya,dy=class extends hy{constructor(){super()}onEnable(){k.on(w.EVENT_Game_Delay,this,this.onGameDelay)}onGameDelay(e){var t=q.getGeneralValueById(6),r=t[0],s=t[1];this.tf_delay.text=e+"ms",e>s?(this.img_delay.skin="res/common/comm/img_xh1.png",this.tf_delay.color=Tn.RED):e>r?(this.img_delay.skin="res/common/comm/img_xh2.png",this.tf_delay.color=Tn.YELLOW):(this.img_delay.skin="res/common/comm/img_xh3.png",this.tf_delay.color=Tn.GREEN)}onDisable(){k.off(w.EVENT_Game_Delay,this,this.onGameDelay)}};dy=N([AA("AhgzWGWoRFetvSMsEOSkSg")],dy);var fy=class extends Laya.Box{};var{regClass:MA}=Laya,gy=class extends fy{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.changeNode)}set dataSource(t){if(super.dataSource=t,!t)return;this.nodeItem=t,this.tf_country.text=P.getLanguage(t.name);let r=q.m_dicCountry.get(t.area);this.img_flag.skin=J.getCountryIcon(r.id),this.tf_delay.text="100ms"}changeNode(){U.nodeId=this.nodeItem.id,k.event(w.EVENT_CHANGE_NODE)}setDelay(t){this.tf_delay&&(t>=9999?(this.tf_delay.text="",this.tf_delay.color="#FF0000"):t>500?(this.tf_delay.text=t+"ms",this.tf_delay.color="#FF0000"):t>200?(this.tf_delay.text=t+"ms",this.tf_delay.color="#FFFF00"):(this.tf_delay.text=t+"ms",this.tf_delay.color="#00FF00"))}};gy=N([MA("PayHrcvHRHadv1wSa6XTzA")],gy);var by=class extends Laya.Box{};var{regClass:RA}=Laya,yy=class extends by{constructor(){super();this.showAdd=!1;this.isAddEvent=!1}createChildren(){super.createChildren()}addEvent(){this.isAddEvent||(this.on(Laya.Event.CLICK,this,this.toDetail),this.isAddEvent=!0)}set dataSource(t){super.dataSource=t,this.playerDto=t,this.playerDto&&(this.addEvent(),this.setCurrentOutPut())}set headSkin(t){parseInt(t)>0?this.img_head.skin=J.getPlayerIcon(t):this.setImage(t)}async setCurrentOutPut(){if(!this.playerDto)return;let t=this.playerDto.icon;parseInt(t)>0?this.img_head.skin=J.getPlayerIcon(t):this.setImage(t)}setImage(t){this.clearImage();var r=this;Laya.loader.load(t,Laya.Handler.create(this,()=>{r.destroyed||(this.img_head.skin=t)}),null,Laya.Loader.IMAGE,-1,!0,"1111",!1,!1)}clearImage(){this.img_head&&(this.img_head.texture=null)}destroy(t=!0){this.clearImage(),super.destroy(t)}toDetail(){!this.playerDto||this.playerDto.needTip}};yy=N([RA("OPT5t2CoSmuYp2zUJWwUWA")],yy);var _y=class extends Laya.Dialog{};var{regClass:BA}=Laya,xy=class extends _y{constructor(){super();this.m_iLayerType=Z.M_TOP;this.m_iPositionType=Z.CENTER}onEnable(){Laya.Tween.to(this.backLayer,{alpha:1},200,Laya.Ease.linearIn),It.startElasticPopupAnimation(this.allBox,150,1.1,100,.95,80),this.btn_ok.on(Laya.Event.CLICK,this,this.close)}setOpenData(t){if(t){console.log(":",t);let r=t.items[0],s=r.itemId,o=r.num,l=q.m_dicItems.get(s);this.img_icon.skin=J.getItemIcon(l.icon),this.tf_num.text=`+${o}`}}onDisable(){}};xy=N([BA("gNPNtfC8SYW_NR7gSnpNlg")],xy);var vy=class extends Laya.Box{};var{regClass:DA}=Laya,Iy=class extends vy{set dataSource(t){if(super.dataSource=t,t){let r=mt.getTokenDataBySyId(t);this.tf_data.text=r.symbol,this.img_coin.skin=J.getCurrencyIcon(r.symbolId)}}onDisable(){}onChange(t){t?(this.selectImg.visible=!0,this.tf_data.color="#ffffff"):(this.tf_data.color="#357cc0",this.selectImg.visible=!1)}};Iy=N([DA("7DyPeY0BQZaSycl2nmV5qg")],Iy);var ky=class extends Laya.Box{};var{regClass:OA}=Laya,_o=class extends ky{constructor(){super();this.isReady=!1;this.needChangeAni=!0;this.loop=!0;this.isInited=!1}onEnable(){this.sk=this.box_sk,this.sk.on(Laya.Event.READY,this,this.onSkReady),this.sk.loop=this.loop,console.log("onEnable: + this.animationName "+this.animationName),this.animationName&&(this.sk.animationName=this.animationName),this.spineTemplet?(this.sk.templet=this.spineTemplet,console.log("onEnable: + this.spineTemplet ")):this.templateUrl?Laya.loader.load(this.templateUrl,Laya.Loader.SPINE).then(t=>{this.destroyed||(this.sk.templet=t,console.log("this.templateUrl: "+this.templateUrl))}):this.animationName||(this.sk.animationName="animation"),this.isInited=!0}onSkReady(){this.isReady=!0,console.log("onSkReady this.visible: "+this.visible)}play(t,r,s,o,l,u,p){if(!this.isReady){console.log("play");return}this.sk.play(t,r,s,o,l,u,p)}stop(){if(!this.isReady){console.log("stop");return}this.sk.stop()}init(t,r="animation",s=!0){console.log("init: ",r,t),this.animationName=r,this.spineTemplet=t,this.loop=s,this.visible=!0,this.isInited&&(this.animationName&&(this.sk.animationName=this.animationName),this.sk.templet=this.spineTemplet)}initUrl(t,r="animation",s=!0){console.log("initUrl: ",t),this.animationName=r,this.templateUrl=t,this.loop=s,this.visible=!0,this.isInited&&Laya.loader.load(this.templateUrl,Laya.Loader.SPINE).then(o=>{this.destroyed||(this.animationName&&(this.sk.animationName=this.animationName),this.sk.templet=o,console.log("this.templateUrl: "+this.templateUrl))})}onDisable(){Laya.Pool.recover(_o.aniSkPrefab,this),this.box_sk.off(Laya.Event.READY,this,this.onSkReady),this.sk.templet=null}};_o.aniSkPrefab="aniSkPrefab",_o=N([OA("2rJV0EbMT9K2L6-6HOpDHw")],_o);var vs=class i{static toFixed(e,t){if(e.toString().indexOf(".")==-1)return e;{let r=e.toFixed(t);return parseFloat(r)}}static toFixedWithPercent(e,t,r="+"){let s;return e.toString().indexOf(".")==-1?s=r+e*100+"%":(t=t-2,t<0&&(t=0),s=r+(e*100).toFixed(t)+"%"),s}static getGoldStr(e){let t;return e>999999?t=parseInt(String(e/1e5))+"m":t=e,t}static numStringFormat(e){let t=e;return U.m_strLanguage==2?e.length>4&&(t=String(e).replace(/(\d)(?=(\d{3})+$)/g,"$1 ")):t=String(e).replace(/(\d)(?=(\d{3})+$)/g,"$1,"),t}static numSimple(e){let t=e,r=parseInt(parseInt(t)/1e3+"");return r>0?r+"k":i.numStringFormat(t)}static numStringFormat2(e){let t;if(e>999999)t=i.getNumStr(e,1e6,"M");else if(e>999)t=i.getNumStr(e,1e3,"K");else return e+"";return t}static getNumStr(e,t,r){return parseInt(Math.floor(e/t)+"")+r}static getTimeStr(e){let t;return e<3600?t=P.getLanguage(9024,Math.ceil(e/60)):e<3600*24?t=P.getLanguage(9025,Math.ceil(e/3600)):t=P.getLanguage(9025,Math.ceil(e/(3600*24))),t}static isInteger(e){return e%1===0}static isNumber(e){return typeof e=="number"}static formatNumber(e,t=8){return Number.isInteger(e)?e:parseFloat(e.toFixed(t))}static formatNumberStr(e,t=2){return Number.isInteger(e)?e:parseFloat(e.toFixed(t)).toString()}static filterNumFormat(e,t=2,r=!1,s=!1){if(!e)return e;if(e<1e3&&e>0)if(s){var o=Math.floor(Number(parseFloat(e*10**t+"").toPrecision(16)))/10**t;return parseFloat(o.toFixed(t)).toString()}else return parseFloat(e.toFixed(t)).toString();if(e==="0.00")return e;var l=[{value:1,symbol:""},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"}];r&&(l=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"}]);var u=/\.0+$|(\.[0-9]*[1-9])0+$/,p;for(p=l.length-1;p>0&&!(e>=l[p].value);p--);let m=(e/l[p].value).toString();return m.indexOf(".")>-1&&(t>0?m=m.substr(0,m.indexOf(".")+t+1):m=m.substr(0,m.indexOf(".")+t)),m.replace(u,"$1")+l[p].symbol}static fromWei(e,t,r=0){if(!e)return 0;let s=e.length-t+r;if(s<=0)return 0;let o=e.toString().slice(0,s);if(r){let l=o.length-r;if(l<=0){let u="0.";for(let p=0;p<Math.abs(l);p++)u+="0";o=u+o}else o=o.slice(0,o.length-r)+"."+o.slice(o.length-r)}return o}static getNumberSuffix(e){let t=parseInt(e,10);return isNaN(t)?e:(t%1e9).toString()}};var Sy=class extends Laya.Box{};var{regClass:NA}=Laya,wy=class extends Sy{constructor(){super();this.showAdd=!1;this.isAddEvent=!1}addEvent(){this.isAddEvent||(this.isAddEvent=!0)}set dataSource(t){super.dataSource=t,this.itemVo=t,this.itemVo&&(this.addEvent(),this.setCurrentOutPut())}async setCurrentOutPut(){if(!this.itemVo)return;this.itemVo.m_iId==Ye.TYPE_QUAN_MNT?(this.tf_quanId.visible=!0,this.tf_quanId.text=this.itemVo.m_iPk):this.tf_quanId.visible=!1;let t=this.itemVo.itemItem;De.intance.hasOpenView(L.PveChoosePropsDialog)&&(this.txt_num.visible=!1),this.itemVo?(this.showAdd?this.txt_num.text=""+vs.formatNumber(this.itemVo.newAddCnt,8):this.itemVo.m_iNum?this.txt_num.text=""+vs.formatNumber(this.itemVo.m_iNum,8):this.txt_num.text=""+vs.formatNumber(this.itemVo.newAddCnt,8),this.img_icon.skin=this.itemVo.iconURL,this.img_box.skin="gameIcon/items/itemBg/img_"+this.itemVo.quality+".png"):(this.txt_num.text="",this.img_icon.skin=null,this.img_box.skin="gameIcon/items/itemBg/img_0.png"),this.tf_isSch.visible=this.itemVo.isScholarship}};wy=N([NA("LzxJYKybT_m3CJav3RyDmg")],wy);var Ey=class extends Laya.Dialog{};var{regClass:FA}=Laya,Ly=class extends Ey{constructor(){super(...arguments);this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}setOpenData(t){if(t){this.itemVo=t;let r=this.itemVo.m_iId,s=q.m_dicItems.get(r);this.item.dataSource=this.itemVo,this.tf_name.text=this.itemVo.itemName,s?(this.txt_type.text=P.getLanguage(6060)+P.getLanguage(s.type),this.txt_desc.text=P.getLanguage(s.des),this.txt_desc.visible=s.des!==0):(this.txt_type.text="",this.txt_desc.text="")}}removeEvent(){}};Ly=N([FA("or8jNdIhRpSbAG2JBhH-wA")],Ly);var Ty=class extends Laya.Dialog{};var{regClass:PA}=Laya,Cy=class extends Ty{constructor(t){super();this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}onEnable(){Xe.playSoundByName(Xe.soundName32)}setOpenData(t){t&&(this.reward=t);var r=[],s=this.reward;s.forEach(m=>{if(m.id&&m.id>0){var d=new wi(m.id);d.newAddCnt=m.count,m.id==3011&&(d.itemItem.icon=m.id),r.push(d)}});var o=this.list_reward.spaceX,l=this.list_reward.itemTemplate.width,u=r.length;this.list_reward.repeatX=u;var p=u*l+o*(u-1);this.list_reward.width=p,this.list_reward.x=this.width-p>>1,this.list_reward.array=r}};Cy=N([PA("xwYUFnd4S3uJGIJSjjbRag")],Cy);var Ay=class extends Laya.Scene{};var mx=class i{constructor(){this.comIdMap=new Map}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){this.comIdMap.set(b.snake.socket.MessageType.MSG_PLAYER_OPR,"CS_"),this.comIdMap.set(b.snake.socket.MessageType.MSG_AI_ENTER,"CS_"),this.comIdMap.set(b.snake.socket.MessageType.MSG_NOTICE_ENTER,"SS_");for(let t in b.snake.socket.MessageType)if(isNaN(Number(t))){let r=b.snake.socket.MessageType[t],s="";var e=this.comIdMap.get(r);if(e)if(!e.endsWith("_"))s=e;else{let l=this.comIdMap.get(r),u=t.substring(4);s=l+u}else{let l="SC_",u=t.substring(4);s=l+u}let o=b.snake.socket[s];o&&Laya.ClassUtils.regClass(r+"",o)}}},Yw=mx.getInstance();var{regClass:UA}=Laya,Qa=class extends Ay{constructor(){super(...arguments);this.isLogout=!1;this.m_nProgress=0}onAwake(){Laya.loader.on(Laya.Event.ERROR,this,this.onError),Laya.loader.load(["res/loading/progress_load1.png","res/loading/progress_load1$bar.png"]).then(()=>{this.createUI(),this.initBasic()})}onError(t){console.log(": "+t)}createUI(){Xe.init(),Xe.playMusicByName(Xe.soundName_bg,".mp3"),k.on(w.EVENT_BACK_TO_LOGIN,this,this.backToLogin),k.on(w.EVENT_LOGIN_GAME_END,this,this.loginGameEnd),k.on(w.EVENT_ENTER_MAIN,this,this.loginCallBack),P.FGM_GetLanguage();var t=getGameVersion();this.txtLoad.text=t,console.log("VERSION: "+t);let r=new ln;r.ID=1,r.Event=" "+t,Qe.sendCustumEvent(1,null,r)}initBasic(){Yw.init(),Z.instence.init(),st.initParms(),this.initLoad()}initLoad(){this.onAssetLoaded()}onAssetLoaded(){this.loadingProcess=.05,this.m_nProgress=.05,It.startRotationAnimation(this.img_circle,2e3,!0),Laya.timer.once(500,this,()=>{this.loadFirstBatch()});let t=Laya.timer.loop(1e3,this,this.onLoading,[this.m_nProgress])}loadFirstBatch(){qe.init(),this.m_nProgress=.15,this.loadingProcess=.15,Laya.timer.once(800,this,()=>{this.loadSecondBatch()})}loadSecondBatch(){De.intance.init(),this.m_nProgress=.3,this.loadingProcess=.3,Laya.timer.once(1e3,this,()=>{this.loadThirdBatch()})}loadThirdBatch(){U.init(),J.init(),this.m_nProgress=.5,this.loadingProcess=.5,Laya.timer.once(1e3,this,()=>{this.loadFinalBatch()})}loadFinalBatch(){let t=new ln;t.ID=3,t.Event="",Qe.sendCustumEvent(3,null,t),this.m_nProgress=.8,this.loadingProcess=.8}set loadingProcess(t){if(!(this.mcProcess&&t<this.mcProcess.value)){t>1&&(t=1),t<.05&&(t=.05),this.mcProcess.value=t,this.txtProcess.text=Math.floor(t*100)+"%";var r=t*this.mcProcess.width-70;r<0&&(r=0)}}backToLogin(){Laya.timer.clear(this,this.onLoading),this.m_nProgress=0,Laya.loader.load(J.m_arrInitResource,Laya.Handler.create(this,this.getLoginData),Laya.Handler.create(this,this.onLoading2,null,!1))}getLoginData(){Qe.sendCustumEvent(7),this.readyInitGame()}readyInitGame(){if(this.isLogout){k.event(w.EVENT_LOADING_SUC);return}this.mcProcess&&(this.loadingProcess=.9,Laya.timer.once(500,this,()=>{this.loadingProcess=1,Laya.timer.once(300,this,()=>{q.init(),re.isWhite?this.loginGame():this.onGetNotice()})}))}async onGetNotice(){Laya.loader.maxLoader=50,this.loginGame()}async loginGame(){k.event(w.EVENT_LOADED_COMPLETE),await Ge.init(),await Ge.dappLogin(),Ee.initMove()}async loginGameEnd(t){if(lt.showLoading(!0),Qe.sendCustumEvent(8),Qe.sendCustumEvent(22),!t){De.intance.openModule(L.NoServerView);return}t.loginState==1?(console.log("have no regist"),Qe.sendCustumEvent(23),De.intance.openModule(L.CreateLoginView)):(Qe.sendCustumEvent(30),t.playerDto?(Qe.sendCustumEvent(31),console.log("registed "+t.playerDto.name),U.playerDto=t.playerDto,this.loginCallBack()):(Qe.sendCustumEvent(32),console.log("getRegisted error"),Me.notice(P.getLanguage(29))))}async loginCallBack(){console.log("loginCallBack++++++++++++++++++++++++++++++++"),re.vType==2&&re.Debug==0&&(Laya.Browser.window.console.log=function(){}),U.initData(),lt.hideLoading();var t=U.playerDto;if(t.roomId>0){let r=await St.requestPost("wxgame/room/info",{roomId:t.roomId});Ee.roomDto=r.roomDto,r.roomDto?t.roomState==10?je.initSocket():De.intance.openModule(L.EnterRoomView):Me.notice(P.getLanguage(29))}else ae.logs("",5),Qe.sendCustumEvent(33),It.stopCircleAnimation(this.img_circle),qe.setCurrentScene(ge.M_SCENE_MAIN)}onLoading(t){let r=this.mcProcess?this.mcProcess.value:0,s=.01;this.m_nProgress<.15?s=.02:this.m_nProgress<.3?s=.015:this.m_nProgress<.5?s=.01:this.m_nProgress<.8?s=.005:s=.001,this.m_nProgress+=s,this.m_nProgress<r&&(this.m_nProgress=r),this.m_nProgress>.8&&(this.m_nProgress=.8),this.mcProcess&&t>this.mcProcess.value&&(this.loadingProcess=this.m_nProgress)}onLoading2(t){this.mcProcess&&(this.loadingProcess=0+t*1.1)}removeEvent(){k.off(w.EVENT_BACK_TO_LOGIN,this,this.backToLogin),k.off(w.EVENT_LOGIN_GAME_END,this,this.loginGameEnd),k.off(w.EVENT_ENTER_MAIN,this,this.loginCallBack)}};Qa.m_iState=1,Qa=N([UA("xmaaYG8AQ1yC07pr_JvyPA")],Qa);var My=class extends Laya.Box{};var{regClass:HA}=Laya,Ry=class extends My{constructor(){super();this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER}onEnable(){console.log("OpenScene onEnable"+this.m_strName)}getName(){console.log(this.m_strName)}onDisable(){}};Ry=N([HA("sQS5mrqRQLWcBk-SgfBGJw")],Ry);var By=class extends Laya.Box{};var{regClass:zA}=Laya,Dy=class extends By{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.toRead)}set dataSource(t){if(super.dataSource=t,this.rewardItem=t,!this.rewardItem){this.visible=!1;return}let r=q.m_dicItems.get(this.rewardItem.itemId);if(!r){this.visible=!1;return}r.icon<1e3?this.img_icon.skin=J.getSnakeIcon(r.icon):this.img_icon.skin=J.getItemIcon(r.icon),this.tf_num.text=`x${this.rewardItem.num}`}toRead(){}};Dy=N([zA("cVATpJOeQgeVQnaU8vno-g")],Dy);var Oy=class extends Laya.Scene{};var{regClass:jA}=Laya,Ny=class extends Oy{onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onOpened(t){}onEnable(){this.mailList.visible=!1,this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),k.on("msg_"+b.snake.socket.MessageType.MSG_MAIL_LIST,this,this.onGetRoleInfo),k.on("msg_"+b.snake.socket.MessageType.MSG_MAIL_DELETE,this,this.onDeleteResult),k.on("msg_"+b.snake.socket.MessageType.MSG_MAIL_CHECK,this,this.onReadResult),It.startJellyScaleAnimation(this.tf_tittle),this.requestAllMailData(),this.mailList.selectHandler=new Laya.Handler(this,this.handleSelectMail),this.btn_delete.on(Laya.Event.CLICK,this,this.deleteMail),this.btn_receive.on(Laya.Event.CLICK,this,this.onReceiveClick),k.on("msg_"+b.snake.socket.MessageType.MSG_MAIL_GET,this,this.onMailGetBack)}requestAllMailData(t=1){let r=b.snake.socket.MessageType.MSG_MAIL_LIST;ve.send(r)}onGetRoleInfo(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_MAIL_LIST);r==b.snake.socket.MessageCode.SYS_NORMAL&&s&&(this.mailList.array=s.mail,this.mailList.visible=!0,this.mailData=s.mail,this.checkReadNum(),s.mail.length>0?(this.box_1.visible=!1,this.box_2.visible=!0,this.mailList.selectedIndex=0):(this.box_1.visible=!0,this.box_2.visible=!1))}checkReadNum(){let r=`${this.mailData.filter(s=>s.read===!0).length}/${this.mailData.length}`;this.tf_read.text=P.getLanguage(20,r)}handleSelectMail(t){this.mailIndex=t;let r=this.mailData[t];this.tf_des.text=r.content;let s=vt.formatDayAndTime(r.sendTime);if(this.tf_time.text=`${s.date} ${s.time}`,this.tf_title.text=r.title,this.tf_from.text=P.getLanguage(21,r.sendName),r.items&&r.items.length>0?(this.rewardList.array=r.items,this.rewardList.visible=!0,this.btn_receive.visible=!r.get):(this.rewardList.visible=!1,this.btn_receive.visible=!1),r.read==!1){let o=b.snake.socket.MessageType.MSG_MAIL_CHECK,l=b.snake.socket.CS_MAIL_CHECK.fromObject({mailId:r.mailId});ve.send(o,l)}}onDeleteResult(t,r){r===b.snake.socket.MessageCode.SYS_NORMAL&&(this.mailList.array=this.mailData,this.mailData.length===0&&(this.box_1.visible=!0,this.box_2.visible=!1),Me.notice(""),this.mailData.splice(this.mailIndex,1),this.mailList.array=this.mailData,this.checkReadNum(),this.handleSelectMail(this.mailIndex))}onReadResult(t,r){if(r===b.snake.socket.MessageCode.SYS_NORMAL){let s=this.mailData[this.mailIndex];this.mailList.array=this.mailData,s.read=!0,this.checkReadNum()}}deleteMail(){if(this.mailIndex>=0&&this.mailData&&this.mailData.length>0){let t=this.mailData[this.mailIndex],r=b.snake.socket.MessageType.MSG_MAIL_DELETE,s=b.snake.socket.CS_MAIL_DELETE.fromObject({mailId:t.mailId});ve.send(r,s)}}removeEvent(){this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene)}setToMainScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}onReceiveClick(){if(this.mailIndex==-1)return;let t=b.snake.socket.MessageType.MSG_MAIL_GET,r=this.mailData[this.mailIndex],s=b.snake.socket.CS_MAIL_GET.fromObject({mailId:r.mailId});ve.send(t,s)}onMailGetBack(t,r){if(r==b.snake.socket.MessageCode.SYS_NORMAL){Me.notice("");var s=_e.getMsgBody(t,b.snake.socket.SC_MAIL_GET);console.log(s);let o=this.mailList.array.find(l=>l.mailId===s.mailId);o&&(o.get=!0,this.handleSelectMail(this.mailIndex))}}onDisable(){k.off("msg_"+b.snake.socket.MessageType.MSG_MAIL_LIST,this,this.onGetRoleInfo),k.off("msg_"+b.snake.socket.MessageType.MSG_MAIL_DELETE,this,this.onDeleteResult),k.off("msg_"+b.snake.socket.MessageType.MSG_MAIL_CHECK,this,this.onReadResult),k.off("msg_"+b.snake.socket.MessageType.MSG_MAIL_GET,this,this.onMailGetBack),this.removeEvent(),this.btn_delete.off(Laya.Event.CLICK,this,this.deleteMail),this.btn_receive.off(Laya.Event.CLICK,this,this.onReceiveClick)}};Ny=N([jA("25JYfnFtTzq1ju1OR6_GLQ")],Ny);var Fy=class extends Laya.Box{};var{regClass:GA}=Laya,Py=class extends Fy{constructor(){super()}onEnable(){}set dataSource(t){super.dataSource=t,this.mailItem=t,this.mailItem&&(this.tf_title.text=this.mailItem.title,this.tf_from.text=this.mailItem.sendName,this.img_red.visible=!this.mailItem.read,this.tf_time.text=vt.formatTimeAgoFromTimestamp(this.mailItem.sendTime))}};Py=N([GA("3h2PsGTIQV6ilXcpYeJ0cQ")],Py);var Uy=class extends Laya.Box{};var{regClass:VA}=Laya,Li=class extends Uy{init(e,t,r=28){var s,o;switch(o=ft.getRandInRound(-30,30),t?s=Li.TYPE_Kill:s=Li.TYPE_Normal,t?this.pos(o,-180):this.pos(o,-110),this.alpha=1,this.scale(1,1),this.tf_damage.visible=!1,this.box_crit.visible=!1,s){case Li.TYPE_Normal:this.tf_damage.text="+"+e,this.showNormalDamageEffect();break;case Li.TYPE_Kill:this.showCriticalDamageEffect();break}}showNormalDamageEffect(){this.tf_damage.visible=!0,Laya.Tween.to(this,{y:this.y-50,alpha:0},1e3,Laya.Ease.linearNone,Laya.Handler.create(this,this.onComplete))}showCriticalDamageEffect(){this.box_crit.visible=!0,this.scale(.2,.2),Laya.Tween.to(this,{scaleX:1.3,scaleY:1.3,alpha:1,y:this.y-70},500,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(this,{scaleX:1,scaleY:1,alpha:0},500,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{this.onComplete()}))}))}onComplete(){this.removeSelf()}onDisable(){Laya.Pool.recover("damageNumber",this)}};Li.WHITE="#FFFFFF",Li.ORANGE="#FFA500",Li.RED="#FF0000",Li.GREEN="#119c09",Li.BLUE="#78cefd",Li.TYPE_Normal="Normal",Li.TYPE_Kill="Kill",Li=N([VA("nHp6WKzZRIWvyhguidEfqg")],Li);var Hy=class extends Laya.Dialog{};var{regClass:WA}=Laya,zy=class extends Hy{constructor(){super()}onEnable(){this.list.visible=!1;var e=Ee.msgEndbody,t=e.token;this.list.renderHandler=new Laya.Handler(this,(r,s)=>{r.setDataIndex(s)}),this.list.array=t,this.list.visible=!0,!t||t.length<=0?this.noDataBox.visible=!0:this.noDataBox.visible=!1}onDisable(){}};zy=N([WA("JH3DtUPTS_2FR6dTzhLHMw")],zy);var jy=class extends Laya.Box{};var{regClass:KA}=Laya,Gy=class extends jy{constructor(){super()}addEvent(){}set dataSource(e){if(super.dataSource=e,!e){this.visible=!1;return}this.setData(e),this.addEvent()}setData(e){var t=e.split(","),r=t[1],s=t[2],o=t[3],l=t[4];this.tf_time.text=vt.formatTimeStamp(Number.parseFloat(t[0]),"HH:MM:SS"),this.img_country.skin=J.getCountryIcon(r),this.tf_nickName.text=s;let u=q.m_dicItems.get(o),p=P.getLanguage(u.name);this.tf_token.text=l+" "+p}setDataIndex(e){this.bg.skin=e%2===0?"res/common/comm/img_wzbg_1.png":"res/common/comm/img_wzbg_2.png"}};Gy=N([KA("po6_Uf6sTlaC-xEazLOk5Q")],Gy);var Vy=class extends Laya.Dialog{};var{regClass:$A}=Laya,Wy=class extends Vy{constructor(){super(...arguments);this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_PANEL;this.m_iPositionType=Z.CENTER}onEnable(){k.on("msg_"+b.snake.socket.MessageType.MSG_AI_END,this,this.onAiEnd),Xe.playSoundByName(Xe.soundName_win),this.btn_next.on(Laya.Event.CLICK,this,this.onNext),this.btn_home.on(Laya.Event.CLICK,this,this.setToAirdropScene),this.btn_help.on(Laya.Event.CLICK,this,this.onNext),Qe.sendCustumEvent(43)}onHelp(){ae.commTipWithYes(P.getLanguage("HELP"))}onNext(){this.setToAirdropScene()}setToAirdropScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}setOpenData(t){var r=t[0];this.btn_next.visible=!0,this.list_reward.visible=!1;var s,o;this.list_reward.vScrollBarSkin="",this.roomGameOverPush=Ee.msgEndbody,this.tf_rank.text=`${this.roomGameOverPush.rank}`,this.tf_score.text=`${this.roomGameOverPush.score}`,this.fontClip_kill.getComponent(wn).startIncrement(this.roomGameOverPush.kills,1,1),this.fontClip_length.getComponent(wn).startIncrement(this.roomGameOverPush.length,1,1),this.fontClip_challengeDuration.getComponent(wn).startIncrement(this.roomGameOverPush.alive,1,3),r==Pe.ARENA_TYPE_PVP?(s=this.roomGameOverPush.items,o=this.roomGameOverPush.token,this.onSetReward(s,o)):Yi.sendAiEnd(this.roomGameOverPush.kills,this.roomGameOverPush.score);let m=mt.getTokenDataBySyId(10);console.log("tokenData===========>",m)}onSetReward(t,r){var s=[],o=new Ne;t&&t.length>0&&t.forEach(f=>{var g=o.get(f.itemId);g?g.newAddCnt=g.newAddCnt+f.num:(g=new wi(f.itemId),g.newAddCnt=f.num,s.push(g),o.set(f.itemId,g))}),r&&r.length>0&&r.forEach(f=>{var g=f.split(","),y=g[1],x=g[2],E=g[3],_=g[4],S=parseInt(E),M=parseFloat(_),O=o.get(S);O?O.newAddCnt=O.newAddCnt+M:(O=new wi,O.type=zt.TYPE_TOKEN,O.m_iId=S,O.newAddCnt=M,s.push(O),o.set(S,O))});var l=this.list_reward.spaceX,u=this.list_reward.itemTemplate.width,p=s.length,m=p*u+l*(p-1);this.list_reward.repeatX=p,this.list_reward.width=m,this.btn_next.visible=!0,this.list_reward.x=this.box_outside.width-this.list_reward.width>>1,this.list_reward.array=s,this.list_reward.visible=!0,!this.list_reward.array||this.list_reward.array.length<=0?this.noDataBox1.visible=!0:this.noDataBox1.visible=!1;let d=-1;this.list_reward.selectedIndex=d}onAiEnd(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_AI_END),o=s,l=o.items;this.onSetReward(l,[])}onDisable(){this.removeEvent()}removeEvent(){k.off("msg_"+b.snake.socket.MessageType.MSG_AI_END,this,this.onAiEnd)}};Wy=N([$A("y-nP_lRrQVef9uttVJ0rDw")],Wy);var Ky=class extends Laya.Box{};var{regClass:qA}=Laya,$y=class extends Ky{constructor(){super();this.isAddEvent=!1}addEvent(){this.isAddEvent||(this.isAddEvent=!0)}set dataSource(t){this.snake=t,!(!this.snake||!this.snake.tag)&&(this.addEvent(),this.setCurrentOutPut())}setCurrentOutPut(){this.snake.tag&&(this.tf_rank.text=this.snake.rankNum+".  "+Dr.abbreviateString(this.snake.tag.userName));var t=0;Ee.matchDto.arenaType==Pe.ARENA_TYPE_PVE?t=this.snake.getScore(!1):t=this.snake.getScore(!0),this.snake.rankNum==1?this.tf_kill.text=`<font><img src='res/match2/img_phb_icon2.png'/>${t}</font>`:this.tf_kill.text=`<font>${t}</font>`,this.snake.isSelf?(this.tf_rank.color="#ffe155",this.tf_kill.color="#ffe155"):(this.tf_rank.color="#ffffff",this.tf_kill.color="#ffffff")}};$y=N([qA("XTVFXeI_R768e0Elv_ePAA")],$y);var qy=class extends Laya.Dialog{};var{regClass:YA}=Laya,Yy=class extends qy{constructor(){super(...arguments);this.m_strName="OpenSceneRuntime";this.m_iLayerType=Z.M_PANEL;this.m_iPositionType=Z.CENTER;this.canClose=!1}onEnable(){this.tf_tittle.text=P.getLanguage(47)}onDisable(){}};Yy=N([YA("8HZEMq_0TP2txNQ9o3uv3w")],Yy);var Qy=class extends Laya.Box{};var{regClass:QA}=Laya,Xy=class extends Qy{constructor(){super();this.showAdd=!1;this.isAddEvent=!1;this.oriScale=1}onEnable(){this.oriScale=this.knapsackItem.img_icon.scaleX}createChildren(){super.createChildren()}addEvent(){this.isAddEvent||(this.on(Laya.Event.CLICK,this,this.toDetail),this.isAddEvent=!0)}set dataSource(t){super.dataSource=t,this.itemVo=t,this.itemVo&&(this.addEvent(),this.setCurrentOutPut())}async setCurrentOutPut(){if(this.itemVo)if(this.itemVo.m_iId==Ye.TYPE_REWARD_TOKEN)this.img_tokens.visible=!0,this.knapsackItem.visible=!1;else{this.img_tokens.visible=!1,this.knapsackItem.visible=!0,this.knapsackItem.showAdd=!0,this.knapsackItem.dataSource=this.itemVo;var t=this.oriScale;this.itemVo.type==zt.TYPE_TOKEN&&(t=this.oriScale*.8),this.knapsackItem.img_icon.scale(t,t)}}toDetail(){!this.itemVo||!this.itemVo.needTip||(this.itemVo.m_iId==Ye.TYPE_REWARD_TOKEN?De.intance.openModule(L.MatchEndRewardTokensDialog):this.itemVo.type===zt.TYPE_Equipment?De.intance.openModule(L.EquipDetailDialog,this.itemVo):De.intance.openModule(L.KnapsackTipDialog,this.itemVo))}};Xy=N([QA("WXpxCvqlQ2mKdcJCYlqOeg")],Xy);var Zy=class extends Laya.Box{};var{regClass:XA}=Laya,Jy=class extends Zy{constructor(){super();this.isBig=!1}set dataSource(t){super.dataSource=t,this.skillItem=t,this.skillItem&&(this.txt_num.text="",this.img_icon.skin=J.getMatchSkillIcon(this.skillItem.icon))}};Jy=N([XA("iwuFUCOEQRyOjxpy6IkQ2Q")],Jy);var e_=class extends Laya.Button{};var{regClass:ZA}=Laya,t_=class extends e_{constructor(){super();this.isAddEvent=!1;this.isCanClick=!0;this.skillCooldown=5e3;this.thisGlobalCooldown=1e4;this.globalCooldown=1e4;this.remainingSkillCooldown=0;this.remainingGlobalCooldown=0;this.reduceCooldown=0}onEnable(){this.addEvent()}addEvent(){this.isAddEvent||(k.on(w.EVENT_CLICK_NUM,this,this.onNumberClick),k.on(w.EVENT_UPDATE_ITEM_SKILL_COOL,this,this.updateItemRemainCooldown),k.on(w.EVENT_UPDATE_GLOBAL_COOL,this,this.updateGlobalCooldown),k.on(w.EVENT_UPDATE_REDECE_COOL,this,this.updateReduceCooldown),this.isAddEvent=!0,this.on(Laya.Event.CLICK,this,this.onSkillButtonClick),this.on(Laya.Event.MOUSE_UP,this,this.onSkillButtonUp))}onNumberClick(t){t==this.keyNum&&this.onSkillButtonClick(null)}set dataSource(t){super.dataSource=t,this.skillItem=t[0],this.itemItem=t[1],this.equipPos=t[2],this.count=t[3],this.skillItem&&(this.addEvent(),this.setCurrentOutPut())}async setCurrentOutPut(){this.skillItem&&(this.skillIconItem.isBig=this.skillItem.icon=="1001",this.skillIconItem.dataSource=this.skillItem,this.itemItem?(this.txt_num.visible=!0,this.updateCount(),this.skillCooldown=this.itemItem.cd*1e3):(this.txt_num.visible=!1,this.skillCooldown=this.skillItem.cd),this.thisGlobalCooldown=this.skillItem.commCd,Laya.timer.frameLoop(1,this,this.updateCooldown))}onSkillButtonUp(t){t&&t.stopPropagation(),Ei.clearClickFilter(this)}onSkillButtonClick(t){t&&t.stopPropagation()}updateSkillCooldown(t){this.remainingSkillCooldown=t}updateItemRemainCooldown(t){var r=t[0];console.log("updateItemRemainCooldown _skillId: "+r),this.itemItem&&r==this.skillItem.id&&(this.count=t[1],this.updateCount(),this.updateSkillCooldown(this.skillCooldown))}updateCount(){this.txt_num.text=this.count+"",this.disabled=!this.count}updateReduceCooldown(t,r){console.log("updateReduceCooldown skillType: "+t),this.skillItem&&t==this.skillItem.type&&(this.reduceCooldown=this.skillCooldown*r)}updateGlobalCooldown(t){this.itemItem||(this.globalCooldown=t,this.remainingGlobalCooldown=t)}updateCooldown(){if(this.remainingSkillCooldown+this.reduceCooldown>0){this.remainingSkillCooldown-=Laya.timer.delta;let t=(this.remainingSkillCooldown+this.reduceCooldown)/1e3;this.txt_time.text=t.toFixed(1),this.updateCooldownMask(this.skillCooldownMask,(this.remainingSkillCooldown+this.reduceCooldown)/this.skillCooldown,"#000000"),this.img_djs.visible=!0,this.txt_time.visible=!0}else this.img_djs.visible=!1,this.txt_time.visible=!1;this.remainingGlobalCooldown+this.reduceCooldown>0?(this.remainingGlobalCooldown-=Laya.timer.delta,this.updateCooldownMask(this.globalCooldownMask,(this.remainingGlobalCooldown+this.reduceCooldown)/this.globalCooldown,"#00000036"),this.globalCooldownMask.visible=!0):this.globalCooldownMask.visible=!1,this.skillIconItem.gray=this.remainingSkillCooldown+this.reduceCooldown>0||this.remainingGlobalCooldown+this.reduceCooldown>0}updateCooldownMask(t,r,s){let o=this.width/2,l=this.width/2,u=this.height/2;t.graphics.clear(),t.graphics.drawPie(l,u,o,-90+360*(1-r),270,s)}onDisable(){k.off(w.EVENT_UPDATE_ITEM_SKILL_COOL,this,this.updateItemRemainCooldown),k.off(w.EVENT_UPDATE_GLOBAL_COOL,this,this.updateGlobalCooldown),k.off(w.EVENT_UPDATE_REDECE_COOL,this,this.updateReduceCooldown),k.offAllCaller(this),Laya.timer.clearAll(this)}};t_=N([ZA("x6t-z1VuR52yXWju0qxGBg")],t_);var i_=class extends Laya.Dialog{};var{regClass:JA}=Laya,r_=class extends i_{constructor(){super();this.canClose=!0}onEnable(){this.btn_refresh.on(Laya.Event.CLICK,this,this.onRefresh),this.alertDesc.on(Laya.Event.LINK,this,this.onLink)}onLink(t){console.log(""+t)}onRefresh(){Qe.reload()}setOpenData(t){if(t){var r=t[0];if(t.length>2?(this.alertTitle.text=t[1],this.alertDesc.text=t[2]):this.alertDesc.text=t[1],r==1){this.canClose=!1;var s=this.getChildByName("close");s.visible=!1,this.btn_refresh.visible=!0}else this.btn_refresh.visible=!1;this.alertDesc.height=this.alertDesc.textField.textHeight+20}}onDisable(){}close(t){this.canClose&&super.close(t)}};r_=N([JA("xATCTfSDSkaGtuYn669ofQ")],r_);var n_=class extends Laya.Dialog{};var{regClass:e2}=Laya,s_=class extends n_{constructor(){super()}onEnable(){this.img_show.on(Laya.Event.CLICK,this,this.close)}setOpenData(e){e&&(this.img_show.skin=e)}onDisable(){}};s_=N([e2("RUMV5hpfRdCRzhO9yBDCzg")],s_);var o_=class extends Laya.Dialog{};var{regClass:t2}=Laya,a_=class extends o_{constructor(){super();this.canClose=!0}onEnable(){this.btn_refresh.on(Laya.Event.CLICK,this,this.onRefresh),this.alertDesc.on(Laya.Event.LINK,this,this.onLink),this.btn_left.on(Laya.Event.CLICK,this,this.onChangePage,[!1]),this.btn_right.on(Laya.Event.CLICK,this,this.onChangePage,[!0])}onLink(t){console.log(""+t)}onRefresh(){Qe.reload()}setOpenData(t){if(t){var r=t[0],s=t[1];if(this.list=s.list,this.pageNo=1,this.pageTotal=this.list.length,this.pageTotal<2&&(this.box_page.visible=!1),this.updatePageList(),r==1){this.canClose=!1;var o=this.getChildByName("close");o.visible=!1,this.btn_refresh.visible=!0}else this.btn_refresh.visible=!1}}async onChangePage(t){if(t)this.pageNo++;else{if(this.pageNo<=1)return;this.pageNo--}this.updatePageList()}updatePageList(){this.txt_page.text=this.pageNo+"/"+this.pageTotal,this.btn_left.disabled=this.pageNo<=1,this.btn_right.disabled=this.pageNo>=this.pageTotal,this.setNoticeDetail()}setNoticeDetail(){if(this.pageNo){var t=this.list[this.pageNo-1];t&&(this.alertTitle.text=P.getMultiLan(t.title),this.alertDesc.text=P.getMultiLan(t.contents))}}onDisable(){}close(t){this.canClose&&super.close(t)}};a_=N([t2("iB7UvqEcQ1GFKaVEIy6Bmw")],a_);var l_=class extends Laya.Box{};var{regClass:i2}=Laya,c_=class extends l_{};c_=N([i2("ON5bkSuKSE2gwPDUnRGmrw")],c_);var u_=class extends Laya.Box{};var{regClass:r2}=Laya,p_=class extends u_{onEnable(){}notice(e){this.zOrder=1e7;let t=e;this.label_tf.text=t,this.label_tf.x=68,this.image_bg.width=68*2+this.label_tf.textField.textWidth,t.length/45>1&&(this.image_bg.height=this.label_tf.textField.textHeight+55),this.alpha=1,this.visible=!0}get view(){return this}get width(){return this.image_bg.width}onDisable(){console.log("txtNotice recover"),Laya.Pool.recover("txtNotice",this)}};p_=N([r2("Nm27xWbYSG6mj-EXqPOZ_A")],p_);var m_=class extends Laya.Box{};var{regClass:n2}=Laya,h_=class extends m_{constructor(){super()}onEnable(){this.btn_copy.on(Laya.Event.CLICK,this,this.copyAddress)}set dataSource(t){if(super.dataSource=t,!t){this.visible=!1;return}this.tf_address.text=st.shortenString(t.addr,6,4),this.PlayerIcon.headSkin=t.icon,this.tf_name.text=t.userName,this.tf_num.text=t.num,this.address=t.addr;let r=this.parent?.parent?.array?.indexOf(t)??0;this.img_bg.visible=r%2===1,this.tf_rank.text=`${r+1}`,this.img_flag.skin=J.getCountryIcon(t.country),r<3?(this.img_title.visible=!0,this.tf_rank.visible=!1,this.img_title.skin=`res/rank/img_b${r+1}.png`):(this.img_title.visible=!1,this.tf_rank.visible=!0)}copyAddress(){this.address&&(doCopy(this.address),Me.notice(P.getLanguage(19)))}};h_=N([n2("ILpWxZ9qRRiahqxWqEMA9g")],h_);var d_=class extends Laya.Scene{};var{regClass:s2}=Laya,f_=class extends d_{constructor(){super(...arguments);this.currentTabIndex=0;this.allRankData=new Map}onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onEnable(){this.RankList.visible=!1;for(let t=0;t<3;t++)this["tab"+t].on(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),It.startJellyScaleAnimation(this.tf_tittle),k.on("msg_"+b.snake.socket.MessageType.MSG_REQUEST_RANK,this,this.onRankListReceived),this.onTabClick(0)}setTab(t){for(let r=1;r<3;r++)t==r?(this["btn_"+r].getChildByName("selectBox1").visible=!0,this["btn_"+r].getChildByName("selectBox2").visible=!1):(this["btn_"+r].getChildByName("selectBox1").visible=!1,this["btn_"+r].getChildByName("selectBox2").visible=!0)}setToMainScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}removeEvent(){for(let t=0;t<3;t++)this["tab"+t].off(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene),k.off("msg_"+b.snake.socket.MessageType.MSG_REQUEST_RANK,this,this.onRankListReceived)}onTabClick(t){this.currentTabIndex=t;let r=3,s="res/common/comm/img_tab1.png",o="res/common/comm/img_tab2.png",l="#427030",u="#1449cb";for(let p=0;p<r;p++){let m=this[`tab${p}`],d=m.getChildByName("tf_tit"),f=t===p;switch(m.skin=f?s:o,d.strokeColor=f?l:u,t){case 0:this.box_daily.visible=!0,this.box_dailybest.visible=!1,this.box_over.visible=!1;break;case 1:this.box_daily.visible=!1,this.box_dailybest.visible=!0,this.box_over.visible=!1;break;case 2:this.box_daily.visible=!1,this.box_dailybest.visible=!1,this.box_over.visible=!0;break}if(f){let g=t+1;if(this.allRankData.has(g)){let y=this.allRankData.get(g);this.displayRankData(t,y)}else this.requestRankData(g)}}}requestRankData(t){let r=b.snake.socket.MessageType.MSG_REQUEST_RANK,s=b.snake.socket.CS_RANK_LIST.fromObject({type:t});ve.send(r,s)}onRankListReceived(t){let r=_e.getMsgBody(t,b.snake.socket.SC_RANK_LIST);if(console.log(r),!r||!r.rank||r.rank.length===0){this.showEmptyRankTip(),this.noDataBox.visible=!0;return}else this.RankList.visible=!0,this.noDataBox.visible=!1;this.allRankData.set(this.currentTabIndex+1,r.rank),this.displayRankData(this.currentTabIndex,r.rank)}displayRankData(t,r){this.RankList.array=r,this.RankList.visible=!0,this.RankList.refresh(),this.RankList.scrollTo(0)}clearRankList(){[this.box_daily.getChildByName("list_rank"),this.box_dailybest.getChildByName("list_rank"),this.box_over.getChildByName("list_rank")].forEach(r=>{r&&(r.array=[],r.refresh())})}showEmptyRankTip(){this.RankList.visible=!1,this.noDataBox.visible=!0}onDisable(){this.removeEvent()}};f_=N([s2("kxqXjP8sR7OnW67fK0960g")],f_);var g_=class extends Laya.Scene{};var{regClass:o2}=Laya,b_=class extends g_{onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onOpened(t){}onEnable(){for(let t=0;t<3;t++)this["tab"+t].on(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_music_plus.on(Laya.Event.CLICK,this,this.onClickMusicPlus,[!0]),this.btn_music_reduce.on(Laya.Event.CLICK,this,this.onClickMusicPlus,[!1]),this.btn_sound_plus.on(Laya.Event.CLICK,this,this.onClickSoundPlus,[!0]),this.btn_sound_reduce.on(Laya.Event.CLICK,this,this.onClickSoundPlus,[!1]),this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),this.initSettingData(),this.initLanguageData(),It.startJellyScaleAnimation(this.tf_tittle)}setTab(t){for(let r=1;r<3;r++)t==r?(this["btn_"+r].getChildByName("selectBox1").visible=!0,this["btn_"+r].getChildByName("selectBox2").visible=!1):(this["btn_"+r].getChildByName("selectBox1").visible=!1,this["btn_"+r].getChildByName("selectBox2").visible=!0)}initSettingData(){let t=Xe.getMusicVolume();this.prog_music.value=t;let r=Xe.getSoundVolume();this.prog_sound.value=r}setToMainScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}removeEvent(){for(let t=0;t<4;t++)this["tab"+t].off(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene)}onTabClick(t){let s="res/common/comm/img_tab1.png",o="res/common/comm/img_tab2.png",l="#427030",u="#1449cb";for(let p=0;p<3;p++){let m=this[`tab${p}`],d=m.getChildByName("tf_tit"),f=t===p;switch(m.skin=f?s:o,d.strokeColor=f?l:u,t){case 0:this.box_genred.visible=!0,this.box_language.visible=!1,this.box_saciel.visible=!1;break;case 1:this.box_genred.visible=!1,this.box_language.visible=!0,this.box_saciel.visible=!1;break;case 2:this.box_genred.visible=!1,this.box_language.visible=!1,this.box_saciel.visible=!0;break}}}onClickMusicPlus(t){let r=Xe.getMusicVolume(),s=.1;t?r=Math.min(1,r+s):r=Math.max(0,r-s),this.prog_music.value=r,Xe.setMusicVolume(r)}onClickSoundPlus(t){let r=Xe.getSoundVolume(),s=.1;t?r=Math.min(1,r+s):r=Math.max(0,r-s),this.prog_sound.value=r,Xe.setSoundVolume(r)}initLanguageData(){let t=q.m_dicLanguage.values;if(t){let r=t.filter(o=>o.if_open===1);this.list_language.array=r,this.list_language.renderHandler=new Laya.Handler(this,this.handleSelectLanguage),this.list_language.mouseHandler=Laya.Handler.create(this,this.onLanguageItemMouse,null,!1);let s=r.findIndex(o=>o.id===U.m_strLanguage);this.list_language.selectedIndex=s||0}}handleSelectLanguage(t,r){t.onChange(this.list_language.selectedIndex==r)}onLanguageItemMouse(t,r){t.type===Laya.Event.CLICK&&(this.list_language.selectedIndex=r)}onDisable(){for(let t=0;t<3;t++)this[`tab${t}`].off(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_music_plus.off(Laya.Event.CLICK,this,this.onClickMusicPlus,[!0]),this.btn_music_reduce.off(Laya.Event.CLICK,this,this.onClickMusicPlus,[!1]),this.btn_sound_plus.off(Laya.Event.CLICK,this,this.onClickSoundPlus,[!0]),this.btn_sound_reduce.off(Laya.Event.CLICK,this,this.onClickSoundPlus,[!1]),this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene),this.list_language&&this.list_language.mouseHandler.clear(),Laya.timer.clearAll(this)}};b_=N([o2("MqlTAbYeQPe4_9ujUdePSg")],b_);var y_=class extends Laya.Box{};var{regClass:a2}=Laya,__=class extends y_{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.checkSelect)}set dataSource(t){if(this.languageData=t,!t){this.visible=!1;return}this.languageData=t,this.tf_language.text=t.language}checkSelect(){let t=this.languageData.id,r=P.getLanTypeById(t);P.FGM_SetLanguage(r),Qe.reload(),this.event("checkSelect",this.languageData)}onChange(t){console.log("isSelect",t),t?(this.img_btn.skin="res/setup/img_bt1.png",this.tf_language.fontSize=25,this.tf_language.color="#FFFFFF",this.tf_language.stroke=2,this.tf_language.strokeColor="#D26E02"):(this.img_btn.skin="res/setup/img_bt2.png",this.tf_language.fontSize=25,this.tf_language.color="#B8E5FE",this.tf_language.stroke=0)}onDisable(){this.languageData=null}};__=N([a2("SnCse2C4Qiq0GdwkQNE3PA")],__);var x_=class extends Laya.Dialog{};var{regClass:l2}=Laya,v_=class extends x_{constructor(){super();this.m_iLayerType=Z.M_POP;this.m_iPositionType=Z.CENTER;this.addL=1;this.isButtonLocked=!1;this.buttonLockTime=2e3}onEnable(){this.btn_plus.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_plus]),this.btn_reduce.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_reduce]),this.tf_num.on(Laya.Event.BLUR,this,this.changeItemNum),this.btn_buy.on(Laya.Event.CLICK,this,this.onRecruit),k.on("msg_"+b.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),k.on(w.EVENT_REFRESH_ITEM_ONCHAIN_STATUS,this,this.onRefreshItemStatus)}setOpenData(t){if(t){this.shopItem=t;let r=q.m_dicItems.get(this.shopItem.itemId);if(!r)return;this.alertTitle.text=P.getLanguage(r.name),this.tf_price.text=`${this.shopItem.cost} USDT`,this.img_icon.skin=J.getItemIcon(r.icon),this.tf_des.text=P.getLanguage(r.des)}}handleClickBtn(t){switch(t){case this.btn_reduce:this.addL>1&&this.addL--,this.setItemNum();break;case this.btn_plus:this.addL<99999&&this.addL++,this.setItemNum();break}}onRefreshItemStatus(){this.close()}setItemNum(){this.tf_num.text=this.addL+"";let t=new mr(Number(this.shopItem.cost)),r=new mr(this.addL),s=t.multiply(r).getValue();this.tf_price.text=`${s} USDT`}changeItemNum(){var t=parseInt(this.tf_num.text);(!t||t<1)&&(t=1),this.addL=t,this.setItemNum()}onRecruit(){if(this.isButtonLocked)return;this.isButtonLocked=!0;let t=b.snake.socket.MessageType.MSG_SHOP_BUY;if(this.shopItem.id){let r=b.snake.socket.CS_SHOP_BUY.fromObject({id:this.shopItem.id,symbolId:10,num:this.addL});ve.send(t,r)}Laya.timer.once(this.buttonLockTime,this,()=>{this.isButtonLocked=!1})}onBuySuccess(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_SHOP_BUY);r==b.snake.socket.MessageCode.SYS_NORMAL?s&&s.items&&(Me.notice("Purchase successful!"),mt.requestCoinInfo(),this.close()):r==b.snake.socket.MessageCode.NOT_ENOUGH_TOKEN?Me.notice("Not enough tokens!"):Me.notice("Purchase failed!")}onDisable(){this.btn_plus.clickHandler=null,this.btn_reduce.clickHandler=null,this.tf_num.off(Laya.Event.BLUR,this,this.changeItemNum),this.btn_buy.off(Laya.Event.CLICK,this,this.onRecruit),k.off(w.EVENT_REFRESH_ITEM_ONCHAIN_STATUS,this,this.onRefreshItemStatus),k.off("msg_"+b.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),Laya.timer.clearAll(this)}};v_=N([l2("LRfHnCX4RROGq5Y2JkrAZw")],v_);var I_=class extends Laya.Box{};var{regClass:c2}=Laya,k_=class extends I_{constructor(){super(...arguments);this.coins=[[3022,2],[3001,2],[3011,2],[3013,4],[3010,2],[3007,4],[3006,6],[3015,2],[3016,2],[3005,0]]}onEnable(){let t=(Laya.stage.width-re.DESIGN_WIDTH)/2;this.img_coinsBg.right-=t,console.log("dWidth: "+t),this.updateLocalAssets(),k.on(w.ROLE_INFO_CHANGE,this,this.updateLocalAssets),k.on(w.UPDATE_LOCAL_WALLET_LIST_EVENT,this,this.updateLocalAssets),this.coins=q.getGeneralValueById(19),this.list_coin.array=this.coins}onDisable(){k.off(w.ROLE_INFO_CHANGE,this,this.updateLocalAssets),k.off(w.UPDATE_LOCAL_WALLET_LIST_EVENT,this,this.updateLocalAssets)}updateLocalAssets(){this.list_coin.refresh()}};k_=N([c2("7P9MlqipSaG6QoKpQowDbQ")],k_);var S_=class extends Laya.Box{};var{regClass:u2}=Laya,w_=class extends S_{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.toShowBuyDialog)}set dataSource(t){if(super.dataSource=t,this.shopItem=t,!this.shopItem)return;this.tf_const.text=`${this.shopItem.cost} USDT`;let r=q.m_dicItems.get(this.shopItem.itemId);if(!r)return;this.tf_name.text=P.getLanguage(r.name);let s=this.tf_name.height,o=this.tf_name.fontSize;this.tf_name.y=s>o?226:244,this.img_icon.skin=J.getItemIcon(r.icon)}toShowBuyDialog(){De.intance.openModule(L.BuyPropDialog,this.shopItem)}};w_=N([u2("awS07ko0RBaxCnxXWqiR4g")],w_);var E_=class extends Laya.Scene{};var{regClass:p2}=Laya,L_=class extends E_{constructor(){super(...arguments);this.currTab=0;this.type=1;this.selectItemId=-1;this.shopId=1;this.isButtonLocked=!1;this.buttonLockTime=2e3}onAwake(){this.m_iLayerType=Z.M_POP,this.m_iPositionType=Z.UP}onOpened(t){t&&t.length>0?(this.type=t[0],t[1]!=null&&(this.selectItemId=t[1]),this.onClickTab(this.type)):(this.selectItemId=1,this.onTabClick(this.selectItemId))}onEnable(){mt.requestCoinInfo(),It.startJellyScaleAnimation(this.tf_tittle),this.tf_diamon.text=`${parseFloat(U.playerDto.score.toFixed(4)).toString()}`;for(let t=0;t<4;t++)this["tab"+t].on(Laya.Event.CLICK,this,this.onTabClick,[t]);for(let t=1;t<3;t++)this["btn_"+t].on(Laya.Event.CLICK,this,this.onClickTab,[t]);this.initShopList(),k.on("msg_"+b.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),this.btn_left.on(Laya.Event.CLICK,this,this.clickLeftAndRight,[!0]),this.btn_right.on(Laya.Event.CLICK,this,this.clickLeftAndRight,[!1]),this.btn_buy.on(Laya.Event.CLICK,this,this.onRecruit),k.on(w.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate)}setTab(t){for(let r=1;r<3;r++)t==r?(this["btn_"+r].getChildByName("selectBox1").visible=!0,this["btn_"+r].getChildByName("selectBox2").visible=!1):(this["btn_"+r].getChildByName("selectBox1").visible=!1,this["btn_"+r].getChildByName("selectBox2").visible=!0)}async onClickTab(t){this.currTab!=t&&(this.type=t,this.setTab(t),t==1?(this.box_middle.visible=!0,this.tabBox.visible=!0,this.box_shop.visible=!1,this.tf_nft2.stroke=5,this.tf_nft2.fontSize=32,this.tf_props2.stroke=0,this.tf_props2.fontSize=25):t==2&&(this.box_middle.visible=!1,this.tabBox.visible=!1,this.box_shop.visible=!0,this.tf_nft2.stroke=0,this.tf_nft2.fontSize=25,this.tf_props2.stroke=5,this.tf_props2.fontSize=32))}setToMainScene(){qe.setCurrentScene(ge.M_SCENE_MAIN)}removeEvent(){for(let t=0;t<4;t++)this["tab"+t].off(Laya.Event.CLICK,this,this.onTabClick,[t]);for(let t=1;t<3;t++)this["btn_"+t].off(Laya.Event.CLICK,this,this.onClickTab,[t]);this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene),this.btn_left.off(Laya.Event.CLICK,this,this.clickLeftAndRight,[!0]),this.btn_right.off(Laya.Event.CLICK,this,this.clickLeftAndRight,[!1]),this.btn_buy.off(Laya.Event.CLICK,this,this.onRecruit),k.off("msg_"+b.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),k.off(w.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate)}clearAllTimer(){Laya.timer.clearAll(this),this.isButtonLocked=!1}onTabClick(t){let s="res/shop/img_Button_1.png",o="res/shop/img_btlv.png",l="res/shop/img_bt1_2.png",u="res/shop/img_Button_4.png",p="#0785f5";this.snake_sk&&(this.snake_sk.visible=!1),this.clearAllTimer();for(let f=0;f<4;f++){let g=this[`tab${f}`],y=g.getChildByName("tf_tit"),x=t===f,E=f===0;this.selectItemId=t,g.skin=E?x?s:l:x?o:u,y.stroke=x?5:0,y.strokeColor=p;let _=1001,S=101;switch(t){case 0:_=null,S=101,x&&(this.snake_sk.source="gameIcon/spine/shop/snake1/img_she_1.json",this.snake_sk.visible=!0,this.snake_sk&&this.snake_sk.templet&&this.snake_sk.play("animation",!0),this.eggBox.visible=!1);break;case 1:_=1001,S=102,x&&(this.img_egg.visible=!1,this.egg_sk.visible=!0,this.egg_sk&&this.egg_sk.templet&&this.egg_sk.play("animation1",!0),this.eggBox.visible=!0);break;case 2:_=1002,S=103,x&&(this.img_egg.visible=!0,this.egg_sk.visible=!1,this.img_egg.skin="res/shop/img_dan_2.png",this.eggBox.visible=!0);break;case 3:S=null,_=null,S=104,x&&(this.img_egg.visible=!0,this.egg_sk.visible=!1,this.img_egg.skin="res/shop/img_dan_3.png",this.img_egg.visible=!0);break;default:break}if(this.shopId=_,S&&x){var d=q.m_dicSnakes.get(S);let M=this.attribute_1.getChildByName("tf_value"),O=this.attribute_2.getChildByName("tf_value"),j=this.attribute_3.getChildByName("tf_value"),Q=this.attribute_4.getChildByName("tf_value"),V=this.attribute_5.getChildByName("tf_value");d&&(M.text=`${d.initLength/d.intervalBoneToDrawSkin}`,O.text=`${d.maxLength/d.intervalBoneToDrawSkin}`,j.text=`${d.suctionRadius}`,Q.text=`${d.baseSpeed}`,V.text=`${d.accelerationFactor}`)}if(_){let M=q.m_dicShops.get(_);M?(this.tf_price.text=`${M.cost} USDT`,this.btn_buy.visible=!0):this.btn_buy.visible=!1}else this.btn_buy.visible=!1;this.selectItemId<=0?this.btn_left.disabled=!0:this.btn_left.disabled=!1,this.selectItemId>=3?this.btn_right.disabled=!0:this.btn_right.disabled=!1}}clickLeftAndRight(t){t&&this.selectItemId>0&&(this.selectItemId--,this.onTabClick(this.selectItemId)),!t&&this.selectItemId<3&&(this.selectItemId++,this.onTabClick(this.selectItemId))}initShopList(){let t=[],r=q.m_dicShops;r&&r.values&&(t=Array.from(r.values).filter(o=>o.type===2),this.shopList.array=t);let s=an.getKnapsackItemById(10001);s?this.tf_diamon.text=`${parseFloat(s.num.toFixed(4)).toString()}`:this.tf_diamon.text="0"}onBuySuccess(t,r){var s=_e.getMsgBody(t,b.snake.socket.SC_SHOP_BUY);if(r==b.snake.socket.MessageCode.SYS_NORMAL){if(s&&s.items&&(console.log("buySNake============>",s),s.snake&&s.snake.skin)){let o=s.snake.skin-100;this.egg_sk&&this.egg_sk.templet&&this.egg_sk.play("animation2",!1),this.btn_buy.visible=!1;let l=J.getSnakeAniJson(`${o}`);this.snake_sk.source=l,Laya.timer.once(500,this,()=>{this.snake_sk.visible=!0,this.snake_sk&&this.snake_sk.templet&&this.snake_sk.play("animation",!0)}),Laya.timer.once(7e3,this,()=>{this.selectItemId==1&&(this.snake_sk&&(this.snake_sk.visible=!1),this.egg_sk&&this.egg_sk.templet&&this.egg_sk.play("animation1",!0),this.btn_buy.visible=!0)}),mt.requestCoinInfo()}}else r==b.snake.socket.MessageCode.NOT_ENOUGH_TOKEN?Me.notice("Not enough tokens!"):Me.notice("Purchase failed!")}onRecruit(){if(this.isButtonLocked)return;this.isButtonLocked=!0,Laya.timer.once(this.buttonLockTime,this,()=>{this.isButtonLocked=!1});let t=b.snake.socket.MessageType.MSG_SHOP_BUY;var r=q.m_dicSnakes.get(this.shopId);if(console.log(r),this.shopId){let s=b.snake.socket.CS_SHOP_BUY.fromObject({id:this.shopId,symbolId:10,num:1});ve.send(t,s)}}onTokenBalanceUpdate(t){this.showAssetData(t)}showAssetData(t){let r=t.find(l=>l.symbolId===10),s=r?r.balance:0,o=vs.getGoldStr(s);this.tf_usdt.text=`${o}`}onDisable(){this.removeEvent(),this.isButtonLocked=!1}};L_=N([p2("IPCUkD5kRse3Gz5tw0Aovw")],L_);})();
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=bundle.js.map
